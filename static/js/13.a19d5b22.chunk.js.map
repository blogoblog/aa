{"version":3,"sources":["constants/queryKeys.ts","assets/images/arrow-hyperlink.svg","utils/balances.js","pages/Options/constants.ts","assets/images/close.svg","components/DismissableMessage/DismissableMessage.tsx","pages/Options/Home/components/TimeRemaining/TimeRemaining.tsx","utils/contracts/binaryOptionsMarketContract.ts","pages/Options/Market/contexts/BOMContractContext.tsx","assets/images/info-rounded.svg","assets/images/options-line.svg","assets/images/dollar-sign.svg","pages/Options/Market/contexts/MarketContext.tsx","assets/images/exclamation.svg","pages/Options/Market/ChartCard/common.ts","pages/Options/Market/ChartCard/PriceChart/PriceChart.tsx","pages/Options/Market/ChartCard/OptionsChart/OptionsChart.tsx","pages/Options/Market/ChartCard/ChartCard.tsx","assets/images/blocked.svg","pages/Options/Market/TradeCard/components/BidNetworkFees/BidNetworkFees.tsx","pages/Options/Market/TradeCard/common.ts","pages/Options/Market/TradeCard/BiddingPhaseCard/TradeSide.tsx","pages/Options/Market/TradeCard/BiddingPhaseCard/BiddingPhaseCard.tsx","shared/hooks/useLocalStorage.ts","assets/images/clock.svg","pages/Options/Market/TradeCard/components/OptionResult/OptionResult.tsx","pages/Options/Market/TradeCard/components/ResultCard/ResultCard.tsx","components/TxErrorMessage/TxErrorMessage.tsx","pages/Options/Market/TradeCard/TradingPhaseCard/TradingPhaseCard.tsx","assets/images/finish.svg","pages/Options/Market/TradeCard/MaturityPhaseCard/MaturityPhaseCard.tsx","pages/Options/Market/TradeCard/TradeCard.tsx","pages/shared/components/ViewLinkCell/ViewLinkCell.tsx","pages/Options/Market/TransactionsCard/components/TransactionsTable/TransactionsTable.tsx","pages/Options/Market/TransactionsCard/RecentTransactions/RecentTransactions.tsx","pages/Options/Market/TransactionsCard/YourTransactions/YourTransactions.tsx","pages/Options/Market/TransactionsCard/PendingTransactions/PendingTransactions.tsx","pages/Options/Market/TransactionsCard/TransactionsCard.tsx","pages/Options/Market/MarketInfoModal/MarketInfoModal.tsx","pages/Options/Market/Market.tsx","pages/Options/Market/MarketContainer.tsx"],"names":["QUERY_KEYS","Synths","HistoricalRates","currencyKey","period","BinaryOptions","Markets","Market","marketAddress","AccountMarketInfo","accountAddress","RecentTransactions","UserTransactions","walletAddress","UserMarkets","OptionPrices","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","fill","SvgArrowHyperlink","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","getSynthBalancePath","field","getCryptoCurrencyBalancePath","toLowerCase","getCurrencyKeyBalance","balances","isSynth","get","getCurrencyKeyUSDBalanceBN","PHASE","bidding","trading","maturity","expiry","SIDE","long","short","0","1","getPhaseAndEndDate","biddingEndDate","maturityDate","expiryDate","now","Date","phase","timeRemaining","PHASES","_ref3","Container","styled","div","StyledMessage","Message","StyledCloseButton","CloseIcon","DismissableMessage","children","onDismiss","rest","onClick","bodyCSS","theme","colors","fontPrimary","isLabel","css","palette","surfaceL1","red","TimeRemaining","end","onEnded","timeElapsed","endingSoon","Math","abs","differenceInHours","weeksDiff","differenceInWeeks","showRemainingInWeeks","countdownDisabled","useState","timeInterval","setTimeInterval","intervalToDuration","start","duration","setDuration","t","useTranslation","useEffect","useInterval","undefined","formattedDuration","binaryOptionMarketContract","abi","inputs","internalType","name","type","payable","stateMutability","anonymous","indexed","constant","outputs","BOMContractContext","createContext","BOMContractProvider","contract","Provider","value","useBOMContractContext","useContext","fillRule","clipRule","x1","y1","x2","y2","stroke","strokeWidth","MarketContext","MarketProvider","optionsMarket","useMarketContext","ChartContainer","semiTransparent","fonts","regular","green","fontSecondary","NoChartData","GridDivCenteredRow","absoluteCenteredCSS","subtitleSmallCSS","surfaceL3","medium","accentL2","PriceChart","selectedPeriod","ThemeContext","historicalRatesQuery","useQuery","fetchSynthRateUpdate","chartData","isLoading","noChartData","isSuccess","chartColor","hyperlink","fontStyle","fontSize","fontTertiary","fontFamily","fontStyleMedium","minPriceDomain","strikePrice","maxPriceDomain","RechartsResponsiveContainer","data","id","offset","stopColor","stopOpacity","dataKey","tick","axisLine","tickLine","tickFormatter","val","isNumber","periodOverOneDay","PERIOD_IN_HOURS","ONE_DAY","format","domain","min","max","orientation","formatCurrencyWithSign","USD_SIGN","fillOpacity","isAnimationActive","y","strokeDasharray","position","className","cursor","contentStyle","border","borderRadius","backgroundColor","accentL1","itemStyle","textTransform","labelStyle","formatter","labelFormatter","label","Spinner","size","centered","OptionsChart","historicalOptionPriceQuery","address","snxData","binaryOptions","historicalOptionPrice","market","maxTimestamp","trunc","minTimestamp","calculateTimestampForPeriod","useMemo","reverse","CardHeader","Card","Header","CardHeaderRight","GridDivCenteredCol","Periods","Overlays","StyledButton","Button","attrs","OverlayButton","CardHeaderLeft","Price","sectionTitleCSS","ChartCard","PERIOD_LABELS_MAP","setSelectedPeriod","chartType","setChartType","chartProps","Currency","Pair","baseCurrencyKey","baseCurrencyAsset","asset","quoteCurrencyKey","FIAT_CURRENCY_MAP","USD","iconProps","currentPrice","isActive","PERIOD_LABELS","map","i18nLabel","Body","connector","connect","state","exchangeRates","getRatesExchangeRates","gasInfo","getGasInfo","ethRate","getEthRate","GridDivRow","formDataCSS","TooltipContent","TooltipLabel","DataSmall","TooltipContentRow","StyledFlexDiv","FlexDiv","TooltipFeeBlock","gasLimit","fees","amount","gasPrice","networkFee","getTransactionPrice","bidOrRefundFee","creatorFee","poolFee","refundFee","totalCost","Number","Tooltip","formatPercentage","placement","arrow","SelectGasMenu","addPadding","StyledCardHeader","CardContent","isDarkTheme","StyledCardBody","ActionButton","formLabelSmallCSS","PhaseEnd","StyledTimeRemaining","FormInputLabelRow","FlexDivRow","Section","StyledSideIcon","SideIcon","surfaceL2","FormInputLabel","FormInputPriceShiftLabel","highlighted","FormRow","FormControl","FormLabelRow","StyledNumericInput","NumericInput","StyledNumericInputWithCurrency","NumericInputWithCurrency","SideIndication","labelMediumCSS","isHighlighted","CurrentPositionSection","SectionTitle","StyledCurrencyKey","CurrencyKey","SectionBody","MaxButton","button","resetButtonCSS","buttonHover","TradeSide","side","price","onPriceChange","onAmountChange","transKey","currentPosition","priceShift","onMaxClick","amountInputId","priceInputId","htmlFor","SYNTHS_MAP","sUSD","onChange","showIcon","inputProps","SLIPPAGE_THRESHOLD","placeholder","step","formatCurrencyWithKey","bid","payout","mapDispatchToProps","addOptionsPendingTransaction","updateOptionsPendingTransactionStatus","walletBalancesMap","getWalletBalancesMap","isWalletConnected","getIsWalletConnected","currentWalletAddress","getCurrentWalletAddress","getPriceDifference","newPrice","TabButton","TabDisabled","FlexDivCentered","WalletBalance","Title","TradeSides","TradeSideSeparator","WithdrawalsTooltip","withStyles","tooltip","textAlign","PaddedWithdrawalsTooltip","popper","zIndex","padding","tooltipPlacementTop","top","StyledDismissableMessage","accountMarketInfo","longPrice","shortPrice","isResolved","BN","BOMContract","setGasLimit","hasAllowance","setAllowance","isAllowing","setIsAllowing","setType","isBidding","setIsBidding","setPriceShift","longSideAmount","setLongSideAmount","shortSideAmount","setShortSideAmount","longPriceAmount","setLongPriceAmount","shortPriceAmount","setShortPriceAmount","initialValue","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","useLocalStorage","LOCAL_STORAGE_KEYS","BO_WITHDRAWALS_DISABLED_TOOLTIP_DISMISSED","withdrawalsDisabledTooltipDismissedMarkets","setWithdrawalsDisabledTooltipDismissedMarkets","withdrawalsDisabledTooltipDismissed","includes","setSide","pricesAfterBidOrRefundTimer","setPricesAfterBidOrRefundTimer","bidOrRefundForPriceTimer","setBidOrRefundForPriceTimer","bids","claimable","longPosition","shortPosition","isRefund","isBid","isLong","isShort","clearTimeout","sUSDBalance","sUSDBalanceBN","a","snxJSConnector","parseEther","utils","bidOrRefundAmount","toString","BOMContractWithSigner","signer","bidOrRefundFunction","estimate","refund","gasEstimate","normalizeGasLimit","fetchGasLimit","snxJS","allowance","getAllowance","on","APPROVAL_EVENTS","APPROVAL","owner","spender","getAddress","removeAllListeners","handleAllowance","maxInt","repeat","approve","GWEI_UNIT","handleBidOrRefund","tx","optionTransaction","hash","account","wait","then","txResult","transactionHash","status","handleTargetPrice","targetPrice","targetShort","bidOrRefundForPrice","binaryOptionsUtils","setPriceAmountFunction","setSideAmountFunction","bidPrice","estimatedAmountNeeded","bidSide","priceSide","fee","feeBN","refundFeeBN","longBids","totalLongBN","shortBids","totalShortBN","deposited","depositedBN","setTimeout","amountNeeded","setBidPriceAmount","handleBidAmount","pricesAfterBidOrRefund","estimatedPrice","resolved","truePrice","e","handleTypeChange","selectedType","handleSideChange","selectedSide","withdrawalsEnabled","EMPTY_VALUE","BidNetworkFees","open","interactive","disabled","queryCache","invalidateQueries","cx","cy","r","Amount","headingH6CSS","Info","OptionResult","claimableAmount","formatCurrency","Icon","Subtitle","OptionResults","result","exercised","ResultCard","icon","subTitle","longAmount","shortAmount","claimableLongAmount","claimableShortAmount","ErrorMessage","TxErrorMessage","floating","StyledResultCard","StyledCardContent","txErrorMessage","setTxErrorMessage","isClaiming","setIsClaiming","nothingToClaim","buttonDisabled","claimOptions","handleClaim","sharedPendingTxProps","Payout","PayoutTitle","PayoutAmount","headingH4CSS","isExercising","setIsExercising","nothingToExercise","isLongResult","exerciseOptions","handleExercise","accountMarketInfoQuery","binaryOptionsMarketDataContract","getAccountMarketData","bigNumberFormatter","enabled","refetchQueries","BINARY_OPTIONS_EVENTS","BID","REFUND","OPTIONS_CLAIMED","OPTIONS_EXERCISED","sharedProps","networkId","getNetworkId","StyledLink","Link","tableDataSmallCSS","isDisabled","ArrowIcon","ArrowHyperlinkIcon","to","getEtherscanTxLink","isExternal","TransactionsTable","memo","optionsTransactions","noResultsMessage","StyledTableOverflowContainer","StyledTable","columns","accessor","Cell","cellProps","formatTxTimestamp","cell","sortable","row","original","Position","sortType","TableOverflowContainer","Table","transactionsQuery","optionTransactions","noResults","refetchOnWindowFocus","pendingTransactions","getOptionsPendingTransactions","filteredPendingTransactions","filter","StyledCard","CARD_HEIGHT","tabContent","activeTab","setActiveTab","tab","YourTransactions","InfoTables","GridDivCol","TableRow","tr","TableCell","td","TableCellHead","th","tableHeaderLargeCSS","TableCellLabel","TableCellValue","tableDataLargeCSS","table","cellSpacing","cellPadding","StyledModal","Modal","MarketHeading","Buttons","ContractLink","CloseButton","onClose","optionMarket","marketHeading","disableAutoFocus","disableEnforceFocus","disableRestoreFocus","getEtherscanAddressLink","style","formatShortDateWithTime","totalBids","totalSupplies","i18nKey","values","components","colSpan","deposits","finalPrice","synthsMap","getAvailableSynthsMap","PHASES_CARDS","StyledCenteredPageLayout","CenteredPageLayout","LeftCol","Heading","HeadingItem","StyledHeadingItem","StyledMarketSentiment","MarketSentiment","brand","headingLinkCSS","AllMarketsLink","MarketDetailsTextButton","TextButton","HeadingTitle","RightCol","Phases","phaseArrowCSS","Z_INDEX","BASE","phaseArrowActiveCSS","phaseArrowThinBackgroundCSS","phaseArrowThinCSS","PhaseItem","captionCSS","itemIndex","marketInfoModalVisible","setMarketInfoModalVisible","marketQuery","refundsEnabled","Promise","all","getMarketData","getMarketParameters","marketData","marketParameters","times","oracleDetails","creator","options","creatorLimits","totalClaimableSupplies","prices","oraclePriceAndTimestamp","resolution","biddingEnd","parseBytes32String","priceUpdatedAt","updatedAt","exercisableDeposits","capitalRequirement","skewLimit","add","handleViewMarketDetails","useCallback","formatShortDate","ROUTES","Options","Home","display","idx","MarketContainer","match","setBOMContract","params","ethers","Contract","provider","navigateTo"],"mappings":"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","file":"static/js/13.a19d5b22.chunk.js","sourcesContent":["import { CurrencyKey } from './currency';\r\nimport { Period } from './period';\r\n\r\nexport const QUERY_KEYS = {\r\n\tSynths: {\r\n\t\tHistoricalRates: (currencyKey: CurrencyKey, period: Period) => [\r\n\t\t\t'synths',\r\n\t\t\t'historicalRates',\r\n\t\t\tcurrencyKey,\r\n\t\t\tperiod,\r\n\t\t],\r\n\t},\r\n\tBinaryOptions: {\r\n\t\tMarkets: ['binaryOptions', 'markets'],\r\n\t\tMarket: (marketAddress: string) => ['binaryOptions', 'markets', marketAddress],\r\n\t\tAccountMarketInfo: (marketAddress: string, accountAddress: string) => [\r\n\t\t\t'binaryOptions',\r\n\t\t\t'markets',\r\n\t\t\tmarketAddress,\r\n\t\t\taccountAddress,\r\n\t\t],\r\n\t\tRecentTransactions: (marketAddress: string) => ['binaryOptions', 'transactions', marketAddress],\r\n\t\tUserTransactions: (marketAddress: string, walletAddress: string) => [\r\n\t\t\t'binaryOptions',\r\n\t\t\t'transactions',\r\n\t\t\tmarketAddress,\r\n\t\t\twalletAddress,\r\n\t\t],\r\n\t\tUserMarkets: (walletAddress: string) => ['binaryOptions', 'userMarkets', walletAddress],\r\n\t\tOptionPrices: (marketAddress: string, period: Period) => [\r\n\t\t\t'binaryOptions',\r\n\t\t\tmarketAddress,\r\n\t\t\tperiod,\r\n\t\t],\r\n\t},\r\n};\r\n\r\nexport default QUERY_KEYS;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 0L5.906 2.56919L5.40471 2.54569L5.32638 1.12794L0.462147 6L0 5.53786L4.87207 0.673631L3.45431 0.595302L3.43081 0.0939962L6 0Z\",\n  fill: \"#A08AFF\"\n});\n\nvar SvgArrowHyperlink = function SvgArrowHyperlink(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 6,\n    height: 6,\n    viewBox: \"0 0 6 6\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowHyperlink, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-hyperlink.b5ca1dec.svg\";\nexport { ForwardRef as ReactComponent };","import get from 'lodash/get';\r\nimport { isSynth } from '../constants/currency';\r\n\r\nconst getSynthBalancePath = (currencyKey, field) => ['synths', 'balances', currencyKey, field];\r\n\r\n// crypto appears as lowercased in balances\r\nconst getCryptoCurrencyBalancePath = (currencyKey, field) => [currencyKey.toLowerCase(), field];\r\n\r\nexport const getCurrencyKeyBalance = (balances, currencyKey) =>\r\n\tisSynth(currencyKey)\r\n\t\t? get(balances, getSynthBalancePath(currencyKey, 'balance'))\r\n\t\t: get(balances, getCryptoCurrencyBalancePath(currencyKey, 'balance'));\r\n\r\nexport const getCurrencyKeyUSDBalance = (balances, currencyKey) =>\r\n\tisSynth(currencyKey)\r\n\t\t? get(balances, getSynthBalancePath(currencyKey, 'usdBalance'))\r\n\t\t: get(balances, getCryptoCurrencyBalancePath(currencyKey, 'usdBalance'));\r\n\r\nexport const getCurrencyKeyUSDBalanceBN = (balances, currencyKey) =>\r\n\tisSynth(currencyKey)\r\n\t\t? get(balances, getSynthBalancePath(currencyKey, 'balanceBN'))\r\n\t\t: get(balances, getCryptoCurrencyBalancePath(currencyKey, 'balanceBN'));\r\n","import { Phase, Side } from './types';\r\n\r\nexport const PHASE: Record<Phase, number> = {\r\n\tbidding: 0,\r\n\ttrading: 1,\r\n\tmaturity: 2,\r\n\texpiry: 3,\r\n};\r\n\r\nexport const SIDE: Record<Side | number, number | Side> = {\r\n\tlong: 0,\r\n\tshort: 1,\r\n\t0: 'long',\r\n\t1: 'short',\r\n};\r\n\r\nexport const getPhaseAndEndDate = (\r\n\tbiddingEndDate: number,\r\n\tmaturityDate: number,\r\n\texpiryDate: number\r\n): { phase: Phase; timeRemaining: number } => {\r\n\tconst now = Date.now();\r\n\r\n\tif (biddingEndDate > now) {\r\n\t\treturn {\r\n\t\t\tphase: 'bidding',\r\n\t\t\ttimeRemaining: biddingEndDate,\r\n\t\t};\r\n\t}\r\n\r\n\tif (maturityDate > now) {\r\n\t\treturn {\r\n\t\t\tphase: 'trading',\r\n\t\t\ttimeRemaining: maturityDate,\r\n\t\t};\r\n\t}\r\n\r\n\tif (expiryDate > now) {\r\n\t\treturn {\r\n\t\t\tphase: 'maturity',\r\n\t\t\ttimeRemaining: expiryDate,\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tphase: 'expiry',\r\n\t\ttimeRemaining: expiryDate,\r\n\t};\r\n};\r\n\r\nexport const PHASES = ['bidding', 'trading', 'maturity', 'expiry'] as Phase[];\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.0984557 0.573842C-0.0328186 0.442567 -0.0328186 0.22973 0.0984557 0.0984557C0.22973 -0.0328186 0.442567 -0.0328186 0.573842 0.0984557L3.90154 3.42616C4.03282 3.55743 4.03282 3.77027 3.90154 3.90154C3.77027 4.03282 3.55743 4.03282 3.42616 3.90154L0.0984557 0.573842Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.573842 3.90154C0.442568 4.03282 0.22973 4.03282 0.0984562 3.90154C-0.032818 3.77027 -0.032818 3.55743 0.0984562 3.42616L3.42616 0.098456C3.55743 -0.0328182 3.77027 -0.0328182 3.90154 0.098456C4.03282 0.22973 4.03282 0.442568 3.90154 0.573842L0.573842 3.90154Z\",\n  fill: \"white\"\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 8,\n    viewBox: \"0 0 4 4\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.eb3becfb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ReactComponent as CloseIcon } from 'assets/images/close.svg';\r\n\r\nimport { Message, MessageProps } from 'shared/commonStyles';\r\n\r\ntype DismissableMessageProps = MessageProps & {\r\n\tchildren: React.ReactNode;\r\n\tonDismiss: () => void;\r\n};\r\n\r\nexport const DismissableMessage: FC<DismissableMessageProps> = ({\r\n\tchildren,\r\n\tonDismiss,\r\n\t...rest\r\n}) => (\r\n\t<Container>\r\n\t\t<StyledMessage {...rest}>\r\n\t\t\t{children}\r\n\t\t\t<StyledCloseButton onClick={onDismiss} />\r\n\t\t</StyledMessage>\r\n\t</Container>\r\n);\r\n\r\nconst Container = styled.div`\r\n\tposition: relative;\r\n`;\r\n\r\nconst StyledMessage = styled(Message)`\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst StyledCloseButton = styled(CloseIcon)`\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n`;\r\n\r\nexport default DismissableMessage;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport intervalToDuration from 'date-fns/intervalToDuration';\r\nimport differenceInHours from 'date-fns/differenceInHours';\r\nimport differenceInWeeks from 'date-fns/differenceInWeeks';\r\n\r\nimport { bodyCSS } from 'components/Typography/General';\r\n\r\nimport useInterval from 'shared/hooks/useInterval';\r\nimport { formattedDuration } from 'utils/formatters';\r\n\r\ntype Palette = 'light' | 'high-contrast';\r\n\r\ntype TimeRemainingProps = {\r\n\tend: Date | number;\r\n\tclassName?: string;\r\n\tonEnded?: () => void;\r\n\tpalette?: Palette;\r\n};\r\n\r\nconst ONE_SECOND_IN_MS = 1000;\r\nconst ENDING_SOON_IN_HOURS = 48;\r\n\r\nexport const TimeRemaining: FC<TimeRemainingProps> = ({\r\n\tend,\r\n\tonEnded,\r\n\tpalette = 'light',\r\n\t...rest\r\n}) => {\r\n\tconst now = Date.now();\r\n\tconst timeElapsed = now >= end;\r\n\tconst endingSoon = Math.abs(differenceInHours(now, end)) < ENDING_SOON_IN_HOURS;\r\n\tconst weeksDiff = Math.abs(differenceInWeeks(now, end));\r\n\tconst showRemainingInWeeks = weeksDiff > 4;\r\n\tconst countdownDisabled = timeElapsed || showRemainingInWeeks;\r\n\r\n\tconst [timeInterval, setTimeInterval] = useState<number | null>(\r\n\t\tcountdownDisabled ? null : ONE_SECOND_IN_MS\r\n\t);\r\n\r\n\tconst [duration, setDuration] = useState<Duration>(intervalToDuration({ start: now, end }));\r\n\tconst { t } = useTranslation();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (onEnded && timeElapsed) {\r\n\t\t\tonEnded();\r\n\t\t}\r\n\t}, [onEnded, timeElapsed]);\r\n\r\n\tuseInterval(() => {\r\n\t\tif (now <= end) {\r\n\t\t\tsetDuration(intervalToDuration({ start: now, end }));\r\n\t\t} else {\r\n\t\t\tsetTimeInterval(null);\r\n\t\t}\r\n\t}, timeInterval);\r\n\r\n\treturn (\r\n\t\t<Container isLabel={endingSoon ? 'ending-soon' : undefined} palette={palette} {...rest}>\r\n\t\t\t{timeElapsed\r\n\t\t\t\t? t('options.common.time-remaining.ended')\r\n\t\t\t\t: showRemainingInWeeks\r\n\t\t\t\t? `${weeksDiff} weeks`\r\n\t\t\t\t: formattedDuration(duration)}\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\ntype ContainerProps = { isLabel?: 'ending-soon'; palette?: Palette };\r\n\r\nconst Container = styled.div<ContainerProps>`\r\n\t${bodyCSS};\r\n\tfont-size: 14px;\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\ttext-align: center;\r\n\r\n\t${(props) =>\r\n\t\tprops.isLabel === 'ending-soon' &&\r\n\t\tcss`\r\n\t\t\tborder-radius: 2px;\r\n\t\t\tpadding: 4px 15px;\r\n\t\t\t${(props: ContainerProps) =>\r\n\t\t\t\tprops.palette && props.palette === 'high-contrast'\r\n\t\t\t\t\t? css`\r\n\t\t\t\t\t\t\tcolor: ${(props) => props.theme.colors.surfaceL1};\r\n\t\t\t\t\t\t\tbackground: ${(props) => props.theme.colors.red};\r\n\t\t\t\t\t  `\r\n\t\t\t\t\t: css`\r\n\t\t\t\t\t\t\tcolor: ${(props) => props.theme.colors.red};\r\n\t\t\t\t\t\t\tbackground: rgba(255, 0, 0, 0.12);\r\n\t\t\t\t\t  `}\r\n\t\t`}\r\n`;\r\n\r\nexport default TimeRemaining;\r\n","export const binaryOptionMarketContract = {\r\n\tabi: [\r\n\t\t{\r\n\t\t\tinputs: [\r\n\t\t\t\t{ internalType: 'address', name: '_owner', type: 'address' },\r\n\t\t\t\t{ internalType: 'address', name: '_creator', type: 'address' },\r\n\t\t\t\t{ internalType: 'uint256[2]', name: '_creatorLimits', type: 'uint256[2]' },\r\n\t\t\t\t{ internalType: 'bytes32', name: '_oracleKey', type: 'bytes32' },\r\n\t\t\t\t{ internalType: 'uint256', name: '_strikePrice', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'bool', name: '_refundsEnabled', type: 'bool' },\r\n\t\t\t\t{ internalType: 'uint256[3]', name: '_times', type: 'uint256[3]' },\r\n\t\t\t\t{ internalType: 'uint256[2]', name: '_bids', type: 'uint256[2]' },\r\n\t\t\t\t{ internalType: 'uint256[3]', name: '_fees', type: 'uint256[3]' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'constructor',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{\r\n\t\t\t\t\tindexed: false,\r\n\t\t\t\t\tinternalType: 'enum IBinaryOptionMarket.Side',\r\n\t\t\t\t\tname: 'side',\r\n\t\t\t\t\ttype: 'uint8',\r\n\t\t\t\t},\r\n\t\t\t\t{ indexed: true, internalType: 'address', name: 'account', type: 'address' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'Bid',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{\r\n\t\t\t\t\tindexed: false,\r\n\t\t\t\t\tinternalType: 'enum IBinaryOptionMarket.Side',\r\n\t\t\t\t\tname: 'result',\r\n\t\t\t\t\ttype: 'uint8',\r\n\t\t\t\t},\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'oraclePrice', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'oracleTimestamp', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'deposited', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'poolFees', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'creatorFees', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'MarketResolved',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ indexed: true, internalType: 'address', name: 'account', type: 'address' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'longOptions', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'shortOptions', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'OptionsClaimed',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ indexed: true, internalType: 'address', name: 'account', type: 'address' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'OptionsExercised',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ indexed: false, internalType: 'address', name: 'oldOwner', type: 'address' },\r\n\t\t\t\t{ indexed: false, internalType: 'address', name: 'newOwner', type: 'address' },\r\n\t\t\t],\r\n\t\t\tname: 'OwnerChanged',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [{ indexed: false, internalType: 'address', name: 'newOwner', type: 'address' }],\r\n\t\t\tname: 'OwnerNominated',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'longPrice', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'shortPrice', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'PricesUpdated',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tanonymous: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{\r\n\t\t\t\t\tindexed: false,\r\n\t\t\t\t\tinternalType: 'enum IBinaryOptionMarket.Side',\r\n\t\t\t\t\tname: 'side',\r\n\t\t\t\t\ttype: 'uint8',\r\n\t\t\t\t},\r\n\t\t\t\t{ indexed: true, internalType: 'address', name: 'account', type: 'address' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\r\n\t\t\t\t{ indexed: false, internalType: 'uint256', name: 'fee', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'Refund',\r\n\t\t\ttype: 'event',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'MAX_ADDRESSES_FROM_RESOLVER',\r\n\t\t\toutputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'acceptOwnership',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [{ internalType: 'address', name: 'account', type: 'address' }],\r\n\t\t\tname: 'balancesOf',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ internalType: 'enum IBinaryOptionMarket.Side', name: 'side', type: 'uint8' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'value', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'bid',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ internalType: 'enum IBinaryOptionMarket.Side', name: 'bidSide', type: 'uint8' },\r\n\t\t\t\t{ internalType: 'enum IBinaryOptionMarket.Side', name: 'priceSide', type: 'uint8' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'price', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'bool', name: 'refund', type: 'bool' },\r\n\t\t\t],\r\n\t\t\tname: 'bidOrRefundForPrice',\r\n\t\t\toutputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [{ internalType: 'address', name: 'account', type: 'address' }],\r\n\t\t\tname: 'bidsOf',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'canResolve',\r\n\t\t\toutputs: [{ internalType: 'bool', name: '', type: 'bool' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [{ internalType: 'address payable', name: 'beneficiary', type: 'address' }],\r\n\t\t\tname: 'cancel',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'claimOptions',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'longClaimed', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'shortClaimed', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [{ internalType: 'address', name: 'account', type: 'address' }],\r\n\t\t\tname: 'claimableBalancesOf',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'creator',\r\n\t\t\toutputs: [{ internalType: 'address', name: '', type: 'address' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'creatorLimits',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'capitalRequirement', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'skewLimit', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'deposited',\r\n\t\t\toutputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'exercisableDeposits',\r\n\t\t\toutputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'exerciseOptions',\r\n\t\t\toutputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [{ internalType: 'address payable', name: 'beneficiary', type: 'address' }],\r\n\t\t\tname: 'expire',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'fees',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'poolFee', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'creatorFee', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'refundFee', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'getResolverAddressesRequired',\r\n\t\t\toutputs: [{ internalType: 'bytes32[24]', name: 'addressesRequired', type: 'bytes32[24]' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [{ internalType: 'contract AddressResolver', name: '_resolver', type: 'address' }],\r\n\t\t\tname: 'isResolverCached',\r\n\t\t\toutputs: [{ internalType: 'bool', name: '', type: 'bool' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [{ internalType: 'address', name: '_owner', type: 'address' }],\r\n\t\t\tname: 'nominateNewOwner',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'nominatedOwner',\r\n\t\t\toutputs: [{ internalType: 'address', name: '', type: 'address' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'options',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'contract BinaryOption', name: 'long', type: 'address' },\r\n\t\t\t\t{ internalType: 'contract BinaryOption', name: 'short', type: 'address' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'oracleDetails',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'bytes32', name: 'key', type: 'bytes32' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'strikePrice', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'finalPrice', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'oraclePriceAndTimestamp',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'price', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'updatedAt', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'owner',\r\n\t\t\toutputs: [{ internalType: 'address', name: '', type: 'address' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'phase',\r\n\t\t\toutputs: [{ internalType: 'enum IBinaryOptionMarket.Phase', name: '', type: 'uint8' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'prices',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ internalType: 'enum IBinaryOptionMarket.Side', name: 'side', type: 'uint8' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'value', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'bool', name: 'refund', type: 'bool' },\r\n\t\t\t],\r\n\t\t\tname: 'pricesAfterBidOrRefund',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [\r\n\t\t\t\t{ internalType: 'enum IBinaryOptionMarket.Side', name: 'side', type: 'uint8' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'value', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tname: 'refund',\r\n\t\t\toutputs: [{ internalType: 'uint256', name: 'refundMinusFee', type: 'uint256' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'refundsEnabled',\r\n\t\t\toutputs: [{ internalType: 'bool', name: '', type: 'bool' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'requireActiveAndUnpaused',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'resolve',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'resolved',\r\n\t\t\toutputs: [{ internalType: 'bool', name: '', type: 'bool' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'resolver',\r\n\t\t\toutputs: [{ internalType: 'contract AddressResolver', name: '', type: 'address' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n\t\t\tname: 'resolverAddressesRequired',\r\n\t\t\toutputs: [{ internalType: 'bytes32', name: '', type: 'bytes32' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'result',\r\n\t\t\toutputs: [{ internalType: 'enum IBinaryOptionMarket.Side', name: '', type: 'uint8' }],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'senderPriceAndExercisableDeposits',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'price', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'exercisable', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: false,\r\n\t\t\tinputs: [{ internalType: 'contract AddressResolver', name: '_resolver', type: 'address' }],\r\n\t\t\tname: 'setResolverAndSyncCache',\r\n\t\t\toutputs: [],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'nonpayable',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'times',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'biddingEnd', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'maturity', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'expiry', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'totalBids',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'totalClaimableSupplies',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t\t{\r\n\t\t\tconstant: true,\r\n\t\t\tinputs: [],\r\n\t\t\tname: 'totalSupplies',\r\n\t\t\toutputs: [\r\n\t\t\t\t{ internalType: 'uint256', name: 'long', type: 'uint256' },\r\n\t\t\t\t{ internalType: 'uint256', name: 'short', type: 'uint256' },\r\n\t\t\t],\r\n\t\t\tpayable: false,\r\n\t\t\tstateMutability: 'view',\r\n\t\t\ttype: 'function',\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default binaryOptionMarketContract;\r\n","import React, { FC, createContext, useContext } from 'react';\r\nimport { ethers } from 'ethers';\r\n\r\nconst BOMContractContext = createContext<ethers.Contract | null>(null);\r\n\r\ntype BOMContractContextProps = {\r\n\tchildren: React.ReactNode;\r\n\tcontract: ethers.Contract;\r\n};\r\n\r\nexport const BOMContractProvider: React.FC<BOMContractContextProps> = ({ children, contract }) => (\r\n\t<BOMContractContext.Provider value={contract}>{children}</BOMContractContext.Provider>\r\n);\r\n\r\nexport const useBOMContractContext = () => useContext(BOMContractContext) as ethers.Contract;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6ZM4.73713 4.36558V4.8588C4.73713 4.9252 4.76558 4.95366 4.83198 4.95366H5.85637V8.33035H4.59485C4.52846 8.33035 4.5 8.3588 4.5 8.4252V8.9374C4.5 9.00379 4.52846 9.03225 4.59485 9.03225H7.90515C7.97154 9.03225 8 9.00379 8 8.9374V8.4252C8 8.3588 7.97154 8.33035 7.90515 8.33035H6.59621V4.36558C6.59621 4.29918 6.56775 4.27073 6.50136 4.27073H4.83198C4.76558 4.27073 4.73713 4.29918 4.73713 4.36558ZM5.66653 2.58249V3.39821C5.66653 3.46461 5.69499 3.49306 5.76138 3.49306H6.5771C6.6435 3.49306 6.67195 3.46461 6.67195 3.39821V2.58249C6.67195 2.5161 6.6435 2.48764 6.5771 2.48764H5.76138C5.69499 2.48764 5.66653 2.5161 5.66653 2.58249Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgInfoRounded = function SvgInfoRounded(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 12,\n    viewBox: \"0 0 12 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInfoRounded, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/info-rounded.82a4d2b6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 8,\n  y1: 7,\n  x2: 8.74228e-8,\n  y2: 7,\n  stroke: \"#D94454\",\n  strokeWidth: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 8,\n  y1: 1,\n  x2: 8.74228e-8,\n  y2: 1,\n  stroke: \"#10BA97\",\n  strokeWidth: 2\n});\n\nvar SvgOptionsLine = function SvgOptionsLine(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 8,\n    viewBox: \"0 0 8 8\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgOptionsLine, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/options-line.81b69c9c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.8032 2.92L4.7352 3.628C4.4072 3.012 3.9912 2.704 3.4872 2.704C3.2232 2.704 3.0112 2.792 2.8512 2.968C2.6912 3.136 2.6112 3.352 2.6112 3.616C2.6112 4.128 3.0352 4.584 3.8832 4.984C4.2272 5.136 4.4992 5.268 4.6992 5.38C4.8992 5.484 5.1352 5.64 5.4072 5.848C5.6792 6.056 5.8792 6.3 6.0072 6.58C6.1432 6.86 6.2112 7.18 6.2112 7.54C6.2112 8.188 6.0232 8.74 5.6472 9.196C5.2792 9.644 4.7872 9.924 4.1712 10.036V11.08H2.9712V10.036C2.4192 9.924 1.9512 9.668 1.5672 9.268C1.1912 8.86 0.939203 8.356 0.811203 7.756L1.8912 7.072C2.1872 8.256 2.7512 8.848 3.5832 8.848C3.9592 8.848 4.2672 8.732 4.5072 8.5C4.7472 8.26 4.8672 7.956 4.8672 7.588C4.8672 7.332 4.7792 7.108 4.6032 6.916C4.4272 6.716 4.2072 6.556 3.9432 6.436C3.6792 6.308 3.3912 6.164 3.0792 6.004C2.7672 5.844 2.4792 5.68 2.2152 5.512C1.9512 5.336 1.7312 5.096 1.5552 4.792C1.3792 4.48 1.2912 4.12 1.2912 3.712C1.2912 3.184 1.4472 2.72 1.7592 2.32C2.0712 1.928 2.4752 1.676 2.9712 1.564V0.52H4.1712V1.588C4.8672 1.772 5.4112 2.216 5.8032 2.92Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgDollarSign = function SvgDollarSign(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 7,\n    height: 12,\n    viewBox: \"0 0 7 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDollarSign, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dollar-sign.4fb7b0c8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC, createContext, useContext } from 'react';\r\nimport { OptionsMarketInfo } from 'pages/Options/types';\r\n\r\nconst MarketContext = createContext<OptionsMarketInfo | null>(null);\r\n\r\ntype MarketContextProps = {\r\n\tchildren: React.ReactNode;\r\n\toptionsMarket: OptionsMarketInfo;\r\n};\r\n\r\nexport const MarketProvider: FC<MarketContextProps> = ({ children, optionsMarket }) => (\r\n\t<MarketContext.Provider value={optionsMarket}>{children}</MarketContext.Provider>\r\n);\r\n\r\nexport const useMarketContext = () => useContext(MarketContext) as OptionsMarketInfo;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.515625 16.3828C0.855469 16.7227 1.28906 16.8984 1.81641 16.8984C2.34375 16.8984 2.78906 16.7227 3.12891 16.3828C3.46875 16.043 3.64453 15.6094 3.64453 15.1055C3.64453 14.5898 3.46875 14.1562 3.12891 13.8164C2.78906 13.4766 2.34375 13.3008 1.81641 13.3008C1.28906 13.3008 0.855469 13.4766 0.515625 13.8164C0.175781 14.1562 0 14.5898 0 15.1055C0 15.6094 0.175781 16.043 0.515625 16.3828ZM1.17482 0C0.600538 0 0.144244 0.482592 0.176391 1.05598L0.708792 10.5521C0.73849 11.0818 1.17669 11.4961 1.70722 11.4961H1.93731C2.46784 11.4961 2.90604 11.0818 2.93574 10.5521L3.46814 1.05598C3.50029 0.48259 3.04399 0 2.46971 0H1.17482Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgExclamation = function SvgExclamation(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 4,\n    height: 17,\n    viewBox: \"0 0 4 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExclamation, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/exclamation.877795b5.svg\";\nexport { ForwardRef as ReactComponent };","import styled, { css } from 'styled-components';\r\nimport { GridDivCenteredRow, absoluteCenteredCSS } from 'shared/commonStyles';\r\nimport { subtitleSmallCSS } from 'components/Typography/General';\r\n\r\nexport const ChartContainer = styled.div<{ semiTransparent: boolean }>`\r\n\theight: 300px;\r\n\tposition: relative;\r\n\t${(props) =>\r\n\t\tprops.semiTransparent &&\r\n\t\tcss`\r\n\t\t\topacity: 0.5;\r\n\t\t\tfilter: blur(3px);\r\n\t\t`}\r\n\r\n\t.ref-line-label {\r\n\t\tfont-size: 10px;\r\n\t\tfont-family: ${(props) => props.theme.fonts.regular};\r\n\t\ttext-transform: uppercase;\r\n\t}\r\n\t.ref-line-label-long {\r\n\t\tfill: ${(props) => props.theme.colors.green};\r\n\t}\r\n\t.ref-line-label-short {\r\n\t\tfill: ${(props) => props.theme.colors.red};\r\n\t}\r\n\t.ref-line-label-strike-price {\r\n\t\tfill: ${(props) => props.theme.colors.fontSecondary};\r\n\t}\r\n\t.recharts-tooltip-label,\r\n\t.recharts-tooltip-item {\r\n\t\tcolor: ${(props) => props.theme.colors.fontPrimary} !important;\r\n\t}\r\n`;\r\n\r\nexport const NoChartData = styled(GridDivCenteredRow)`\r\n\t${absoluteCenteredCSS};\r\n\t${subtitleSmallCSS};\r\n\tgrid-gap: 10px;\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\tpadding: 20px;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\tborder-radius: 2px;\r\n\tfont-size: 12px;\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n\tjustify-items: center;\r\n\tsvg {\r\n\t\tcolor: ${(props) => props.theme.colors.accentL2};\r\n\t}\r\n`;\r\n","import React, { FC, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { AreaChart, Area, XAxis, YAxis, Tooltip, ReferenceLine, Label } from 'recharts';\r\nimport { useTranslation } from 'react-i18next';\r\nimport format from 'date-fns/format';\r\nimport isNumber from 'lodash/isNumber';\r\nimport get from 'lodash/get';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { ReactComponent as ExclamationIcon } from 'assets/images/exclamation.svg';\r\n\r\nimport { formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport { PeriodLabel, PERIOD_IN_HOURS } from 'constants/period';\r\nimport RechartsResponsiveContainer from 'components/RechartsResponsiveContainer';\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\n\r\nimport { fetchSynthRateUpdate } from 'services/rates/rates';\r\n\r\nimport { ChartContainer, NoChartData } from '../common';\r\nimport { OptionsMarketInfo } from 'pages/Options/types';\r\nimport { HistoricalRatesData } from 'ducks/historicalRates';\r\n\r\ntype PriceChartProps = {\r\n\tselectedPeriod: PeriodLabel;\r\n\toptionsMarket: OptionsMarketInfo;\r\n};\r\n\r\nconst PriceChart: FC<PriceChartProps> = ({ selectedPeriod, optionsMarket }) => {\r\n\tconst { t } = useTranslation();\r\n\tconst theme = useContext(ThemeContext);\r\n\r\n\tconst historicalRatesQuery = useQuery<HistoricalRatesData | null, any>(\r\n\t\tQUERY_KEYS.Synths.HistoricalRates(optionsMarket.currencyKey, selectedPeriod.period),\r\n\t\t() => fetchSynthRateUpdate(optionsMarket.currencyKey, selectedPeriod.value)\r\n\t);\r\n\r\n\tconst chartData = get(historicalRatesQuery, 'data.rates', []);\r\n\tconst isLoading = historicalRatesQuery.isLoading;\r\n\tconst noChartData = historicalRatesQuery.isSuccess && chartData.length === 0;\r\n\r\n\tconst chartColor = theme.colors.hyperlink;\r\n\tconst linearGradientId = 'optionsMarketPriceChartArea';\r\n\r\n\tconst fontStyle = {\r\n\t\tfontSize: '12px',\r\n\t\tfill: theme.colors.fontTertiary,\r\n\t\tfontFamily: theme.fonts.regular,\r\n\t};\r\n\r\n\tconst fontStyleMedium = {\r\n\t\t...fontStyle,\r\n\t\tfontFamily: theme.fonts.medium,\r\n\t};\r\n\r\n\tconst minPriceDomain = optionsMarket.strikePrice * 0.95;\r\n\tconst maxPriceDomain = optionsMarket.strikePrice * 1.05;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ChartContainer semiTransparent={isLoading}>\r\n\t\t\t\t<RechartsResponsiveContainer width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t<AreaChart data={chartData}>\r\n\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<linearGradient id={linearGradientId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n\t\t\t\t\t\t\t\t<stop offset=\"5%\" stopColor={chartColor} stopOpacity={0.5} />\r\n\t\t\t\t\t\t\t\t<stop offset=\"95%\" stopColor={chartColor} stopOpacity={0} />\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\tdataKey=\"timestamp\"\r\n\t\t\t\t\t\t\ttick={fontStyleMedium}\r\n\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t\ttickFormatter={(val) => {\r\n\t\t\t\t\t\t\t\tif (!isNumber(val)) {\r\n\t\t\t\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst periodOverOneDay =\r\n\t\t\t\t\t\t\t\t\tselectedPeriod != null && selectedPeriod.value > PERIOD_IN_HOURS.ONE_DAY;\r\n\r\n\t\t\t\t\t\t\t\treturn format(val, periodOverOneDay ? 'dd MMM' : 'h:mma');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<YAxis\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tdomain={[\r\n\t\t\t\t\t\t\t\t(d: number) => Math.min(d, minPriceDomain),\r\n\t\t\t\t\t\t\t\t(d: number) => Math.max(d, maxPriceDomain),\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\ttick={fontStyleMedium}\r\n\t\t\t\t\t\t\torientation=\"right\"\r\n\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t\twidth={80}\r\n\t\t\t\t\t\t\ttickFormatter={(val) => formatCurrencyWithSign(USD_SIGN, val)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Area\r\n\t\t\t\t\t\t\tdataKey=\"rate\"\r\n\t\t\t\t\t\t\tstroke={chartColor}\r\n\t\t\t\t\t\t\tfillOpacity={0.5}\r\n\t\t\t\t\t\t\tfill={`url(#${linearGradientId})`}\r\n\t\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!noChartData && (\r\n\t\t\t\t\t\t\t<ReferenceLine\r\n\t\t\t\t\t\t\t\ty={optionsMarket.strikePrice}\r\n\t\t\t\t\t\t\t\tstroke={theme.colors.fontSecondary}\r\n\t\t\t\t\t\t\t\tstrokeDasharray=\"5 2\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\t\t\tposition=\"insideBottomRight\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"ref-line-label ref-line-label-strike-price\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionsMarket.strikePrice)}\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t</ReferenceLine>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{!noChartData && (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tclassName=\"tooltip\"\r\n\t\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\t\tcursor={{ strokeWidth: 1, stroke: theme.colors.fontTertiary }}\r\n\t\t\t\t\t\t\t\tcontentStyle={{\r\n\t\t\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\t\t\tborderRadius: '4px',\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: theme.colors.accentL1,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\titemStyle={{\r\n\t\t\t\t\t\t\t\t\t...fontStyle,\r\n\t\t\t\t\t\t\t\t\ttextTransform: 'capitalize',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tlabelStyle={fontStyle}\r\n\t\t\t\t\t\t\t\tformatter={(val: string | number) => formatCurrencyWithSign(USD_SIGN, val)}\r\n\t\t\t\t\t\t\t\tlabelFormatter={(label) => {\r\n\t\t\t\t\t\t\t\t\tif (!isNumber(label)) {\r\n\t\t\t\t\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn format(label, 'do MMM yy | HH:mm');\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</AreaChart>\r\n\t\t\t\t</RechartsResponsiveContainer>\r\n\t\t\t</ChartContainer>\r\n\t\t\t{isLoading && <Spinner size=\"sm\" centered={true} />}\r\n\t\t\t{noChartData && (\r\n\t\t\t\t<NoChartData>\r\n\t\t\t\t\t<ExclamationIcon />\r\n\t\t\t\t\t{t('options.market.chart-card.no-results')}\r\n\t\t\t\t</NoChartData>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PriceChart;\r\n","import React, { useMemo, FC, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { LineChart, XAxis, YAxis, Line, Tooltip } from 'recharts';\r\nimport format from 'date-fns/format';\r\nimport isNumber from 'lodash/isNumber';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useQuery } from 'react-query';\r\nimport snxData from 'synthetix-data';\r\n\r\nimport { ReactComponent as ExclamationIcon } from 'assets/images/exclamation.svg';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport { PeriodLabel, PERIOD_IN_HOURS } from 'constants/period';\r\nimport RechartsResponsiveContainer from 'components/RechartsResponsiveContainer';\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\n\r\nimport { ChartContainer, NoChartData } from '../common';\r\nimport { OptionsMarketInfo, OptionsTransactions } from 'pages/Options/types';\r\nimport { calculateTimestampForPeriod } from 'services/rates/utils';\r\n\r\ntype OptionsChartProps = {\r\n\tselectedPeriod: PeriodLabel;\r\n\toptionsMarket: OptionsMarketInfo;\r\n};\r\n\r\nconst OptionsChart: FC<OptionsChartProps> = ({ selectedPeriod, optionsMarket }) => {\r\n\tconst { t } = useTranslation();\r\n\tconst theme = useContext(ThemeContext);\r\n\r\n\tconst historicalOptionPriceQuery = useQuery<OptionsTransactions, any>(\r\n\t\tQUERY_KEYS.BinaryOptions.OptionPrices(optionsMarket.address, selectedPeriod.period),\r\n\t\t() =>\r\n\t\t\tsnxData.binaryOptions.historicalOptionPrice({\r\n\t\t\t\tmarket: optionsMarket.address,\r\n\t\t\t\tmaxTimestamp: Math.trunc(Date.now() / 1000),\r\n\t\t\t\tminTimestamp: calculateTimestampForPeriod(selectedPeriod.value),\r\n\t\t\t})\r\n\t);\r\n\r\n\tconst chartData = useMemo(() => {\r\n\t\tconst data = historicalOptionPriceQuery.data || [];\r\n\t\tif (data.length) {\r\n\t\t\treturn [...data].reverse();\r\n\t\t}\r\n\t\treturn [];\r\n\t}, [historicalOptionPriceQuery.data]);\r\n\r\n\tconst isLoading = historicalOptionPriceQuery.isLoading;\r\n\tconst noChartData = historicalOptionPriceQuery.isSuccess && chartData.length < 2;\r\n\r\n\tconst fontStyle = {\r\n\t\tfontSize: '12px',\r\n\t\tfill: theme.colors.fontTertiary,\r\n\t\tfontFamily: theme.fonts.regular,\r\n\t};\r\n\r\n\tconst fontStyleMedium = {\r\n\t\t...fontStyle,\r\n\t\tfontFamily: theme.fonts.medium,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ChartContainer semiTransparent={isLoading}>\r\n\t\t\t\t<RechartsResponsiveContainer width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t<LineChart data={noChartData ? [] : chartData}>\r\n\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\tdataKey=\"timestamp\"\r\n\t\t\t\t\t\t\ttick={fontStyleMedium}\r\n\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t\ttickFormatter={(val) => {\r\n\t\t\t\t\t\t\t\tif (!isNumber(val)) {\r\n\t\t\t\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst periodOverOneDay =\r\n\t\t\t\t\t\t\t\t\tselectedPeriod != null && selectedPeriod.value > PERIOD_IN_HOURS.ONE_DAY;\r\n\r\n\t\t\t\t\t\t\t\treturn format(val, periodOverOneDay ? 'dd MMM' : 'h:mma');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<YAxis\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tdomain={[0, 1]}\r\n\t\t\t\t\t\t\torientation=\"right\"\r\n\t\t\t\t\t\t\ttick={fontStyleMedium}\r\n\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t\ttickFormatter={(val) => t('common.val-in-cents', { val })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\ttype=\"linear\"\r\n\t\t\t\t\t\t\tname={t('options.common.long-price')}\r\n\t\t\t\t\t\t\tdataKey=\"longPrice\"\r\n\t\t\t\t\t\t\tstroke={theme.colors.green}\r\n\t\t\t\t\t\t\tstrokeWidth={1.5}\r\n\t\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\ttype=\"linear\"\r\n\t\t\t\t\t\t\tname={t('options.common.short-price')}\r\n\t\t\t\t\t\t\tdataKey=\"shortPrice\"\r\n\t\t\t\t\t\t\tstroke={theme.colors.red}\r\n\t\t\t\t\t\t\tstrokeWidth={1.5}\r\n\t\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!noChartData && (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tclassName=\"tooltip\"\r\n\t\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\t\tcursor={{ strokeWidth: 1, stroke: theme.colors.fontTertiary }}\r\n\t\t\t\t\t\t\t\tcontentStyle={{\r\n\t\t\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\t\t\tborderRadius: '4px',\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: theme.colors.accentL1,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\titemStyle={{\r\n\t\t\t\t\t\t\t\t\t...fontStyle,\r\n\t\t\t\t\t\t\t\t\ttextTransform: 'capitalize',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tlabelStyle={fontStyle}\r\n\t\t\t\t\t\t\t\tformatter={(val: string | number) => formatCurrencyWithSign(USD_SIGN, val)}\r\n\t\t\t\t\t\t\t\tlabelFormatter={(label) => {\r\n\t\t\t\t\t\t\t\t\tif (!isNumber(label)) {\r\n\t\t\t\t\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn format(label, 'do MMM yy | HH:mm');\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</LineChart>\r\n\t\t\t\t</RechartsResponsiveContainer>\r\n\t\t\t</ChartContainer>\r\n\t\t\t{isLoading && <Spinner size=\"sm\" centered={true} />}\r\n\t\t\t{noChartData && (\r\n\t\t\t\t<NoChartData>\r\n\t\t\t\t\t<ExclamationIcon />\r\n\t\t\t\t\t{t('options.market.chart-card.no-chart-data')}\r\n\t\t\t\t</NoChartData>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OptionsChart;\r\n","import React, { FC, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { FIAT_CURRENCY_MAP, USD_SIGN } from 'constants/currency';\r\n\r\nimport { GridDivCenteredCol, VerticalCardSeparator } from 'shared/commonStyles';\r\n\r\nimport { ReactComponent as OptionsLineIcon } from 'assets/images/options-line.svg';\r\nimport { ReactComponent as DollarSignIcon } from 'assets/images/dollar-sign.svg';\r\n\r\nimport { formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport Card from 'components/Card';\r\nimport { PeriodLabel, PERIOD_LABELS_MAP, PERIOD_LABELS } from 'constants/period';\r\nimport { Button } from 'components/Button';\r\nimport Currency from 'components/Currency';\r\nimport { sectionTitleCSS } from 'components/Typography/General';\r\n\r\nimport { useMarketContext } from '../contexts/MarketContext';\r\nimport PriceChart from './PriceChart';\r\nimport OptionsChart from './OptionsChart';\r\n\r\ntype ChartType = 'price' | 'options';\r\n\r\nconst ChartCard: FC = () => {\r\n\tconst [selectedPeriod, setSelectedPeriod] = useState<PeriodLabel>(PERIOD_LABELS_MAP.ONE_DAY);\r\n\tconst [chartType, setChartType] = useState<ChartType>('price');\r\n\r\n\tconst optionsMarket = useMarketContext();\r\n\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst chartProps = {\r\n\t\toptionsMarket,\r\n\t\tselectedPeriod,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<CardHeader>\r\n\t\t\t\t<CardHeaderLeft>\r\n\t\t\t\t\t<Currency.Pair\r\n\t\t\t\t\t\tbaseCurrencyKey={optionsMarket.currencyKey}\r\n\t\t\t\t\t\tbaseCurrencyAsset={optionsMarket.asset}\r\n\t\t\t\t\t\tquoteCurrencyKey={FIAT_CURRENCY_MAP.USD}\r\n\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\ttype: 'asset',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<VerticalCardSeparator />\r\n\t\t\t\t\t<Price>{formatCurrencyWithSign(USD_SIGN, optionsMarket.currentPrice)}</Price>\r\n\t\t\t\t</CardHeaderLeft>\r\n\t\t\t\t<CardHeaderRight>\r\n\t\t\t\t\t<Overlays>\r\n\t\t\t\t\t\t<OverlayButton isActive={chartType === 'price'} onClick={() => setChartType('price')}>\r\n\t\t\t\t\t\t\t<DollarSignIcon /> {t('options.market.chart-card.chart-types.price')}\r\n\t\t\t\t\t\t</OverlayButton>\r\n\t\t\t\t\t\t<OverlayButton\r\n\t\t\t\t\t\t\tisActive={chartType === 'options'}\r\n\t\t\t\t\t\t\tonClick={() => setChartType('options')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<OptionsLineIcon /> {t('options.market.chart-card.chart-types.options')}\r\n\t\t\t\t\t\t</OverlayButton>\r\n\t\t\t\t\t</Overlays>\r\n\t\t\t\t\t<VerticalCardSeparator />\r\n\t\t\t\t\t<Periods>\r\n\t\t\t\t\t\t{PERIOD_LABELS.map((period) => (\r\n\t\t\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\t\t\tkey={period.value}\r\n\t\t\t\t\t\t\t\tisActive={period.value === selectedPeriod.value}\r\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPeriod(period)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(period.i18nLabel)}\r\n\t\t\t\t\t\t\t</StyledButton>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Periods>\r\n\t\t\t\t</CardHeaderRight>\r\n\t\t\t</CardHeader>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t{chartType === 'price' && <PriceChart {...chartProps} />}\r\n\t\t\t\t{chartType === 'options' && <OptionsChart {...chartProps} />}\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nconst CardHeader = styled(Card.Header)`\r\n\tpadding: 0 12px;\r\n\tjustify-content: space-between;\r\n\t> * + * {\r\n\t\tmargin-left: 0;\r\n\t}\r\n`;\r\n\r\nconst CardHeaderRight = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 16px;\r\n`;\r\n\r\nconst Periods = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 8px;\r\n`;\r\n\r\nconst Overlays = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 8px;\r\n`;\r\n\r\nconst StyledButton = styled(Button).attrs({\r\n\tsize: 'xs',\r\n\tpalette: 'secondary',\r\n})``;\r\n\r\nconst OverlayButton = styled(StyledButton)`\r\n\ttext-transform: uppercase;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tsvg {\r\n\t\tmargin-right: 6px;\r\n\t}\r\n`;\r\n\r\nconst CardHeaderLeft = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 12px;\r\n`;\r\n\r\nconst Price = styled.div`\r\n\t${sectionTitleCSS};\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n`;\r\n\r\nexport default ChartCard;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 0C2.68633 0 0 2.68633 0 6C0 9.31367 2.68633 12 6 12C9.31367 12 12 9.31367 12 6C12 2.68633 9.31367 0 6 0ZM6 1.579C6.91967 1.579 7.77333 1.86033 8.481 2.34067L2.341 8.48067C1.86033 7.77333 1.57933 6.91933 1.57933 5.99967C1.579 3.55833 3.55833 1.579 6 1.579ZM6 10.421C5.08033 10.421 4.22667 10.1397 3.519 9.65933L9.659 3.51933C10.1397 4.22667 10.4207 5.08067 10.4207 6.00033C10.421 8.44167 8.44167 10.421 6 10.421Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgBlocked = function SvgBlocked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 12,\n    viewBox: \"0 0 12 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBlocked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/blocked.bf4a94b8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport { ConnectedProps, connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport styled from 'styled-components';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport {\r\n\tFlexDivRow,\r\n\tGridDivRow,\r\n\tFlexDivCentered,\r\n\tFlexDiv,\r\n\tQuestionMarkIcon,\r\n} from 'shared/commonStyles';\r\nimport { DataSmall } from 'components/Typography';\r\n\r\nimport { formatCurrencyWithSign, formatPercentage } from 'utils/formatters';\r\nimport { getTransactionPrice } from 'utils/networkUtils';\r\n\r\nimport { getEthRate, getRatesExchangeRates } from 'ducks/rates';\r\nimport { getGasInfo } from 'ducks/transaction';\r\nimport { RootState } from 'ducks/types';\r\nimport { OptionsTransaction } from 'pages/Options/types';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { formDataCSS } from 'components/Typography/Form';\r\nimport { ReactComponent as QuestionMark } from 'assets/images/question-mark.svg';\r\n\r\nimport SelectGasMenu from 'pages/shared/components/SelectGasMenu';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\texchangeRates: getRatesExchangeRates(state),\r\n\tgasInfo: getGasInfo(state),\r\n\tethRate: getEthRate(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype NetworkFeesProps = PropsFromRedux & {\r\n\tclassName?: string;\r\n\tgasLimit: number | null;\r\n\ttype?: OptionsTransaction['type'];\r\n\tfees: Record<string, number> | null;\r\n\tamount: string | number;\r\n};\r\n\r\nconst NetworkFees: FC<NetworkFeesProps> = ({\r\n\tclassName,\r\n\tgasInfo,\r\n\tethRate,\r\n\tgasLimit,\r\n\tfees,\r\n\ttype,\r\n\tamount,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst { gasPrice } = gasInfo;\r\n\tconst networkFee = getTransactionPrice(gasPrice, gasLimit, ethRate);\r\n\tconst bidOrRefundFee = fees\r\n\t\t? type === 'bid'\r\n\t\t\t? fees.creatorFee + fees.poolFee\r\n\t\t\t: fees.refundFee\r\n\t\t: 0;\r\n\r\n\tconst totalCost = networkFee + bidOrRefundFee * Number(amount);\r\n\r\n\tconst getTooltipBody = () => (\r\n\t\t<TooltipContent>\r\n\t\t\t<TooltipContentRow>\r\n\t\t\t\t<StyledFlexDiv>\r\n\t\t\t\t\t<TooltipFeeBlock>\r\n\t\t\t\t\t\t<TooltipLabel>{t(`options.market.trade-card.bidding.common.${type}-fee`)}</TooltipLabel>\r\n\t\t\t\t\t\t<TooltipLabel>{`(${formatPercentage(bidOrRefundFee, 0)})`}</TooltipLabel>\r\n\t\t\t\t\t</TooltipFeeBlock>\r\n\t\t\t\t\t<TooltipLabel>\r\n\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, bidOrRefundFee * Number(amount))}\r\n\t\t\t\t\t</TooltipLabel>\r\n\t\t\t\t</StyledFlexDiv>\r\n\t\t\t</TooltipContentRow>\r\n\t\t\t<TooltipContentRow>\r\n\t\t\t\t<TooltipLabel>{t('trade.trade-card.network-info-tooltip.network-fee')}</TooltipLabel>\r\n\t\t\t\t<TooltipLabel>{formatCurrencyWithSign(USD_SIGN, networkFee)}</TooltipLabel>\r\n\t\t\t</TooltipContentRow>\r\n\t\t</TooltipContent>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Container className={className}>\r\n\t\t\t<FlexDivRow>\r\n\t\t\t\t<FlexDivCentered>\r\n\t\t\t\t\t{t(`options.market.trade-card.bidding.common.${type}-fee`)}\r\n\t\t\t\t\t<Tooltip title={getTooltipBody()} placement=\"bottom\" arrow={true}>\r\n\t\t\t\t\t\t<QuestionMarkIcon>\r\n\t\t\t\t\t\t\t<QuestionMark />\r\n\t\t\t\t\t\t</QuestionMarkIcon>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</FlexDivCentered>\r\n\t\t\t\t<div>{formatCurrencyWithSign(USD_SIGN, totalCost)}</div>\r\n\t\t\t</FlexDivRow>\r\n\t\t\t<FlexDivRow>\r\n\t\t\t\t<div>{t('common.gas-price-gwei')}</div>\r\n\t\t\t\t<SelectGasMenu gasPrice={gasPrice} addPadding={true} />\r\n\t\t\t</FlexDivRow>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport const Container = styled(GridDivRow)`\r\n\t${formDataCSS};\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\ttext-transform: uppercase;\r\n\tgrid-gap: 8px;\r\n\tpadding-bottom: 16px;\r\n`;\r\n\r\nconst TooltipContent = styled.div`\r\n\twidth: 200px;\r\n\tpadding: 2px;\r\n\t& > * + * {\r\n\t\tmargin-top: 8px;\r\n\t}\r\n`;\r\n\r\nconst TooltipLabel = styled(DataSmall)`\r\n\ttext-transform: none;\r\n`;\r\n\r\nconst TooltipContentRow = styled.div`\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst StyledFlexDiv = styled(FlexDiv)`\r\n\tjustify-content: space-between;\r\n\twidth: 100%;\r\n`;\r\n\r\nconst TooltipFeeBlock = styled.div`\r\n\t& > :last-child {\r\n\t\tmargin-left: 6px;\r\n\t}\r\n`;\r\n\r\nexport default connector(NetworkFees);\r\n","import styled from 'styled-components';\r\nimport { GridDivCenteredCol } from 'shared/commonStyles';\r\nimport Card from 'components/Card';\r\nimport { formLabelSmallCSS } from 'components/Typography/Form';\r\nimport { Button } from 'components/Button';\r\nimport { sectionTitleCSS } from 'components/Typography/General';\r\n\r\nimport TimeRemaining from 'pages/Options/Home/components/TimeRemaining';\r\n\r\nexport const StyledCardHeader = styled(Card.Header)`\r\n\tpadding: 0 16px;\r\n\t${sectionTitleCSS};\r\n`;\r\n\r\nexport const CardContent = styled.div`\r\n\tpadding: 12px;\r\n\tborder-bottom: 1px solid\r\n\t\t${(props) =>\r\n\t\t\tprops.theme.isDarkTheme ? props.theme.colors.accentL1 : props.theme.colors.accentL2};\r\n\t&:last-child {\r\n\t\tborder-bottom: 0;\r\n\t}\r\n`;\r\n\r\nexport const StyledCardBody = styled(Card.Body)`\r\n\tpadding: 0;\r\n`;\r\n\r\nexport const WalletBalance = styled(GridDivCenteredCol)`\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n\tfont-size: 12px;\r\n\tgrid-gap: 8px;\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n`;\r\n\r\nexport const Title = styled.div`\r\n\t${formLabelSmallCSS};\r\n`;\r\n\r\nexport const ActionButton = styled(Button)`\r\n\twidth: 100%;\r\n`;\r\n\r\nexport const PhaseEnd = styled.div`\r\n\tfont-size: 12px;\r\n\ttext-transform: uppercase;\r\n\ttext-align: center;\r\n\tpadding-top: 12px;\r\n`;\r\n\r\nexport const StyledTimeRemaining = styled(TimeRemaining)`\r\n\tbackground: none;\r\n\tfont-size: 12px;\r\n\tpadding: 0;\r\n\tdisplay: inline;\r\n`;\r\n","import React, { FC } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport { OptionsTransaction } from 'pages/Options/types';\r\n\r\nimport {\r\n\tGridDivRow,\r\n\tCurrencyKey,\r\n\tFlexDiv,\r\n\tFlexDivRow,\r\n\tresetButtonCSS,\r\n\tQuestionMarkIcon,\r\n} from 'shared/commonStyles';\r\n\r\nimport { SYNTHS_MAP } from 'constants/currency';\r\nimport { USD_SIGN } from 'constants/currency';\r\nimport { SLIPPAGE_THRESHOLD } from 'constants/ui';\r\n\r\nimport { formatCurrencyWithKey, formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport NumericInput from 'components/Input/NumericInput';\r\nimport NumericInputWithCurrency from 'components/Input/NumericInputWithCurrency';\r\nimport { formLabelSmallCSS } from 'components/Typography/Form';\r\nimport SideIcon from '../../components/SideIcon';\r\n\r\nimport { CurrentPosition } from './types';\r\nimport { labelMediumCSS } from 'components/Typography/Label';\r\n\r\nimport { ReactComponent as QuestionMark } from 'assets/images/question-mark.svg';\r\n\r\ntype TradeSideProps = {\r\n\tisActive: boolean;\r\n\tside: OptionsTransaction['side'];\r\n\ttype: OptionsTransaction['type'];\r\n\tamount: OptionsTransaction['amount'] | string;\r\n\tprice: string | number;\r\n\tonPriceChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tonAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tonClick: () => void;\r\n\tonMaxClick: () => void;\r\n\ttransKey?: string;\r\n\tcurrentPosition: CurrentPosition;\r\n\tpriceShift: number;\r\n};\r\n\r\nconst TradeSide: FC<TradeSideProps> = ({\r\n\tisActive,\r\n\ttype,\r\n\tside,\r\n\tamount,\r\n\tprice,\r\n\tonPriceChange,\r\n\tonAmountChange,\r\n\tonClick,\r\n\ttransKey,\r\n\tcurrentPosition,\r\n\tpriceShift,\r\n\tonMaxClick,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst amountInputId = `${type}-${side}-amount`;\r\n\tconst priceInputId = `${type}-${side}-price`;\r\n\r\n\treturn (\r\n\t\t<Container isActive={isActive} onClick={onClick}>\r\n\t\t\t<Section>\r\n\t\t\t\t<FormRow>\r\n\t\t\t\t\t<SideIndication isHighlighted={isActive}>\r\n\t\t\t\t\t\t{t(`options.common.${side}`)} <StyledSideIcon side={side} />\r\n\t\t\t\t\t</SideIndication>\r\n\t\t\t\t</FormRow>\r\n\t\t\t\t<FormRow>\r\n\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t<FormInputLabelRow>\r\n\t\t\t\t\t\t\t<FormInputLabel htmlFor={amountInputId}>\r\n\t\t\t\t\t\t\t\t{t(`${transKey}.amount-label`)}\r\n\t\t\t\t\t\t\t</FormInputLabel>\r\n\t\t\t\t\t\t\t<MaxButton\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tif (isActive) {\r\n\t\t\t\t\t\t\t\t\t\tonMaxClick();\r\n\t\t\t\t\t\t\t\t\t} else onClick();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('common.max')}\r\n\t\t\t\t\t\t\t</MaxButton>\r\n\t\t\t\t\t\t</FormInputLabelRow>\r\n\t\t\t\t\t\t<StyledNumericInputWithCurrency\r\n\t\t\t\t\t\t\tcurrencyKey={SYNTHS_MAP.sUSD}\r\n\t\t\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\t\t\tonChange={onAmountChange}\r\n\t\t\t\t\t\t\tshowIcon={false}\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\tid: amountInputId,\r\n\t\t\t\t\t\t\t\tmin: '0',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</FormRow>\r\n\t\t\t\t<FormRow>\r\n\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t<FormLabelRow>\r\n\t\t\t\t\t\t\t<FormInputLabel htmlFor={priceInputId}>{t(`${transKey}.price-label`)}</FormInputLabel>\r\n\t\t\t\t\t\t\t<FlexDiv>\r\n\t\t\t\t\t\t\t\t<FormInputPriceShiftLabel highlighted={priceShift > SLIPPAGE_THRESHOLD}>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, priceShift, 3)}\r\n\t\t\t\t\t\t\t\t</FormInputPriceShiftLabel>\r\n\t\t\t\t\t\t\t\t{type === 'bid' ? (\r\n\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\ttitle={<span>{t('options.market.trade-card.shared.price-shift')}</span>}\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\t\t\t\tarrow={true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<QuestionMarkIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t<QuestionMark />\r\n\t\t\t\t\t\t\t\t\t\t</QuestionMarkIcon>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</FlexDiv>\r\n\t\t\t\t\t\t</FormLabelRow>\r\n\t\t\t\t\t\t<StyledNumericInput\r\n\t\t\t\t\t\t\tid={priceInputId}\r\n\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\tonChange={onPriceChange}\r\n\t\t\t\t\t\t\tplaceholder=\"0\"\r\n\t\t\t\t\t\t\tstep=\"0.1\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\tmax=\"1\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</FormRow>\r\n\t\t\t</Section>\r\n\t\t\t<CurrentPositionSection>\r\n\t\t\t\t<SectionTitle>\r\n\t\t\t\t\t{t('options.market.trade-card.bidding.common.current-position')}\r\n\t\t\t\t</SectionTitle>\r\n\t\t\t\t<SectionBody>\r\n\t\t\t\t\t{t('options.market.trade-card.bidding.common.bid')}{' '}\r\n\t\t\t\t\t<StyledCurrencyKey>\r\n\t\t\t\t\t\t{formatCurrencyWithKey(SYNTHS_MAP.sUSD, currentPosition.bid)}\r\n\t\t\t\t\t</StyledCurrencyKey>\r\n\t\t\t\t</SectionBody>\r\n\t\t\t\t<SectionBody>\r\n\t\t\t\t\t{t('options.market.trade-card.bidding.common.payout')}{' '}\r\n\t\t\t\t\t<StyledCurrencyKey>\r\n\t\t\t\t\t\t{formatCurrencyWithKey(SYNTHS_MAP.sUSD, currentPosition.payout)}\r\n\t\t\t\t\t</StyledCurrencyKey>\r\n\t\t\t\t</SectionBody>\r\n\t\t\t</CurrentPositionSection>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nconst FormInputLabelRow = styled(FlexDivRow)`\r\n\talign-items: center;\r\n`;\r\n\r\nconst Section = styled.div`\r\n\t${formLabelSmallCSS};\r\n`;\r\n\r\nconst StyledSideIcon = styled(SideIcon)`\r\n\tmargin-left: 8px;\r\n`;\r\n\r\nconst Container = styled(GridDivRow)<{ isActive: boolean }>`\r\n\tposition: relative;\r\n\tpadding: 12px;\r\n\tgrid-gap: 12px;\r\n\t> ${Section} {\r\n\t\tpadding: 12px;\r\n\t\tbackground-color: ${(props) =>\r\n\t\t\tprops.isActive ? props.theme.colors.surfaceL3 : props.theme.colors.surfaceL2};\r\n\r\n\t\tborder: 1px solid ${(props) => props.theme.colors.accentL2};\r\n\t}\r\n\t${(props) =>\r\n\t\t!props.isActive &&\r\n\t\tcss`\r\n\t\t\tcursor: pointer;\r\n\t\t`};\r\n`;\r\n\r\nconst FormInputLabel = styled.label`\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n\ttext-align: left;\r\n\tcursor: pointer;\r\n`;\r\n\r\nconst FormInputPriceShiftLabel = styled(FormInputLabel)<{ highlighted: boolean }>`\r\n\t${(props) =>\r\n\t\tprops.highlighted &&\r\n\t\tcss`\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: ${(props) => props.theme.colors.red};\r\n\t\t`}\r\n`;\r\n\r\nconst FormRow = styled.div`\r\n\tpadding-bottom: 12px;\r\n`;\r\n\r\nconst FormControl = styled(GridDivRow)`\r\n\tgrid-gap: 8px;\r\n`;\r\n\r\nconst FormLabelRow = styled(FlexDiv)`\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst StyledNumericInput = styled(NumericInput)`\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL2};\r\n\tborder-color: ${(props) =>\r\n\t\tprops.theme.isDarkTheme ? props.theme.colors.accentL1 : props.theme.colors.accentL2};\r\n`;\r\n\r\nconst StyledNumericInputWithCurrency = styled(NumericInputWithCurrency)`\r\n\t.input {\r\n\t\tbackground-color: ${(props) => props.theme.colors.surfaceL2};\r\n\t\tborder-color: ${(props) =>\r\n\t\t\tprops.theme.isDarkTheme ? props.theme.colors.accentL1 : props.theme.colors.accentL2};\r\n\t}\r\n\r\n\t.currency-container {\r\n\t\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\t\tborder-color: ${(props) =>\r\n\t\t\tprops.theme.isDarkTheme ? props.theme.colors.accentL1 : props.theme.colors.accentL2};\r\n\t\t> span {\r\n\t\t\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst SideIndication = styled.div<{ isHighlighted: boolean }>`\r\n\t${labelMediumCSS};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\tbackground-color: ${(props) =>\r\n\t\tprops.isHighlighted ? props.theme.colors.accentL1 : props.theme.colors.surfaceL3};\r\n\tborder: 1px solid\r\n\t\t${(props) => (props.isHighlighted ? props.theme.colors.accentL2 : 'transparent')};\r\n\tborder-radius: 2px;\r\n\theight: 32px;\r\n\tpadding: 8px;\r\n\ttext-align: center;\r\n\tcursor: ${(props) => (props.isHighlighted ? 'default' : 'pointer')};\r\n`;\r\n\r\nconst CurrentPositionSection = styled(Section)`\r\n\ttext-align: center;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n`;\r\n\r\nconst SectionTitle = styled.div`\r\n\tpadding-bottom: 8px;\r\n`;\r\n\r\nconst StyledCurrencyKey = styled(CurrencyKey)`\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n`;\r\n\r\nconst SectionBody = styled.div`\r\n\tpadding-bottom: 3px;\r\n`;\r\n\r\nconst MaxButton = styled.button`\r\n\t${resetButtonCSS};\r\n\tcolor: ${(props) => props.theme.colors.buttonHover};\r\n\ttext-transform: uppercase;\r\n\tfont-size: 12px;\r\n`;\r\n\r\nexport default TradeSide;\r\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { ConnectedProps, connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { queryCache, AnyQueryKey } from 'react-query';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nimport { ReactComponent as WalletIcon } from 'assets/images/wallet.svg';\r\nimport { ReactComponent as BlockedIcon } from 'assets/images/blocked.svg';\r\n\r\nimport { OptionsTransaction, TradeCardPhaseProps } from 'pages/Options/types';\r\nimport { RootState } from 'ducks/types';\r\nimport { getWalletBalancesMap } from 'ducks/wallet/walletBalances';\r\nimport { getGasInfo } from 'ducks/transaction';\r\nimport { getIsWalletConnected, getCurrentWalletAddress } from 'ducks/wallet/walletDetails';\r\nimport {\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n} from 'ducks/options/pendingTransaction';\r\n\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\nimport { SYNTHS_MAP } from 'constants/currency';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\nimport { APPROVAL_EVENTS } from 'constants/events';\r\nimport { SLIPPAGE_THRESHOLD } from 'constants/ui';\r\n\r\nimport { getCurrencyKeyBalance, getCurrencyKeyUSDBalanceBN } from 'utils/balances';\r\nimport { formatCurrencyWithKey, getAddress } from 'utils/formatters';\r\nimport { normalizeGasLimit } from 'utils/transactions';\r\nimport { GWEI_UNIT } from 'utils/networkUtils';\r\n\r\nimport { FlexDivRowCentered, GridDivCenteredCol, FlexDivCentered } from 'shared/commonStyles';\r\n\r\nimport Card from 'components/Card';\r\nimport { Button } from 'components/Button';\r\nimport { formLabelSmallCSS } from 'components/Typography/Form';\r\n\r\nimport BidNetworkFees from '../components/BidNetworkFees';\r\nimport { useBOMContractContext } from '../../contexts/BOMContractContext';\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\n\r\nimport {\r\n\tStyledTimeRemaining,\r\n\tCardContent,\r\n\tActionButton,\r\n\tStyledCardBody,\r\n\tPhaseEnd,\r\n} from '../common';\r\n\r\nimport TradeSide from './TradeSide';\r\nimport { ethers } from 'ethers';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { useLocalStorage } from 'shared/hooks/useLocalStorage';\r\nimport { LOCAL_STORAGE_KEYS } from 'constants/storage';\r\nimport DismissableMessage from 'components/DismissableMessage';\r\n\r\nconst TIMEOUT_DELAY = 2500;\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\twalletBalancesMap: getWalletBalancesMap(state),\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n\tcurrentWalletAddress: getCurrentWalletAddress(state),\r\n\tgasInfo: getGasInfo(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype BiddingPhaseCardProps = PropsFromRedux & TradeCardPhaseProps;\r\n\r\nfunction getPriceDifference(currentPrice: number, newPrice: number) {\r\n\treturn newPrice - currentPrice;\r\n}\r\n\r\nconst BiddingPhaseCard: FC<BiddingPhaseCardProps> = ({\r\n\toptionsMarket,\r\n\tisWalletConnected,\r\n\twalletBalancesMap,\r\n\tcurrentWalletAddress,\r\n\tgasInfo,\r\n\taccountMarketInfo,\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n}) => {\r\n\tconst { longPrice, shortPrice, fees, isResolved, BN } = optionsMarket;\r\n\tconst { t } = useTranslation();\r\n\tconst BOMContract = useBOMContractContext();\r\n\tconst [gasLimit, setGasLimit] = useState<number | null>(null);\r\n\tconst [hasAllowance, setAllowance] = useState<boolean>(false);\r\n\tconst [isAllowing, setIsAllowing] = useState<boolean>(false);\r\n\tconst [type, setType] = useState<OptionsTransaction['type']>('bid');\r\n\tconst [isBidding, setIsBidding] = useState<boolean>(false);\r\n\tconst [priceShift, setPriceShift] = useState<number>(0);\r\n\tconst [longSideAmount, setLongSideAmount] = useState<OptionsTransaction['amount'] | string>('');\r\n\tconst [shortSideAmount, setShortSideAmount] = useState<OptionsTransaction['amount'] | string>('');\r\n\tconst [longPriceAmount, setLongPriceAmount] = useState<string | number>('');\r\n\tconst [shortPriceAmount, setShortPriceAmount] = useState<string | number>('');\r\n\tconst [\r\n\t\twithdrawalsDisabledTooltipDismissedMarkets,\r\n\t\tsetWithdrawalsDisabledTooltipDismissedMarkets,\r\n\t] = useLocalStorage(LOCAL_STORAGE_KEYS.BO_WITHDRAWALS_DISABLED_TOOLTIP_DISMISSED, []);\r\n\r\n\tconst withdrawalsDisabledTooltipDismissed = withdrawalsDisabledTooltipDismissedMarkets.includes(\r\n\t\toptionsMarket.address\r\n\t);\r\n\r\n\tconst [side, setSide] = useState<OptionsTransaction['side']>('long');\r\n\r\n\tconst [pricesAfterBidOrRefundTimer, setPricesAfterBidOrRefundTimer] = useState<number | null>(\r\n\t\tnull\r\n\t);\r\n\tconst [bidOrRefundForPriceTimer, setBidOrRefundForPriceTimer] = useState<number | null>(null);\r\n\r\n\tconst { bids, claimable } = accountMarketInfo;\r\n\tconst longPosition = {\r\n\t\tbid: bids.long,\r\n\t\tpayout: claimable.long,\r\n\t};\r\n\tconst shortPosition = {\r\n\t\tbid: bids.short,\r\n\t\tpayout: claimable.short,\r\n\t};\r\n\tconst isRefund = type === 'refund';\r\n\tconst isBid = type === 'bid';\r\n\tconst isLong = side === 'long';\r\n\tconst isShort = side === 'short';\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (pricesAfterBidOrRefundTimer) {\r\n\t\t\t\tclearTimeout(pricesAfterBidOrRefundTimer);\r\n\t\t\t}\r\n\t\t\tif (bidOrRefundForPriceTimer) {\r\n\t\t\t\tclearTimeout(bidOrRefundForPriceTimer);\r\n\t\t\t}\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tconst transKey = isBid\r\n\t\t? 'options.market.trade-card.bidding.bid'\r\n\t\t: 'options.market.trade-card.bidding.refund';\r\n\r\n\tconst sUSDBalance = getCurrencyKeyBalance(walletBalancesMap, SYNTHS_MAP.sUSD) || 0;\r\n\tconst sUSDBalanceBN = getCurrencyKeyUSDBalanceBN(walletBalancesMap, SYNTHS_MAP.sUSD) || 0;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchGasLimit = async (isShort: boolean, amount: string) => {\r\n\t\t\tconst {\r\n\t\t\t\tutils: { parseEther },\r\n\t\t\t} = snxJSConnector as any;\r\n\t\t\ttry {\r\n\t\t\t\tconst bidOrRefundAmount =\r\n\t\t\t\t\tamount === sUSDBalance ? sUSDBalanceBN : parseEther(amount.toString());\r\n\t\t\t\tconst BOMContractWithSigner = BOMContract.connect((snxJSConnector as any).signer);\r\n\t\t\t\tconst bidOrRefundFunction = isBid\r\n\t\t\t\t\t? BOMContractWithSigner.estimate.bid\r\n\t\t\t\t\t: BOMContractWithSigner.estimate.refund;\r\n\t\t\t\tconst gasEstimate = await bidOrRefundFunction(isShort ? 1 : 0, bidOrRefundAmount);\r\n\t\t\t\tsetGasLimit(normalizeGasLimit(Number(gasEstimate)));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tsetGasLimit(null);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (!hasAllowance || !isWalletConnected || (!shortSideAmount && !longSideAmount)) return;\r\n\t\tconst amount = isShort ? shortSideAmount : longSideAmount;\r\n\t\tfetchGasLimit(isShort, amount as string);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [isWalletConnected, shortSideAmount, longSideAmount, hasAllowance]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst {\r\n\t\t\tsnxJS: { sUSD },\r\n\t\t} = snxJSConnector as any;\r\n\r\n\t\tconst getAllowance = async () => {\r\n\t\t\tconst allowance = await sUSD.allowance(currentWalletAddress, BOMContract.address);\r\n\t\t\tsetAllowance(!!Number(allowance));\r\n\t\t};\r\n\r\n\t\tconst registerAllowanceListener = () => {\r\n\t\t\tsUSD.contract.on(APPROVAL_EVENTS.APPROVAL, (owner: string, spender: string) => {\r\n\t\t\t\tif (owner === currentWalletAddress && spender === getAddress(BOMContract.address)) {\r\n\t\t\t\t\tsetAllowance(true);\r\n\t\t\t\t\tsetIsAllowing(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\tif (isWalletConnected) {\r\n\t\t\tgetAllowance();\r\n\t\t\tregisterAllowanceListener();\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsUSD.contract.removeAllListeners(APPROVAL_EVENTS.APPROVAL);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentWalletAddress, isWalletConnected]);\r\n\r\n\tconst handleAllowance = async () => {\r\n\t\tconst {\r\n\t\t\tsnxJS: { sUSD },\r\n\t\t} = snxJSConnector as any;\r\n\t\ttry {\r\n\t\t\tsetIsAllowing(true);\r\n\t\t\tconst maxInt = `0x${'f'.repeat(64)}`;\r\n\t\t\tconst gasEstimate = await sUSD.contract.estimate.approve(BOMContract.address, maxInt);\r\n\t\t\tawait sUSD.approve(BOMContract.address, maxInt, {\r\n\t\t\t\tgasLimit: normalizeGasLimit(Number(gasEstimate)),\r\n\t\t\t\tgasPrice: gasInfo.gasPrice * GWEI_UNIT,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetIsAllowing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleBidOrRefund = async () => {\r\n\t\tconst {\r\n\t\t\tutils: { parseEther },\r\n\t\t} = snxJSConnector as any;\r\n\t\tconst amount = isShort ? shortSideAmount : longSideAmount;\r\n\t\tif (!amount) return;\r\n\t\ttry {\r\n\t\t\tsetIsBidding(true);\r\n\t\t\tconst BOMContractWithSigner = BOMContract.connect((snxJSConnector as any).signer);\r\n\t\t\tconst bidOrRefundFunction = isBid ? BOMContractWithSigner.bid : BOMContractWithSigner.refund;\r\n\t\t\tconst bidOrRefundAmount =\r\n\t\t\t\tamount === sUSDBalance ? sUSDBalanceBN : parseEther(amount.toString());\r\n\t\t\tconst tx = (await bidOrRefundFunction(isShort ? 1 : 0, bidOrRefundAmount, {\r\n\t\t\t\tgasLimit,\r\n\t\t\t\tgasPrice: gasInfo.gasPrice * GWEI_UNIT,\r\n\t\t\t})) as ethers.ContractTransaction;\r\n\r\n\t\t\taddOptionsPendingTransaction({\r\n\t\t\t\toptionTransaction: {\r\n\t\t\t\t\thash: tx.hash!,\r\n\t\t\t\t\tmarket: optionsMarket.address,\r\n\t\t\t\t\tcurrencyKey: optionsMarket.currencyKey,\r\n\t\t\t\t\taccount: currentWalletAddress!,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\tamount,\r\n\t\t\t\t\tside,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\ttx.wait().then((txResult) => {\r\n\t\t\t\tif (txResult && txResult.transactionHash) {\r\n\t\t\t\t\tupdateOptionsPendingTransactionStatus({\r\n\t\t\t\t\t\thash: txResult.transactionHash,\r\n\t\t\t\t\t\tstatus: 'confirmed',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetIsBidding(false);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetIsBidding(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTargetPrice = async (\r\n\t\ttargetPrice: string,\r\n\t\tisShort: boolean,\r\n\t\ttargetShort: boolean,\r\n\t\tisRefund: boolean\r\n\t) => {\r\n\t\tconst {\r\n\t\t\tutils: { parseEther },\r\n\t\t\tbinaryOptionsUtils: { bidOrRefundForPrice },\r\n\t\t} = snxJSConnector as any;\r\n\t\tconst setPriceAmountFunction = isShort ? setShortPriceAmount : setLongPriceAmount;\r\n\t\tconst setSideAmountFunction = isShort ? setShortSideAmount : setLongSideAmount;\r\n\t\tconst bidPrice = isShort ? shortPrice : longPrice;\r\n\t\ttry {\r\n\t\t\tif (!targetPrice || Number(targetPrice) > 1) {\r\n\t\t\t\tsetPriceAmountFunction('');\r\n\t\t\t\tsetPriceShift(0);\r\n\t\t\t\tif (bidOrRefundForPriceTimer) clearTimeout(bidOrRefundForPriceTimer);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetPriceAmountFunction(targetPrice);\r\n\r\n\t\t\tconst estimatedAmountNeeded = bidOrRefundForPrice({\r\n\t\t\t\tbidSide: isShort ? 1 : 0,\r\n\t\t\t\tpriceSide: targetShort ? 1 : 0,\r\n\t\t\t\tprice: parseEther(targetPrice),\r\n\t\t\t\trefund: isRefund,\r\n\t\t\t\tfee: BN.feeBN,\r\n\t\t\t\trefundFee: BN.refundFeeBN,\r\n\t\t\t\tlongBids: BN.totalLongBN,\r\n\t\t\t\tshortBids: BN.totalShortBN,\r\n\t\t\t\tdeposited: BN.depositedBN,\r\n\t\t\t});\r\n\r\n\t\t\tsetSideAmountFunction(estimatedAmountNeeded / 1e18);\r\n\t\t\tsetPriceShift(getPriceDifference(bidPrice, Number(targetPrice)));\r\n\r\n\t\t\tif (bidOrRefundForPriceTimer) {\r\n\t\t\t\tclearTimeout(bidOrRefundForPriceTimer);\r\n\t\t\t}\r\n\t\t\tsetBidOrRefundForPriceTimer(\r\n\t\t\t\tsetTimeout(async () => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst amountNeeded = await BOMContract.bidOrRefundForPrice(\r\n\t\t\t\t\t\t\tisShort ? 1 : 0,\r\n\t\t\t\t\t\t\ttargetShort ? 1 : 0,\r\n\t\t\t\t\t\t\tparseEther(targetPrice),\r\n\t\t\t\t\t\t\tisRefund\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetSideAmountFunction(amountNeeded / 1e18);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\tsetSideAmountFunction('');\r\n\t\t\t\t\t}\r\n\t\t\t\t}, TIMEOUT_DELAY)\r\n\t\t\t);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetPriceAmountFunction('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst setBidPriceAmount = (newPrice: number) => {\r\n\t\tconst bidPrice = isShort ? shortPrice : longPrice;\r\n\t\tconst setBidPriceFunction = isShort ? setShortPriceAmount : setLongPriceAmount;\r\n\t\tsetBidPriceFunction(newPrice);\r\n\t\tsetPriceShift(getPriceDifference(bidPrice, newPrice));\r\n\t};\r\n\r\n\tconst handleBidAmount = async (amount: string) => {\r\n\t\tisShort ? setShortSideAmount(amount) : setLongSideAmount(amount);\r\n\t\tconst {\r\n\t\t\tutils: { parseEther },\r\n\t\t\tbinaryOptionsUtils: { pricesAfterBidOrRefund },\r\n\t\t} = snxJSConnector as any;\r\n\t\tif (!amount) {\r\n\t\t\tsetLongPriceAmount('');\r\n\t\t\tsetShortPriceAmount('');\r\n\t\t\tif (pricesAfterBidOrRefundTimer) {\r\n\t\t\t\tclearTimeout(pricesAfterBidOrRefundTimer);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst bidOrRefundAmount =\r\n\t\t\t\tamount === sUSDBalance ? sUSDBalanceBN : parseEther(amount.toString());\r\n\r\n\t\t\tconst estimatedPrice = pricesAfterBidOrRefund({\r\n\t\t\t\tside: isShort ? 1 : 0,\r\n\t\t\t\tvalue: bidOrRefundAmount,\r\n\t\t\t\trefund: isRefund,\r\n\t\t\t\tlongBids: BN.totalLongBN,\r\n\t\t\t\tshortBids: BN.totalShortBN,\r\n\t\t\t\tfee: BN.feeBN,\r\n\t\t\t\trefundFee: BN.refundFeeBN,\r\n\t\t\t\tresolved: isResolved,\r\n\t\t\t\tdeposited: BN.depositedBN,\r\n\t\t\t});\r\n\t\t\tsetBidPriceAmount(estimatedPrice[side] / 1e18);\r\n\r\n\t\t\tif (pricesAfterBidOrRefundTimer) {\r\n\t\t\t\tclearTimeout(pricesAfterBidOrRefundTimer);\r\n\t\t\t}\r\n\t\t\tsetPricesAfterBidOrRefundTimer(\r\n\t\t\t\tsetTimeout(async () => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst truePrice = await BOMContract.pricesAfterBidOrRefund(\r\n\t\t\t\t\t\t\tisShort ? 1 : 0,\r\n\t\t\t\t\t\t\tbidOrRefundAmount,\r\n\t\t\t\t\t\t\tisRefund\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetBidPriceAmount(truePrice[side] / 1e18);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, TIMEOUT_DELAY)\r\n\t\t\t);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTypeChange = (selectedType: OptionsTransaction['type']) => {\r\n\t\tsetType(selectedType);\r\n\t\tsetLongPriceAmount('');\r\n\t\tsetShortPriceAmount('');\r\n\t\tsetLongSideAmount('');\r\n\t\tsetShortSideAmount('');\r\n\t\tsetPriceShift(0);\r\n\t};\r\n\r\n\tconst handleSideChange = (selectedSide: OptionsTransaction['side']) => {\r\n\t\tif (side !== selectedSide) {\r\n\t\t\tsetSide(selectedSide);\r\n\t\t\tsetPriceShift(0);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDismissWithdrawalsTooltip = () => {\r\n\t\tsetWithdrawalsDisabledTooltipDismissedMarkets([\r\n\t\t\t...withdrawalsDisabledTooltipDismissedMarkets,\r\n\t\t\toptionsMarket.address,\r\n\t\t]);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<StyledCardHeader>\r\n\t\t\t\t<TabButton isActive={isBid} onClick={() => handleTypeChange('bid')}>\r\n\t\t\t\t\t{t('options.market.trade-card.bidding.bid.title')}\r\n\t\t\t\t</TabButton>\r\n\t\t\t\t{optionsMarket.withdrawalsEnabled ? (\r\n\t\t\t\t\t<TabButton isActive={isRefund} onClick={() => handleTypeChange('refund')}>\r\n\t\t\t\t\t\t{t('options.market.trade-card.bidding.refund.title')}\r\n\t\t\t\t\t</TabButton>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<WithdrawalsTooltip\r\n\t\t\t\t\t\ttitle={<span>{t('options.market.trade-card.bidding.refund.disabled.tooltip')}</span>}\r\n\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\tarrow={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TabDisabled>\r\n\t\t\t\t\t\t\t{t('options.market.trade-card.bidding.refund.title')} <BlockedIcon />\r\n\t\t\t\t\t\t</TabDisabled>\r\n\t\t\t\t\t</WithdrawalsTooltip>\r\n\t\t\t\t)}\r\n\t\t\t</StyledCardHeader>\r\n\t\t\t<StyledCardBody>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<FlexDivRowCentered>\r\n\t\t\t\t\t\t<Title>{t(`${transKey}.subtitle`)}</Title>\r\n\t\t\t\t\t\t<WalletBalance>\r\n\t\t\t\t\t\t\t<WalletIcon />\r\n\t\t\t\t\t\t\t{isWalletConnected\r\n\t\t\t\t\t\t\t\t? formatCurrencyWithKey(SYNTHS_MAP.sUSD, sUSDBalance)\r\n\t\t\t\t\t\t\t\t: EMPTY_VALUE}\r\n\t\t\t\t\t\t</WalletBalance>\r\n\t\t\t\t\t</FlexDivRowCentered>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<TradeSides>\r\n\t\t\t\t\t<TradeSide\r\n\t\t\t\t\t\tside=\"long\"\r\n\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\tisActive={isLong}\r\n\t\t\t\t\t\tamount={longSideAmount}\r\n\t\t\t\t\t\tonAmountChange={(e) => handleBidAmount(e.target.value)}\r\n\t\t\t\t\t\tonMaxClick={() => handleBidAmount(isRefund ? longPosition.bid : sUSDBalance)}\r\n\t\t\t\t\t\tprice={longPriceAmount}\r\n\t\t\t\t\t\tonPriceChange={(e) => handleTargetPrice(e.target.value, false, false, isRefund)}\r\n\t\t\t\t\t\tonClick={() => handleSideChange('long')}\r\n\t\t\t\t\t\ttransKey={transKey}\r\n\t\t\t\t\t\tcurrentPosition={longPosition}\r\n\t\t\t\t\t\tpriceShift={isLong ? priceShift : 0}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TradeSideSeparator />\r\n\t\t\t\t\t<TradeSide\r\n\t\t\t\t\t\tside=\"short\"\r\n\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\tisActive={isShort}\r\n\t\t\t\t\t\tamount={shortSideAmount}\r\n\t\t\t\t\t\tonAmountChange={(e) => handleBidAmount(e.target.value)}\r\n\t\t\t\t\t\tonMaxClick={() => handleBidAmount(isRefund ? shortPosition.bid : sUSDBalance)}\r\n\t\t\t\t\t\tprice={shortPriceAmount}\r\n\t\t\t\t\t\tonPriceChange={(e) => handleTargetPrice(e.target.value, true, true, isRefund)}\r\n\t\t\t\t\t\tonClick={() => handleSideChange('short')}\r\n\t\t\t\t\t\ttransKey={transKey}\r\n\t\t\t\t\t\tcurrentPosition={shortPosition}\r\n\t\t\t\t\t\tpriceShift={isShort ? priceShift : 0}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TradeSides>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<BidNetworkFees\r\n\t\t\t\t\t\tgasLimit={gasLimit}\r\n\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\tamount={isLong ? longSideAmount : shortSideAmount}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PaddedWithdrawalsTooltip\r\n\t\t\t\t\t\topen={optionsMarket.withdrawalsEnabled ? false : !withdrawalsDisabledTooltipDismissed}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<StyledDismissableMessage\r\n\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tonDismiss={handleDismissWithdrawalsTooltip}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('options.market.trade-card.bidding.refund.disabled.first-time-tooltip')}\r\n\t\t\t\t\t\t\t</StyledDismissableMessage>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tinteractive={true}\r\n\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\tarrow={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{hasAllowance ? (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\topen={isBid && Math.abs(priceShift) > SLIPPAGE_THRESHOLD}\r\n\t\t\t\t\t\t\t\t\ttitle={<span>{t(`${transKey}.confirm-button.high-slippage`)}</span>}\r\n\t\t\t\t\t\t\t\t\tarrow={true}\r\n\t\t\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t\t\tpalette=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isBidding || !isWalletConnected || !sUSDBalance || !gasLimit}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleBidOrRefund}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{!isBidding\r\n\t\t\t\t\t\t\t\t\t\t\t? t(`${transKey}.confirm-button.label`)\r\n\t\t\t\t\t\t\t\t\t\t\t: t(`${transKey}.confirm-button.progress-label`)}\r\n\t\t\t\t\t\t\t\t\t</ActionButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t\tpalette=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isAllowing || !isWalletConnected}\r\n\t\t\t\t\t\t\t\t\tonClick={handleAllowance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!isAllowing\r\n\t\t\t\t\t\t\t\t\t\t? t('common.enable-wallet-access.label')\r\n\t\t\t\t\t\t\t\t\t\t: t('common.enable-wallet-access.progress-label')}\r\n\t\t\t\t\t\t\t\t</ActionButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</PaddedWithdrawalsTooltip>\r\n\t\t\t\t\t<PhaseEnd>\r\n\t\t\t\t\t\t{t('options.market.trade-card.bidding.footer.end-label')}{' '}\r\n\t\t\t\t\t\t<StyledTimeRemaining\r\n\t\t\t\t\t\t\tend={optionsMarket.timeRemaining}\r\n\t\t\t\t\t\t\tonEnded={() =>\r\n\t\t\t\t\t\t\t\tqueryCache.invalidateQueries(\r\n\t\t\t\t\t\t\t\t\t(QUERY_KEYS.BinaryOptions.Market(optionsMarket.address) as unknown) as AnyQueryKey\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PhaseEnd>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</StyledCardBody>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nconst StyledCardHeader = styled(Card.Header)`\r\n\tpadding: 0;\r\n\t> * + * {\r\n\t\tmargin-left: 0;\r\n\t}\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr 1fr;\r\n\tpadding: 4px;\r\n\tgrid-gap: 4px;\r\n`;\r\n\r\nexport const TabButton = styled(Button).attrs({ size: 'sm', palette: 'tab' })``;\r\n\r\nconst TabDisabled = styled(FlexDivCentered)`\r\n\tfont-size: 14px;\r\n\tjustify-content: center;\r\n\tcolor: ${(props) => props.theme.colors.red};\r\n\tsvg {\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\tcursor: not-allowed;\r\n`;\r\n\r\nconst WalletBalance = styled(GridDivCenteredCol)`\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n\tfont-size: 12px;\r\n\tgrid-gap: 8px;\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n`;\r\n\r\nconst Title = styled.div`\r\n\t${formLabelSmallCSS};\r\n\ttext-transform: none;\r\n`;\r\n\r\nconst TradeSides = styled(GridDivCenteredCol)`\r\n\tgrid-auto-flow: initial;\r\n\tgrid-template-columns: 1fr auto 1fr;\r\n\tborder-bottom: 1px solid\r\n\t\t${(props) =>\r\n\t\t\tprops.theme.isDarkTheme ? props.theme.colors.accentL1 : props.theme.colors.accentL2};\r\n`;\r\n\r\nconst TradeSideSeparator = styled.div`\r\n\twidth: 1px;\r\n\theight: 100%;\r\n\tbackground-color: ${(props) =>\r\n\t\tprops.theme.isDarkTheme ? props.theme.colors.accentL1 : props.theme.colors.accentL2};\r\n`;\r\n\r\nconst WithdrawalsTooltip = withStyles({\r\n\ttooltip: {\r\n\t\twidth: '220px',\r\n\t\ttextAlign: 'center',\r\n\t},\r\n})(Tooltip);\r\n\r\nconst PaddedWithdrawalsTooltip = withStyles({\r\n\tpopper: {\r\n\t\t// TODO: this is set to the default modal z-index (https://material-ui.com/customization/z-index/) to override the behaviour (the tooltip overlays the modals since it has higher z-index)\r\n\t\t// We need a central place for both our own z-index and MUI.\r\n\t\tzIndex: 1300,\r\n\t},\r\n\ttooltip: {\r\n\t\twidth: '220px',\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: '10px',\r\n\t},\r\n\ttooltipPlacementTop: {\r\n\t\tposition: 'relative',\r\n\t\ttop: '-10px',\r\n\t},\r\n})(Tooltip);\r\n\r\nconst StyledDismissableMessage = styled(DismissableMessage)`\r\n\tpadding: 0;\r\n\talign-items: flex-start;\r\n`;\r\n\r\nexport default connector(BiddingPhaseCard);\r\n","import { useState } from 'react';\r\n\r\n// https://usehooks.com/useLocalStorage\r\nexport function useLocalStorage(key: string, initialValue: any) {\r\n\t// State to store our value\r\n\t// Pass initial state function to useState so logic is only executed once\r\n\tconst [storedValue, setStoredValue] = useState(() => {\r\n\t\ttry {\r\n\t\t\t// Get from local storage by key\r\n\t\t\tconst item = window.localStorage.getItem(key);\r\n\t\t\t// Parse stored json or if none return initialValue\r\n\t\t\treturn item ? JSON.parse(item) : initialValue;\r\n\t\t} catch (error) {\r\n\t\t\t// If error also return initialValue\r\n\t\t\tconsole.log(error);\r\n\t\t\treturn initialValue;\r\n\t\t}\r\n\t});\r\n\r\n\t// Return a wrapped version of useState's setter function that ...\r\n\t// ... persists the new value to localStorage.\r\n\tconst setValue = (value: any) => {\r\n\t\ttry {\r\n\t\t\t// Allow value to be a function so we have same API as useState\r\n\t\t\tconst valueToStore = value instanceof Function ? value(storedValue) : value;\r\n\t\t\t// Save state\r\n\t\t\tsetStoredValue(valueToStore);\r\n\t\t\t// Save to local storage\r\n\t\t\twindow.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n\t\t} catch (error) {\r\n\t\t\t// A more advanced implementation would handle the error case\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn [storedValue, setValue];\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 16,\n  fill: \"#CACAF1\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M22.7995 11.5899C24.2517 13.1509 25.1431 15.2071 25.1431 17.4695C25.1431 22.3385 21.0497 26.2858 16.0003 26.2858C10.9509 26.2858 6.85742 22.3385 6.85742 17.4695C6.85742 13.1019 10.1539 9.48627 14.4765 8.78538V6.69395H13.4606C13.1797 6.69395 12.9527 6.47452 12.9527 6.20415C12.9527 5.93378 13.1797 5.71436 13.4606 5.71436H18.54C18.8209 5.71436 19.0479 5.93378 19.0479 6.20415C19.0479 6.47452 18.8209 6.69395 18.54 6.69395H17.5241V8.78293C19.2648 9.0675 20.8379 9.82325 22.0981 10.9135L23.281 9.7728C23.4746 9.58619 23.7885 9.58619 23.9825 9.7728C24.176 9.95942 24.176 10.2626 23.9825 10.4492L22.7995 11.5899ZM16.5082 6.69395H15.4923V8.67811C15.6615 8.6688 15.8286 8.65313 16.0003 8.65313C16.172 8.65313 16.3391 8.66734 16.5082 8.67615V6.69395ZM16.0003 9.63272C11.5122 9.63272 7.87329 13.1411 7.87329 17.4695C7.87329 21.7978 11.5122 25.3062 16.0003 25.3062C20.4889 25.3062 24.1273 21.7978 24.1273 17.4695C24.1273 13.1416 20.4889 9.63272 16.0003 9.63272ZM16.0003 19.4286C14.8782 19.4286 13.9685 18.5514 13.9685 17.4695C13.9685 17.1026 14.0798 16.7632 14.2621 16.4698L11.5736 13.8778C11.3801 13.6912 11.3801 13.388 11.5736 13.2014C11.7676 13.0148 12.0815 13.0148 12.2751 13.2014L14.9636 15.7934C15.2683 15.6175 15.6198 15.5103 16.0003 15.5103C17.1223 15.5103 18.032 16.3875 18.032 17.4695C18.032 18.5514 17.1223 19.4286 16.0003 19.4286ZM16.0003 16.4899C15.4395 16.4899 14.9844 16.9287 14.9844 17.4695C14.9844 18.0102 15.4395 18.449 16.0003 18.449C16.561 18.449 17.0162 18.0102 17.0162 17.4695C17.0162 16.9287 16.561 16.4899 16.0003 16.4899Z\",\n  fill: \"#1E1A31\",\n  stroke: \"#1E1A31\"\n});\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.db41d47f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport styled from 'styled-components';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { Side } from 'pages/Options/types';\r\n\r\nimport { formatCurrency, formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport { headingH6CSS } from 'components/Typography/Heading';\r\n\r\nimport SideIcon from 'pages/Options/Market/components/SideIcon';\r\n\r\ntype OptionResultProps = {\r\n\tside: Side;\r\n\tamount: number;\r\n\tprice?: number;\r\n\tclaimableAmount?: number;\r\n};\r\n\r\nconst OptionResult: FC<OptionResultProps> = ({ side, amount, price, claimableAmount, ...rest }) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<Container className={side} {...rest}>\r\n\t\t\t<StyledSideIcon side={side} />\r\n\t\t\t<Amount>{t(`options.common.amount-${side}`, { amount: formatCurrency(amount) })}</Amount>\r\n\t\t\t{claimableAmount != null && (\r\n\t\t\t\t<Info>\r\n\t\t\t\t\t{t('options.common.claimable-amount', { amount: formatCurrency(claimableAmount) })}\r\n\t\t\t\t</Info>\r\n\t\t\t)}\r\n\t\t\t{price != null && (\r\n\t\t\t\t<Info>\r\n\t\t\t\t\t{t('options.common.final-price')} {formatCurrencyWithSign(USD_SIGN, price)}\r\n\t\t\t\t</Info>\r\n\t\t\t)}\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nconst Container = styled.div`\r\n\tborder: 1px solid ${(props) => props.theme.colors.accentL1};\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n`;\r\n\r\nconst StyledSideIcon = styled(SideIcon)`\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nconst Amount = styled.div`\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\t${headingH6CSS};\r\n\ttext-transform: uppercase;\r\n`;\r\n\r\nconst Info = styled.div`\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\tfont-size: 12px;\r\n\ttext-transform: uppercase;\r\n\twhite-space: nowrap;\r\n\tpadding-bottom: 3px;\r\n\t&:last-child {\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n`;\r\n\r\nexport default OptionResult;\r\n","import React, { FC } from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { GridDivCenteredCol } from 'shared/commonStyles';\r\nimport { Side } from 'pages/Options/types';\r\n\r\nimport { headingH6CSS } from 'components/Typography/Heading';\r\n\r\nimport OptionResult from '../OptionResult';\r\n\r\ntype ResultCardProps = {\r\n\ticon: React.ReactNode;\r\n\ttitle: React.ReactNode;\r\n\tsubTitle: React.ReactNode;\r\n\tlongAmount: number;\r\n\tshortAmount: number;\r\n\tlongPrice?: number;\r\n\tshortPrice?: number;\r\n\tresult?: Side;\r\n\texercised?: boolean;\r\n\tclaimableLongAmount?: number;\r\n\tclaimableShortAmount?: number;\r\n};\r\n\r\nconst ResultCard: FC<ResultCardProps> = ({\r\n\ticon,\r\n\ttitle,\r\n\tsubTitle,\r\n\tlongAmount,\r\n\tshortAmount,\r\n\tlongPrice,\r\n\tshortPrice,\r\n\tresult,\r\n\texercised,\r\n\tclaimableLongAmount,\r\n\tclaimableShortAmount,\r\n\t...rest\r\n}) => (\r\n\t<Container {...rest}>\r\n\t\t<Icon>{icon}</Icon>\r\n\t\t<Title>{title}</Title>\r\n\t\t<Subtitle>{subTitle}</Subtitle>\r\n\t\t<OptionResults result={result} exercised={exercised}>\r\n\t\t\t<OptionResult\r\n\t\t\t\tside=\"long\"\r\n\t\t\t\tamount={longAmount}\r\n\t\t\t\tprice={longPrice}\r\n\t\t\t\tclaimableAmount={claimableLongAmount}\r\n\t\t\t/>\r\n\t\t\t<OptionResult\r\n\t\t\t\tside=\"short\"\r\n\t\t\t\tamount={shortAmount}\r\n\t\t\t\tprice={shortPrice}\r\n\t\t\t\tclaimableAmount={claimableShortAmount}\r\n\t\t\t/>\r\n\t\t</OptionResults>\r\n\t</Container>\r\n);\r\n\r\nconst Container = styled.div`\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\tmargin: 16px;\r\n\tpadding: 18px;\r\n`;\r\n\r\nconst Icon = styled.div`\r\n\ttext-align: center;\r\n\tpadding-top: 10px;\r\n\tpadding-bottom: 13px;\r\n`;\r\n\r\nconst Title = styled.div`\r\n\ttext-align: center;\r\n\tpadding-bottom: 4px;\r\n\t${headingH6CSS};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\ttext-transform: uppercase;\r\n`;\r\n\r\nconst Subtitle = styled.div`\r\n\ttext-align: center;\r\n\tpadding-bottom: 20px;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\tfont-size: 12px;\r\n`;\r\n\r\nconst OptionResults = styled(GridDivCenteredCol)<{ result?: Side; exercised?: boolean }>`\r\n\tgrid-gap: 16px;\r\n\tpadding-bottom: 20px;\r\n\t${(props) =>\r\n\t\tprops.result &&\r\n\t\tcss`\r\n\t\t\t.long {\r\n\t\t\t\topacity: ${props.result === 'long' ? 1 : 0.5};\r\n\t\t\t}\r\n\t\t\t.short {\r\n\t\t\t\topacity: ${props.result === 'short' ? 1 : 0.5};\r\n\t\t\t}\r\n\t\t`}\r\n\t${(props) =>\r\n\t\tprops.exercised &&\r\n\t\tcss`\r\n\t\t\t.long,\r\n\t\t\t.short {\r\n\t\t\t\topacity: 0.5;\r\n\t\t\t}\r\n\t\t`}\r\n`;\r\n\r\nexport default ResultCard;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport DismissableMessage from 'components/DismissableMessage';\r\n\r\ntype TxErrorMessageProps = {\r\n\tchildren: React.ReactNode;\r\n\tonDismiss: () => void;\r\n};\r\n\r\nexport const TxErrorMessage: FC<TxErrorMessageProps> = ({ children, onDismiss, ...rest }) => (\r\n\t<ErrorMessage type=\"error\" size=\"sm\" floating={true} onDismiss={onDismiss} {...rest}>\r\n\t\t{children}\r\n\t</ErrorMessage>\r\n);\r\n\r\nconst ErrorMessage = styled(DismissableMessage)`\r\n\tmargin-top: 8px;\r\n`;\r\n\r\nexport default TxErrorMessage;\r\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { queryCache, AnyQueryKey } from 'react-query';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { normalizeGasLimit } from 'utils/transactions';\r\n\r\nimport { TradeCardPhaseProps } from 'pages/Options/types';\r\nimport { RootState } from 'ducks/types';\r\nimport { getIsWalletConnected, getCurrentWalletAddress } from 'ducks/wallet/walletDetails';\r\n\r\nimport {\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n} from 'ducks/options/pendingTransaction';\r\n\r\nimport Card from 'components/Card';\r\nimport NetworkFees from 'pages/Options/components/NetworkFees';\r\n\r\nimport { ReactComponent as ClockIcon } from 'assets/images/clock.svg';\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\n\r\nimport {\r\n\tStyledTimeRemaining,\r\n\tCardContent,\r\n\tActionButton,\r\n\tStyledCardHeader,\r\n\tStyledCardBody,\r\n\tPhaseEnd,\r\n} from '../common';\r\nimport ResultCard from '../components/ResultCard';\r\nimport { useBOMContractContext } from '../../contexts/BOMContractContext';\r\n\r\nimport TxErrorMessage from 'components/TxErrorMessage';\r\nimport { ethers } from 'ethers';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n\tcurrentWalletAddress: getCurrentWalletAddress(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype TradingPhaseCardProps = PropsFromRedux & TradeCardPhaseProps;\r\n\r\nconst TradingPhaseCard: FC<TradingPhaseCardProps> = ({\r\n\toptionsMarket,\r\n\tisWalletConnected,\r\n\taccountMarketInfo,\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n\tcurrentWalletAddress,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst [txErrorMessage, setTxErrorMessage] = useState<string | null>(null);\r\n\r\n\tconst BOMContract = useBOMContractContext();\r\n\r\n\tconst [isClaiming, setIsClaiming] = useState<boolean>(false);\r\n\tconst [gasLimit, setGasLimit] = useState<number | null>(null);\r\n\r\n\tconst { bids, balances, claimable } = accountMarketInfo;\r\n\r\n\tconst nothingToClaim = !bids.short && !bids.long;\r\n\tconst buttonDisabled = isClaiming || !isWalletConnected || nothingToClaim || !gasLimit;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchGasLimit = async () => {\r\n\t\t\tif (!isWalletConnected) return;\r\n\t\t\ttry {\r\n\t\t\t\tconst BOMContractWithSigner = BOMContract.connect((snxJSConnector as any).signer);\r\n\t\t\t\tconst gasEstimate = await BOMContractWithSigner.estimate.claimOptions();\r\n\t\t\t\tsetGasLimit(normalizeGasLimit(Number(gasEstimate)));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tsetGasLimit(null);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchGasLimit();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [isWalletConnected]);\r\n\r\n\tconst handleClaim = async () => {\r\n\t\ttry {\r\n\t\t\tsetTxErrorMessage(null);\r\n\t\t\tsetIsClaiming(true);\r\n\t\t\tconst BOMContractWithSigner = BOMContract.connect((snxJSConnector as any).signer);\r\n\t\t\tconst tx = (await BOMContractWithSigner.claimOptions()) as ethers.ContractTransaction;\r\n\r\n\t\t\tconst sharedPendingTxProps = {\r\n\t\t\t\tmarket: optionsMarket.address,\r\n\t\t\t\tcurrencyKey: optionsMarket.currencyKey,\r\n\t\t\t\taccount: currentWalletAddress!,\r\n\t\t\t};\r\n\r\n\t\t\tif (claimable.long) {\r\n\t\t\t\taddOptionsPendingTransaction({\r\n\t\t\t\t\toptionTransaction: {\r\n\t\t\t\t\t\t...sharedPendingTxProps,\r\n\t\t\t\t\t\thash: tx.hash!,\r\n\t\t\t\t\t\ttype: 'claim',\r\n\t\t\t\t\t\tamount: claimable.long,\r\n\t\t\t\t\t\tside: 'long',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (claimable.short) {\r\n\t\t\t\taddOptionsPendingTransaction({\r\n\t\t\t\t\toptionTransaction: {\r\n\t\t\t\t\t\t...sharedPendingTxProps,\r\n\t\t\t\t\t\thash: tx.hash!,\r\n\t\t\t\t\t\ttype: 'claim',\r\n\t\t\t\t\t\tamount: claimable.short,\r\n\t\t\t\t\t\tside: 'short',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst txResult = await tx.wait();\r\n\t\t\tif (txResult && txResult.transactionHash) {\r\n\t\t\t\tupdateOptionsPendingTransactionStatus({\r\n\t\t\t\t\thash: txResult.transactionHash,\r\n\t\t\t\t\tstatus: 'confirmed',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetTxErrorMessage(t('common.errors.unknown-error-try-again'));\r\n\t\t} finally {\r\n\t\t\tsetIsClaiming(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<StyledCardHeader>{t('options.market.trade-card.trading.title')}</StyledCardHeader>\r\n\t\t\t<StyledCardBody>\r\n\t\t\t\t<StyledResultCard\r\n\t\t\t\t\ticon={<ClockIcon />}\r\n\t\t\t\t\ttitle={t('options.market.trade-card.trading.card-title')}\r\n\t\t\t\t\tsubTitle={t('options.market.trade-card.trading.card-subtitle')}\r\n\t\t\t\t\tlongAmount={balances.long}\r\n\t\t\t\t\tshortAmount={balances.short}\r\n\t\t\t\t\tlongPrice={optionsMarket.longPrice}\r\n\t\t\t\t\tshortPrice={optionsMarket.shortPrice}\r\n\t\t\t\t\tclaimableLongAmount={claimable.long}\r\n\t\t\t\t\tclaimableShortAmount={claimable.short}\r\n\t\t\t\t/>\r\n\t\t\t\t<StyledCardContent>\r\n\t\t\t\t\t<NetworkFees gasLimit={gasLimit} />\r\n\t\t\t\t\t<ActionButton size=\"lg\" palette=\"primary\" disabled={buttonDisabled} onClick={handleClaim}>\r\n\t\t\t\t\t\t{nothingToClaim\r\n\t\t\t\t\t\t\t? t('options.market.trade-card.trading.confirm-button.success-label')\r\n\t\t\t\t\t\t\t: !isClaiming\r\n\t\t\t\t\t\t\t? t('options.market.trade-card.trading.confirm-button.label')\r\n\t\t\t\t\t\t\t: t('options.market.trade-card.trading.confirm-button.progress-label')}\r\n\t\t\t\t\t</ActionButton>\r\n\t\t\t\t\t{txErrorMessage && (\r\n\t\t\t\t\t\t<TxErrorMessage onDismiss={() => setTxErrorMessage(null)}>\r\n\t\t\t\t\t\t\t{txErrorMessage}\r\n\t\t\t\t\t\t</TxErrorMessage>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<PhaseEnd>\r\n\t\t\t\t\t\t{t('options.market.trade-card.trading.footer.end-label')}{' '}\r\n\t\t\t\t\t\t<StyledTimeRemaining\r\n\t\t\t\t\t\t\tend={optionsMarket.timeRemaining}\r\n\t\t\t\t\t\t\tonEnded={() =>\r\n\t\t\t\t\t\t\t\tqueryCache.invalidateQueries(\r\n\t\t\t\t\t\t\t\t\t(QUERY_KEYS.BinaryOptions.Market(optionsMarket.address) as unknown) as AnyQueryKey\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PhaseEnd>\r\n\t\t\t\t</StyledCardContent>\r\n\t\t\t</StyledCardBody>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nconst StyledResultCard = styled(ResultCard)`\r\n\tmargin-bottom: 94px;\r\n`;\r\n\r\nconst StyledCardContent = styled(CardContent)`\r\n\tborder-top: 1px solid ${(props) => props.theme.colors.accentL1};\r\n`;\r\n\r\nexport default connector(TradingPhaseCard);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 16,\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M16 16.8H19.6V14.2H16V16.8ZM12.4 14.2H16V11.6H12.4V14.2ZM16 11.6H19.6V9H16V11.6ZM23.2 9V11.6H19.6V14.2H23.2V16.8H25V9H23.2ZM8.8 14.2H12.4V16.8H8.8V22H7V9H12.4V11.6H8.8V14.2Z\",\n  fill: \"#1E1A31\"\n});\n\nvar SvgFinish = function SvgFinish(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFinish, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/finish.cb536779.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC, useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport { TradeCardPhaseProps } from 'pages/Options/types';\r\nimport { RootState } from 'ducks/types';\r\nimport { getIsWalletConnected, getCurrentWalletAddress } from 'ducks/wallet/walletDetails';\r\n\r\nimport {\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n} from 'ducks/options/pendingTransaction';\r\n\r\nimport Card from 'components/Card';\r\nimport NetworkFees from 'pages/Options/components/NetworkFees';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { normalizeGasLimit } from 'utils/transactions';\r\nimport { useBOMContractContext } from '../../contexts/BOMContractContext';\r\n\r\nimport { ReactComponent as FinishIcon } from 'assets/images/finish.svg';\r\n\r\nimport { headingH4CSS, headingH6CSS } from 'components/Typography/Heading';\r\nimport { formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport {\r\n\tStyledTimeRemaining,\r\n\tCardContent,\r\n\tActionButton,\r\n\tStyledCardHeader,\r\n\tStyledCardBody,\r\n\tPhaseEnd,\r\n} from '../common';\r\nimport ResultCard from '../components/ResultCard';\r\nimport { USD_SIGN, SYNTHS_MAP } from 'constants/currency';\r\n\r\nimport TxErrorMessage from 'components/TxErrorMessage';\r\nimport { ethers } from 'ethers';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n\tcurrentWalletAddress: getCurrentWalletAddress(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype MaturityPhaseCardProps = PropsFromRedux & TradeCardPhaseProps;\r\n\r\nconst MaturityPhaseCard: FC<MaturityPhaseCardProps> = ({\r\n\toptionsMarket,\r\n\tisWalletConnected,\r\n\taccountMarketInfo,\r\n\taddOptionsPendingTransaction,\r\n\tupdateOptionsPendingTransactionStatus,\r\n\tcurrentWalletAddress,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst BOMContract = useBOMContractContext();\r\n\tconst [txErrorMessage, setTxErrorMessage] = useState<string | null>(null);\r\n\r\n\tconst [isExercising, setIsExercising] = useState<boolean>(false);\r\n\tconst [gasLimit, setGasLimit] = useState<number | null>(null);\r\n\r\n\tconst { balances, claimable } = accountMarketInfo;\r\n\tconst { result } = optionsMarket;\r\n\r\n\tconst longAmount = balances.long + claimable.long;\r\n\tconst shortAmount = balances.short + claimable.short;\r\n\tconst nothingToExercise = !longAmount && !shortAmount;\r\n\tconst isLongResult = result === 'long';\r\n\r\n\tconst buttonDisabled = isExercising || !isWalletConnected || nothingToExercise || !gasLimit;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchGasLimit = async () => {\r\n\t\t\tif (!isWalletConnected) return;\r\n\t\t\ttry {\r\n\t\t\t\tconst BOMContractWithSigner = BOMContract.connect((snxJSConnector as any).signer);\r\n\t\t\t\tconst gasEstimate = await BOMContractWithSigner.estimate.exerciseOptions();\r\n\t\t\t\tsetGasLimit(normalizeGasLimit(Number(gasEstimate)));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tsetGasLimit(null);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchGasLimit();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [isWalletConnected]);\r\n\r\n\tconst handleExercise = async () => {\r\n\t\ttry {\r\n\t\t\tsetTxErrorMessage(null);\r\n\t\t\tsetIsExercising(true);\r\n\t\t\tconst BOMContractWithSigner = BOMContract.connect((snxJSConnector as any).signer);\r\n\t\t\tconst tx = (await BOMContractWithSigner.exerciseOptions()) as ethers.ContractTransaction;\r\n\r\n\t\t\taddOptionsPendingTransaction({\r\n\t\t\t\toptionTransaction: {\r\n\t\t\t\t\tmarket: optionsMarket.address,\r\n\t\t\t\t\tcurrencyKey: optionsMarket.currencyKey,\r\n\t\t\t\t\taccount: currentWalletAddress!,\r\n\t\t\t\t\thash: tx.hash!,\r\n\t\t\t\t\ttype: 'exercise',\r\n\t\t\t\t\tamount: isLongResult ? balances.long : balances.short,\r\n\t\t\t\t\tside: isLongResult ? 'long' : 'short',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tconst txResult = await tx.wait();\r\n\t\t\tif (txResult && txResult.transactionHash) {\r\n\t\t\t\tupdateOptionsPendingTransactionStatus({\r\n\t\t\t\t\thash: txResult.transactionHash,\r\n\t\t\t\t\tstatus: 'confirmed',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetTxErrorMessage(t('common.errors.unknown-error-try-again'));\r\n\t\t} finally {\r\n\t\t\tsetIsExercising(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<StyledCardHeader>{t('options.market.trade-card.maturity.title')}</StyledCardHeader>\r\n\t\t\t<StyledCardBody>\r\n\t\t\t\t<StyledResultCard\r\n\t\t\t\t\ticon={<FinishIcon />}\r\n\t\t\t\t\ttitle={t('options.market.trade-card.maturity.card-title')}\r\n\t\t\t\t\tsubTitle={t('options.market.trade-card.maturity.card-subtitle')}\r\n\t\t\t\t\tlongAmount={longAmount}\r\n\t\t\t\t\tshortAmount={shortAmount}\r\n\t\t\t\t\tresult={result}\r\n\t\t\t\t/>\r\n\t\t\t\t<Payout>\r\n\t\t\t\t\t<PayoutTitle>{t('options.market.trade-card.maturity.payout-amount')}</PayoutTitle>\r\n\t\t\t\t\t<PayoutAmount>\r\n\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, isLongResult ? longAmount : shortAmount)}{' '}\r\n\t\t\t\t\t\t{SYNTHS_MAP.sUSD}\r\n\t\t\t\t\t</PayoutAmount>\r\n\t\t\t\t</Payout>\r\n\t\t\t\t<StyledCardContent>\r\n\t\t\t\t\t<NetworkFees gasLimit={gasLimit} />\r\n\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\tpalette=\"primary\"\r\n\t\t\t\t\t\tdisabled={buttonDisabled}\r\n\t\t\t\t\t\tonClick={handleExercise}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{nothingToExercise\r\n\t\t\t\t\t\t\t? t('options.market.trade-card.maturity.confirm-button.success-label')\r\n\t\t\t\t\t\t\t: !isExercising\r\n\t\t\t\t\t\t\t? t('options.market.trade-card.maturity.confirm-button.label')\r\n\t\t\t\t\t\t\t: t('options.market.trade-card.maturity.confirm-button.progress-label')}\r\n\t\t\t\t\t</ActionButton>\r\n\t\t\t\t\t{txErrorMessage && (\r\n\t\t\t\t\t\t<TxErrorMessage onDismiss={() => setTxErrorMessage(null)}>\r\n\t\t\t\t\t\t\t{txErrorMessage}\r\n\t\t\t\t\t\t</TxErrorMessage>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<PhaseEnd>\r\n\t\t\t\t\t\t{t('options.market.trade-card.maturity.footer.end-label')}{' '}\r\n\t\t\t\t\t\t<StyledTimeRemaining end={optionsMarket.timeRemaining} />\r\n\t\t\t\t\t</PhaseEnd>\r\n\t\t\t\t</StyledCardContent>\r\n\t\t\t</StyledCardBody>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nconst StyledResultCard = styled(ResultCard)`\r\n\tmargin-bottom: 21px;\r\n`;\r\n\r\nconst Payout = styled.div`\r\n\tpadding-bottom: 22px;\r\n\ttext-align: center;\r\n`;\r\n\r\nconst PayoutTitle = styled.div`\r\n\t${headingH6CSS};\r\n\ttext-transform: uppercase;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\tpadding-bottom: 3px;\r\n`;\r\n\r\nconst PayoutAmount = styled.div`\r\n\t${headingH4CSS};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n`;\r\n\r\nconst StyledCardContent = styled(CardContent)`\r\n\tborder-top: 1px solid ${(props) => props.theme.colors.accentL1};\r\n`;\r\n\r\nexport default connector(MaturityPhaseCard);\r\n","import React, { FC, useEffect } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { useQuery, queryCache, AnyQueryKey } from 'react-query';\r\n\r\nimport BiddingPhaseCard from './BiddingPhaseCard';\r\nimport TradingPhaseCard from './TradingPhaseCard';\r\nimport MaturityPhaseCard from './MaturityPhaseCard';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\n\r\nimport { RootState } from 'ducks/types';\r\nimport { getIsWalletConnected, getCurrentWalletAddress } from 'ducks/wallet/walletDetails';\r\n\r\nimport { BINARY_OPTIONS_EVENTS } from 'constants/events';\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\n\r\nimport { useMarketContext } from '../contexts/MarketContext';\r\nimport { useBOMContractContext } from '../contexts/BOMContractContext';\r\n\r\nimport { bigNumberFormatter } from 'utils/formatters';\r\nimport { AccountMarketInfo } from 'pages/Options/types';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n\tcurrentWalletAddress: getCurrentWalletAddress(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype TradeCardProps = PropsFromRedux;\r\n\r\nconst TradeCard: FC<TradeCardProps> = ({ isWalletConnected, currentWalletAddress }) => {\r\n\tconst optionsMarket = useMarketContext();\r\n\tconst BOMContract = useBOMContractContext();\r\n\r\n\tconst accountMarketInfoQuery = useQuery<AccountMarketInfo, any>(\r\n\t\tQUERY_KEYS.BinaryOptions.AccountMarketInfo(\r\n\t\t\toptionsMarket.address,\r\n\t\t\tcurrentWalletAddress as string\r\n\t\t),\r\n\t\tasync () => {\r\n\t\t\tconst result = await (snxJSConnector as any).binaryOptionsMarketDataContract.getAccountMarketData(\r\n\t\t\t\toptionsMarket.address,\r\n\t\t\t\tcurrentWalletAddress\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\tclaimable: {\r\n\t\t\t\t\tlong: bigNumberFormatter(result.claimable.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(result.claimable.short),\r\n\t\t\t\t},\r\n\t\t\t\tbalances: {\r\n\t\t\t\t\tlong: bigNumberFormatter(result.balances.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(result.balances.short),\r\n\t\t\t\t},\r\n\t\t\t\tbids: {\r\n\t\t\t\t\tlong: bigNumberFormatter(result.bids.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(result.bids.short),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\t{\r\n\t\t\tenabled: isWalletConnected,\r\n\t\t}\r\n\t);\r\n\r\n\tlet accountMarketInfo = {\r\n\t\tbalances: {\r\n\t\t\tlong: 0,\r\n\t\t\tshort: 0,\r\n\t\t},\r\n\t\tclaimable: {\r\n\t\t\tlong: 0,\r\n\t\t\tshort: 0,\r\n\t\t},\r\n\t\tbids: {\r\n\t\t\tlong: 0,\r\n\t\t\tshort: 0,\r\n\t\t},\r\n\t};\r\n\r\n\tif (isWalletConnected && accountMarketInfoQuery.isSuccess && accountMarketInfoQuery.data) {\r\n\t\tconst { balances, claimable, bids } = accountMarketInfoQuery.data as AccountMarketInfo;\r\n\r\n\t\taccountMarketInfo.balances = balances;\r\n\t\taccountMarketInfo.claimable = claimable;\r\n\t\taccountMarketInfo.bids = bids;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst refetchQueries = () => {\r\n\t\t\tqueryCache.invalidateQueries(\r\n\t\t\t\t(QUERY_KEYS.BinaryOptions.Market(BOMContract.address) as unknown) as AnyQueryKey\r\n\t\t\t);\r\n\r\n\t\t\tif (currentWalletAddress) {\r\n\t\t\t\tqueryCache.invalidateQueries(\r\n\t\t\t\t\t(QUERY_KEYS.BinaryOptions.AccountMarketInfo(\r\n\t\t\t\t\t\toptionsMarket.address,\r\n\t\t\t\t\t\tcurrentWalletAddress as string\r\n\t\t\t\t\t) as unknown) as AnyQueryKey\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\t\tBOMContract.on(BINARY_OPTIONS_EVENTS.BID, () => {\r\n\t\t\trefetchQueries();\r\n\t\t});\r\n\t\tBOMContract.on(BINARY_OPTIONS_EVENTS.REFUND, () => {\r\n\t\t\trefetchQueries();\r\n\t\t});\r\n\r\n\t\tif (currentWalletAddress) {\r\n\t\t\tBOMContract.on(BINARY_OPTIONS_EVENTS.OPTIONS_CLAIMED, (account: string) => {\r\n\t\t\t\tif (currentWalletAddress === account) {\r\n\t\t\t\t\trefetchQueries();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tBOMContract.on(BINARY_OPTIONS_EVENTS.OPTIONS_EXERCISED, (account: string) => {\r\n\t\t\t\tif (currentWalletAddress === account) {\r\n\t\t\t\t\trefetchQueries();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tBOMContract.removeAllListeners(BINARY_OPTIONS_EVENTS.BID);\r\n\t\t\tBOMContract.removeAllListeners(BINARY_OPTIONS_EVENTS.REFUND);\r\n\t\t\tif (currentWalletAddress) {\r\n\t\t\t\tBOMContract.removeAllListeners(BINARY_OPTIONS_EVENTS.OPTIONS_CLAIMED);\r\n\t\t\t\tBOMContract.removeAllListeners(BINARY_OPTIONS_EVENTS.OPTIONS_EXERCISED);\r\n\t\t\t}\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tconst sharedProps = {\r\n\t\toptionsMarket,\r\n\t\taccountMarketInfo,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{optionsMarket.phase === 'bidding' && <BiddingPhaseCard {...sharedProps} />}\r\n\t\t\t{optionsMarket.phase === 'trading' && <TradingPhaseCard {...sharedProps} />}\r\n\t\t\t{optionsMarket.phase === 'maturity' && <MaturityPhaseCard {...sharedProps} />}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default connector(TradeCard);\r\n","import React, { FC } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport Link from 'components/Link';\r\n\r\nimport { ReactComponent as ArrowHyperlinkIcon } from 'assets/images/arrow-hyperlink.svg';\r\n\r\nimport { getEtherscanTxLink } from 'utils/explorers';\r\nimport { RootState } from 'ducks/types';\r\nimport { getNetworkId } from 'ducks/wallet/walletDetails';\r\nimport { tableDataSmallCSS } from 'components/Typography/Table';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tnetworkId: getNetworkId(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype ViewLinkCellProps = PropsFromRedux & {\r\n\tisDisabled?: boolean;\r\n\thash: string;\r\n};\r\n\r\nexport const ViewLinkCell: FC<ViewLinkCellProps> = ({ isDisabled, networkId, hash, ...rest }) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<StyledLink\r\n\t\t\tisDisabled={isDisabled}\r\n\t\t\tto={getEtherscanTxLink(networkId, hash)}\r\n\t\t\tisExternal={true}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t{t('common.transaction.view')}\r\n\t\t\t<ArrowIcon width=\"8\" height=\"8\" />\r\n\t\t</StyledLink>\r\n\t);\r\n};\r\n\r\nconst StyledLink = styled(Link)<{ isDisabled?: boolean }>`\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n\t${tableDataSmallCSS};\r\n\t/* flex: 150 0 auto;\r\n\tmin-width: 0px;\r\n\twidth: 150px; */\r\n\t${(props) =>\r\n\t\tprops.isDisabled &&\r\n\t\tcss`\r\n\t\t\topacity: 0.3;\r\n\t\t\tpointer-events: none;\r\n\t\t`}\r\n`;\r\n\r\nexport const ArrowIcon = styled(ArrowHyperlinkIcon)`\r\n\tmargin-left: 5px;\r\n`;\r\n\r\nexport default connector(ViewLinkCell);\r\n","import React, { FC, memo } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { CellProps } from 'react-table';\r\n\r\nimport { SYNTHS_MAP } from 'constants/currency';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\n\r\nimport { TableOverflowContainer, GridDivCenteredCol } from 'shared/commonStyles';\r\nimport { formatTxTimestamp, formatCurrencyWithKey } from 'utils/formatters';\r\n\r\nimport Table from 'components/Table';\r\n\r\nimport { OptionsTransaction, OptionsTransactions } from 'pages/Options/types';\r\n\r\nimport ViewLinkCell from 'pages/shared/components/ViewLinkCell';\r\nimport SideIcon from 'pages/Options/Market/components/SideIcon';\r\n\r\ntype TransactionsTableProps = {\r\n\toptionsTransactions: OptionsTransactions;\r\n\tnoResultsMessage?: React.ReactNode;\r\n\tisLoading: boolean;\r\n};\r\n\r\nexport const TransactionsTable: FC<TransactionsTableProps> = memo(\r\n\t({ optionsTransactions, noResultsMessage, isLoading }) => {\r\n\t\tconst { t } = useTranslation();\r\n\t\treturn (\r\n\t\t\t<StyledTableOverflowContainer>\r\n\t\t\t\t<StyledTable\r\n\t\t\t\t\tpalette=\"striped\"\r\n\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tHeader: <>{t('options.market.transactions-card.table.date-time-col')}</>,\r\n\t\t\t\t\t\t\taccessor: 'timestamp',\r\n\t\t\t\t\t\t\tCell: (cellProps: CellProps<OptionsTransaction, OptionsTransaction['timestamp']>) =>\r\n\t\t\t\t\t\t\t\tformatTxTimestamp(cellProps.cell.value),\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tHeader: <>{t('options.market.transactions-card.table.type-col')}</>,\r\n\t\t\t\t\t\t\taccessor: 'type',\r\n\t\t\t\t\t\t\tCell: (cellProps: CellProps<OptionsTransaction, OptionsTransaction['type']>) => (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{t(`options.market.transactions-card.table.types.${cellProps.cell.value}`)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tHeader: <>{t('options.market.transactions-card.table.position-col')}</>,\r\n\t\t\t\t\t\t\taccessor: 'side',\r\n\t\t\t\t\t\t\tCell: (cellProps: CellProps<OptionsTransaction, OptionsTransaction['side']>) => {\r\n\t\t\t\t\t\t\t\tconst side = cellProps.cell.value;\r\n\t\t\t\t\t\t\t\tconst type = cellProps.cell.row.original.type;\r\n\t\t\t\t\t\t\t\tif (type === 'exercise') return <span>{EMPTY_VALUE}</span>;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Position>\r\n\t\t\t\t\t\t\t\t\t\t<SideIcon side={side} />\r\n\t\t\t\t\t\t\t\t\t\t<span>{side}</span>\r\n\t\t\t\t\t\t\t\t\t</Position>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tHeader: <>{t('options.market.transactions-card.table.amount-col')}</>,\r\n\t\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\t\taccessor: 'amount',\r\n\t\t\t\t\t\t\tCell: (cellProps: CellProps<OptionsTransaction, OptionsTransaction['amount']>) => (\r\n\t\t\t\t\t\t\t\t<span>{formatCurrencyWithKey(SYNTHS_MAP.sUSD, cellProps.cell.value)}</span>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tHeader: <>{t('options.market.transactions-card.table.tx-status-col')}</>,\r\n\t\t\t\t\t\t\tid: 'tx-status',\r\n\t\t\t\t\t\t\tCell: (cellProps: CellProps<OptionsTransaction>) =>\r\n\t\t\t\t\t\t\t\tcellProps.cell.row.original.status &&\r\n\t\t\t\t\t\t\t\tcellProps.cell.row.original.status === 'pending' ? (\r\n\t\t\t\t\t\t\t\t\t<span>{t('common.tx-status.pending')}</span>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<ViewLinkCell hash={cellProps.cell.row.original.hash} />\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tdata={optionsTransactions}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tnoResultsMessage={noResultsMessage}\r\n\t\t\t\t/>\r\n\t\t\t</StyledTableOverflowContainer>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nconst StyledTableOverflowContainer = styled(TableOverflowContainer)`\r\n\theight: 100%;\r\n`;\r\n\r\nconst StyledTable = styled(Table)`\r\n\t.table-row,\r\n\t.table-body-row {\r\n\t\t& > :last-child {\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Position = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 8px;\r\n\ttext-transform: uppercase;\r\n`;\r\n\r\nexport default TransactionsTable;\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport snxData from 'synthetix-data';\r\n\r\nimport { OptionsMarketInfo, OptionsTransactions } from 'pages/Options/types';\r\n\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\nimport TransactionsTable from '../components/TransactionsTable';\r\n\r\nimport { TableNoResults } from 'shared/commonStyles';\r\n\r\ntype RecentTransactionsProps = {\r\n\tmarketAddress: OptionsMarketInfo['address'];\r\n};\r\n\r\nconst RecentTransactions: FC<RecentTransactionsProps> = ({ marketAddress }) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst transactionsQuery = useQuery<OptionsTransactions, any>(\r\n\t\tQUERY_KEYS.BinaryOptions.RecentTransactions(marketAddress),\r\n\t\t() => snxData.binaryOptions.optionTransactions({ market: marketAddress })\r\n\t);\r\n\r\n\tconst noResults =\r\n\t\ttransactionsQuery.isSuccess && transactionsQuery.data && transactionsQuery.data.length === 0;\r\n\r\n\treturn (\r\n\t\t<TransactionsTable\r\n\t\t\toptionsTransactions={transactionsQuery.data || []}\r\n\t\t\tisLoading={transactionsQuery.isLoading}\r\n\t\t\tnoResultsMessage={\r\n\t\t\t\ttransactionsQuery.isSuccess && noResults ? (\r\n\t\t\t\t\t<TableNoResults>\r\n\t\t\t\t\t\t{t('options.market.transactions-card.table.no-results-recent-activity')}\r\n\t\t\t\t\t</TableNoResults>\r\n\t\t\t\t) : undefined\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default RecentTransactions;\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport snxData from 'synthetix-data';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport { OptionsMarketInfo, OptionsTransactions } from 'pages/Options/types';\r\nimport TransactionsTable from '../components/TransactionsTable';\r\n\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\nimport { TableNoResults } from 'shared/commonStyles';\r\n\r\ntype RecentTransactionsProps = {\r\n\tmarketAddress: OptionsMarketInfo['address'];\r\n\twalletAddress: string;\r\n};\r\n\r\nconst RecentTransactions: FC<RecentTransactionsProps> = ({ marketAddress, walletAddress }) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst transactionsQuery = useQuery<OptionsTransactions, any>(\r\n\t\tQUERY_KEYS.BinaryOptions.UserTransactions(marketAddress, walletAddress),\r\n\t\t() =>\r\n\t\t\tsnxData.binaryOptions.optionTransactions({ market: marketAddress, account: walletAddress }),\r\n\t\t{\r\n\t\t\trefetchOnWindowFocus: false,\r\n\t\t}\r\n\t);\r\n\r\n\tconst noResults =\r\n\t\ttransactionsQuery.isSuccess && transactionsQuery.data && transactionsQuery.data.length === 0;\r\n\r\n\treturn (\r\n\t\t<TransactionsTable\r\n\t\t\toptionsTransactions={transactionsQuery.data || []}\r\n\t\t\tisLoading={transactionsQuery.isLoading}\r\n\t\t\tnoResultsMessage={\r\n\t\t\t\ttransactionsQuery.isSuccess && noResults ? (\r\n\t\t\t\t\t<TableNoResults>\r\n\t\t\t\t\t\t{t('options.market.transactions-card.table.no-results-your-activity')}\r\n\t\t\t\t\t</TableNoResults>\r\n\t\t\t\t) : undefined\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default RecentTransactions;\r\n","import React, { FC, useMemo } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport TransactionsTable from '../components/TransactionsTable';\r\n\r\nimport { RootState } from 'ducks/types';\r\nimport { getOptionsPendingTransactions } from 'ducks/options/pendingTransaction';\r\n\r\nimport { TableNoResults } from 'shared/commonStyles';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tpendingTransactions: getOptionsPendingTransactions(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype PendingTransactionsProps = PropsFromRedux & {\r\n\tmarketAddress: string;\r\n\twalletAddress: string;\r\n};\r\n\r\nconst PendingTransactions: FC<PendingTransactionsProps> = ({\r\n\tpendingTransactions,\r\n\tmarketAddress,\r\n\twalletAddress,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst filteredPendingTransactions = useMemo(\r\n\t\t() =>\r\n\t\t\tpendingTransactions.filter(\r\n\t\t\t\t({ market, account }) => market === marketAddress && walletAddress === account\r\n\t\t\t),\r\n\t\t[pendingTransactions, marketAddress, walletAddress]\r\n\t);\r\n\r\n\tconst noResults = filteredPendingTransactions.length === 0;\r\n\r\n\treturn (\r\n\t\t<TransactionsTable\r\n\t\t\toptionsTransactions={filteredPendingTransactions}\r\n\t\t\tisLoading={false}\r\n\t\t\tnoResultsMessage={\r\n\t\t\t\tnoResults ? (\r\n\t\t\t\t\t<TableNoResults>\r\n\t\t\t\t\t\t{t('options.market.transactions-card.table.no-results-pending-transactions')}\r\n\t\t\t\t\t</TableNoResults>\r\n\t\t\t\t) : undefined\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default connector(PendingTransactions);\r\n","import React, { FC, useState, useMemo } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport { FlexDiv } from 'shared/commonStyles';\r\n\r\nimport { CARD_HEIGHT } from 'constants/ui';\r\n\r\nimport { RootState } from 'ducks/types';\r\nimport { getIsWalletConnected, getCurrentWalletAddress } from 'ducks/wallet/walletDetails';\r\n\r\nimport Card from 'components/Card';\r\n\r\nimport RecentTransactions from './RecentTransactions';\r\nimport YourTransactions from './YourTransactions';\r\n\r\nimport { useMarketContext } from '../contexts/MarketContext';\r\nimport PendingTransactions from './PendingTransactions';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\twalletAddress: getCurrentWalletAddress(state),\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype TransactionsCardProps = PropsFromRedux;\r\n\r\nconst TransactionsCard: FC<TransactionsCardProps> = ({ walletAddress, isWalletConnected }) => {\r\n\tconst { t } = useTranslation();\r\n\tconst optionsMarket = useMarketContext();\r\n\r\n\tconst tabContent: Array<{\r\n\t\tid: 'recent-transactions' | 'your-transactions' | 'pending-transactions';\r\n\t\tname: string;\r\n\t\tisDisabled: boolean;\r\n\t}> = useMemo(\r\n\t\t() => [\r\n\t\t\t{\r\n\t\t\t\tid: 'recent-transactions',\r\n\t\t\t\tname: t('options.market.transactions-card.recent-market-tab-title'),\r\n\t\t\t\tisDisabled: false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'your-transactions',\r\n\t\t\t\tname: t('options.market.transactions-card.your-activity-tab-title'),\r\n\t\t\t\tisDisabled: !isWalletConnected,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'pending-transactions',\r\n\t\t\t\tname: t('options.market.transactions-card.pending-transactions-tab-title'),\r\n\t\t\t\tisDisabled: !isWalletConnected,\r\n\t\t\t},\r\n\t\t],\r\n\t\t[t, isWalletConnected]\r\n\t);\r\n\r\n\tconst [activeTab, setActiveTab] = useState(tabContent[0]);\r\n\r\n\treturn (\r\n\t\t<StyledCard>\r\n\t\t\t<StyledCardBody>\r\n\t\t\t\t<FlexDiv>\r\n\t\t\t\t\t{tabContent.map((tab) => (\r\n\t\t\t\t\t\t<TabButton\r\n\t\t\t\t\t\t\tkey={tab.id}\r\n\t\t\t\t\t\t\tonClick={() => setActiveTab(tab)}\r\n\t\t\t\t\t\t\tisActive={tab.id === activeTab.id}\r\n\t\t\t\t\t\t\tisDisabled={tab.isDisabled}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tab.name}\r\n\t\t\t\t\t\t</TabButton>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</FlexDiv>\r\n\t\t\t\t{activeTab.id === 'recent-transactions' && (\r\n\t\t\t\t\t<RecentTransactions marketAddress={optionsMarket.address} />\r\n\t\t\t\t)}\r\n\t\t\t\t{activeTab.id === 'your-transactions' && (\r\n\t\t\t\t\t<YourTransactions marketAddress={optionsMarket.address} walletAddress={walletAddress!} />\r\n\t\t\t\t)}\r\n\t\t\t\t{activeTab.id === 'pending-transactions' && (\r\n\t\t\t\t\t<PendingTransactions\r\n\t\t\t\t\t\tmarketAddress={optionsMarket.address}\r\n\t\t\t\t\t\twalletAddress={walletAddress!}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</StyledCardBody>\r\n\t\t</StyledCard>\r\n\t);\r\n};\r\n\r\nconst StyledCard = styled(Card)`\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n`;\r\n\r\nconst StyledCardBody = styled(Card.Body)`\r\n\tpadding: 0;\r\n\tflex-grow: 1;\r\n\toverflow: hidden;\r\n\tposition: initial;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n`;\r\n\r\nconst TabButton = styled.button<{ isActive: boolean; isDisabled: boolean }>`\r\n\theight: ${CARD_HEIGHT};\r\n\tpadding: 0 18px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\toutline: none;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n\tfont-size: 12px;\r\n\ttext-transform: uppercase;\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\tbackground-color: ${(props) =>\r\n\t\tprops.isActive ? props.theme.colors.surfaceL3 : props.theme.colors.surfaceL2};\r\n\t&:hover {\r\n\t\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\t}\r\n\t${(props) =>\r\n\t\tprops.isDisabled &&\r\n\t\tcss`\r\n\t\t\topacity: 0.2;\r\n\t\t\tpointer-events: none;\r\n\t\t`}\r\n`;\r\n\r\nexport default connector(TransactionsCard);\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Trans, useTranslation } from 'react-i18next';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport { RootState } from 'ducks/types';\r\nimport { getNetworkId } from 'ducks/wallet/walletDetails';\r\n\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nimport { ReactComponent as CloseCrossIcon } from 'assets/images/close-cross.svg';\r\nimport { ReactComponent as ArrowHyperlinkIcon } from 'assets/images/arrow-hyperlink.svg';\r\n\r\nimport { headingH4CSS } from 'components/Typography/Heading';\r\nimport { bodyCSS } from 'components/Typography/General';\r\n\r\nimport { GridDivCol, resetButtonCSS, CurrencyKey, GridDivCenteredCol } from 'shared/commonStyles';\r\n\r\nimport { formatShortDateWithTime, formatCurrencyWithSign, formatCurrency } from 'utils/formatters';\r\nimport { OptionsMarketInfo } from 'pages/Options/types';\r\nimport { labelMediumCSS } from 'components/Typography/Label';\r\nimport {\r\n\ttableDataLargeCSS,\r\n\ttableHeaderLargeCSS,\r\n\ttableDataSmallCSS,\r\n} from 'components/Typography/Table';\r\nimport { USD_SIGN, SYNTHS_MAP } from 'constants/currency';\r\nimport Link from 'components/Link';\r\nimport { getEtherscanAddressLink } from 'utils/explorers';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tnetworkId: getNetworkId(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype MarketInfoModalProps = PropsFromRedux & {\r\n\tmarketHeading: React.ReactNode;\r\n\toptionMarket: OptionsMarketInfo;\r\n\tonClose: () => void;\r\n};\r\n\r\nexport const MarketInfoModal: FC<MarketInfoModalProps> = ({\r\n\tonClose,\r\n\toptionMarket,\r\n\tmarketHeading,\r\n\tnetworkId,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\treturn (\r\n\t\t<StyledModal\r\n\t\t\topen={true}\r\n\t\t\tonClose={onClose}\r\n\t\t\tdisableAutoFocus={true}\r\n\t\t\tdisableEnforceFocus={true}\r\n\t\t\tdisableRestoreFocus={true}\r\n\t\t>\r\n\t\t\t<Container>\r\n\t\t\t\t<Buttons>\r\n\t\t\t\t\t<ContractLink\r\n\t\t\t\t\t\tto={getEtherscanAddressLink(networkId, optionMarket.address)}\r\n\t\t\t\t\t\tisExternal={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('common.contracts.view')} <ArrowIcon width=\"8\" height=\"8\" />\r\n\t\t\t\t\t</ContractLink>\r\n\t\t\t\t\t<CloseButton>\r\n\t\t\t\t\t\t<CloseCrossIcon onClick={onClose} />\r\n\t\t\t\t\t</CloseButton>\r\n\t\t\t\t</Buttons>\r\n\t\t\t\t<MarketHeading>{marketHeading}</MarketHeading>\r\n\t\t\t\t<Title>{t('options.market.info-modal.title')}</Title>\r\n\t\t\t\t<InfoTables>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<thead></thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>{t('options.market.info-modal.table.currency-col')}</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>{optionMarket.asset}</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t{t('options.market.info-modal.table.strike-price-col')}\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionMarket.strikePrice)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>{t('options.market.info-modal.table.phase-col')}</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue style={{ textTransform: 'capitalize' }}>\r\n\t\t\t\t\t\t\t\t\t{optionMarket.phase}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t{t('options.market.info-modal.table.bidding-end-col')}\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatShortDateWithTime(optionMarket.biddingEndDate)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>{t('options.market.info-modal.table.maturity-col')}</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatShortDateWithTime(optionMarket.maturityDate)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>{t('options.market.info-modal.table.expiry-col')}</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>{formatShortDateWithTime(optionMarket.expiryDate)}</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellHead />\r\n\t\t\t\t\t\t\t\t<TableCellHead>{t('options.common.long')}</TableCellHead>\r\n\t\t\t\t\t\t\t\t<TableCellHead>{t('options.common.short')}</TableCellHead>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t{t('options.market.info-modal.table.option-prices-col')}\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionMarket.longPrice)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionMarket.shortPrice)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t{t('options.market.info-modal.table.total-outstanding-bids-col')}\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionMarket.totalBids.long)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t\t<TableCellValue>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionMarket.totalBids.short)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t{t('options.market.info-modal.table.total-outstanding-options-col')}\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue>{formatCurrency(optionMarket.totalSupplies.long)}</TableCellValue>\r\n\t\t\t\t\t\t\t\t<TableCellValue>{formatCurrency(optionMarket.totalSupplies.short)}</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"options.market.info-modal.table.deposited-currency-col\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{ currencyKey: SYNTHS_MAP.sUSD }}\r\n\t\t\t\t\t\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue colSpan={2}>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(USD_SIGN, optionMarket.deposits.deposited)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\t\t\ti18nKey={\r\n\t\t\t\t\t\t\t\t\t\t\toptionMarket.isResolved\r\n\t\t\t\t\t\t\t\t\t\t\t\t? 'options.market.info-modal.table.final-price-col'\r\n\t\t\t\t\t\t\t\t\t\t\t\t: 'options.market.info-modal.table.current-price-col'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalues={{ currencyKey: optionMarket.asset }}\r\n\t\t\t\t\t\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue colSpan={2}>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithSign(\r\n\t\t\t\t\t\t\t\t\t\tUSD_SIGN,\r\n\t\t\t\t\t\t\t\t\t\toptionMarket.isResolved ? optionMarket.finalPrice : optionMarket.currentPrice\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCellLabel>\r\n\t\t\t\t\t\t\t\t\t{optionMarket.isResolved\r\n\t\t\t\t\t\t\t\t\t\t? t('options.market.info-modal.table.final-result-col')\r\n\t\t\t\t\t\t\t\t\t\t: t('options.market.info-modal.table.current-result-col')}\r\n\t\t\t\t\t\t\t\t</TableCellLabel>\r\n\t\t\t\t\t\t\t\t<TableCellValue colSpan={2} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t\t\t\t\t\t\t{optionMarket.result}\r\n\t\t\t\t\t\t\t\t</TableCellValue>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</InfoTables>\r\n\t\t\t</Container>\r\n\t\t</StyledModal>\r\n\t);\r\n};\r\n\r\nconst InfoTables = styled(GridDivCol)`\r\n\tgrid-gap: 39px;\r\n\talign-items: end;\r\n`;\r\n\r\nconst TableRow = styled.tr``;\r\nconst TableCell = styled.td`\r\n\tborder: 1px solid ${(props) => props.theme.colors.accentL2};\r\n\tpadding: 12px;\r\n`;\r\nconst TableCellHead = styled.th`\r\n\tpadding: 12px;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\t${tableHeaderLargeCSS};\r\n\tfont-weight: normal;\r\n\ttext-align: left;\r\n`;\r\nconst TableCellLabel = styled(TableCell)`\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\t${tableHeaderLargeCSS};\r\n\twhite-space: nowrap;\r\n`;\r\nconst TableCellValue = styled(TableCell)`\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\t${tableDataLargeCSS};\r\n`;\r\n\r\nconst Table = styled.table.attrs({\r\n\tcellSpacing: 0,\r\n\tcellPadding: 0,\r\n})`\r\n\tborder-collapse: collapse;\r\n`;\r\n\r\nconst StyledModal = styled(Modal)`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n`;\r\n\r\nconst Container = styled.div`\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\toutline: none;\r\n\tpadding: 55px;\r\n\tposition: relative;\r\n`;\r\n\r\nconst MarketHeading = styled.div`\r\n\t${bodyCSS};\r\n\t${labelMediumCSS};\r\n\tpadding-bottom: 9px;\r\n\tcolor: ${({ theme }) => theme.colors.fontSecondary};\r\n`;\r\n\r\nconst Title = styled.div`\r\n\t${headingH4CSS};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\tpadding-bottom: 28px;\r\n\ttext-transform: uppercase;\r\n`;\r\n\r\nconst Buttons = styled(GridDivCenteredCol)`\r\n\tposition: absolute;\r\n\tright: 55px;\r\n\ttop: 55px;\r\n\tgrid-gap: 24px;\r\n`;\r\n\r\nconst ContractLink = styled(Link)`\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n\tborder: 1px solid ${(props) => props.theme.colors.hyperlink};\r\n\t${tableDataSmallCSS};\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n\tborder-radius: 1px;\r\n\tpadding: 4px 10px;\r\n`;\r\n\r\nexport const ArrowIcon = styled(ArrowHyperlinkIcon)`\r\n\tmargin-left: 2px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n\t${resetButtonCSS};\r\n\tcolor: ${({ theme }) => theme.colors.fontTertiary};\r\n\twidth: 16px;\r\n\theight: 16px;\r\n`;\r\n\r\nexport default connector(MarketInfoModal);\r\n","import React, { FC, useState, useCallback } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { useQuery } from 'react-query';\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\n\r\nimport { ReactComponent as InfoRoundedIcon } from 'assets/images/info-rounded.svg';\r\n\r\nimport { OptionsMarketInfo, Phase } from 'pages/Options/types';\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport ROUTES from 'constants/routes';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\nimport {\r\n\tGridDivCenteredCol,\r\n\tCenteredPageLayout,\r\n\tGridDivRow,\r\n\tFlexDivCentered,\r\n\tLoaderContainer,\r\n\tTextButton,\r\n\tVerticalCardSeparator,\r\n} from 'shared/commonStyles';\r\n\r\nimport {\r\n\tformatCurrencyWithSign,\r\n\tformatShortDate,\r\n\tbigNumberFormatter,\r\n\tparseBytes32String,\r\n} from 'utils/formatters';\r\n\r\nimport { ReactComponent as ArrowBackIcon } from 'assets/images/arrow-back.svg';\r\n\r\nimport { getPhaseAndEndDate, SIDE } from 'pages/Options/constants';\r\nimport { getAvailableSynthsMap } from 'ducks/synths';\r\n\r\nimport Spinner from 'components/Spinner';\r\nimport Link from 'components/Link';\r\nimport MarketSentiment from '../components/MarketSentiment';\r\nimport { captionCSS } from 'components/Typography/General';\r\n\r\nimport ChartCard from './ChartCard';\r\nimport TradeCard from './TradeCard';\r\nimport TransactionsCard from './TransactionsCard';\r\n\r\nimport QUERY_KEYS from 'constants/queryKeys';\r\nimport { Z_INDEX } from 'constants/ui';\r\n\r\nimport { MarketProvider } from './contexts/MarketContext';\r\nimport MarketInfoModal from './MarketInfoModal';\r\nimport { useBOMContractContext } from './contexts/BOMContractContext';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tsynthsMap: getAvailableSynthsMap(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype MarketProps = PropsFromRedux & {\r\n\tmarketAddress: string;\r\n};\r\n\r\nconst PHASES_CARDS = ['bidding', 'trading', 'maturity'] as Phase[];\r\n\r\nconst Market: FC<MarketProps> = ({ synthsMap, marketAddress }) => {\r\n\tconst { t } = useTranslation();\r\n\tconst [marketInfoModalVisible, setMarketInfoModalVisible] = useState<boolean>(false);\r\n\tconst BOMContract = useBOMContractContext();\r\n\r\n\tconst marketQuery = useQuery<OptionsMarketInfo, any>(\r\n\t\tQUERY_KEYS.BinaryOptions.Market(marketAddress),\r\n\t\tasync () => {\r\n\t\t\tlet withdrawalsEnabled = true;\r\n\t\t\ttry {\r\n\t\t\t\twithdrawalsEnabled = await BOMContract.refundsEnabled();\r\n\t\t\t} catch (e) {}\r\n\t\t\tconst [marketData, marketParameters] = await Promise.all([\r\n\t\t\t\t(snxJSConnector as any).binaryOptionsMarketDataContract.getMarketData(marketAddress),\r\n\t\t\t\t(snxJSConnector as any).binaryOptionsMarketDataContract.getMarketParameters(marketAddress),\r\n\t\t\t]);\r\n\r\n\t\t\tconst { times, oracleDetails, creator, options, fees, creatorLimits } = marketParameters;\r\n\t\t\tconst {\r\n\t\t\t\ttotalBids,\r\n\t\t\t\ttotalClaimableSupplies,\r\n\t\t\t\ttotalSupplies,\r\n\t\t\t\tdeposits,\r\n\t\t\t\tprices,\r\n\t\t\t\toraclePriceAndTimestamp,\r\n\t\t\t\tresolution,\r\n\t\t\t} = marketData;\r\n\r\n\t\t\tconst biddingEndDate = Number(times.biddingEnd) * 1000;\r\n\t\t\tconst maturityDate = Number(times.maturity) * 1000;\r\n\t\t\tconst expiryDate = Number(times.expiry) * 1000;\r\n\r\n\t\t\tconst { phase, timeRemaining } = getPhaseAndEndDate(biddingEndDate, maturityDate, expiryDate);\r\n\r\n\t\t\tconst currencyKey = parseBytes32String(oracleDetails.key);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tisResolved: resolution.resolved,\r\n\t\t\t\taddress: marketAddress,\r\n\t\t\t\tcurrencyKey,\r\n\t\t\t\tpriceUpdatedAt: Number(oraclePriceAndTimestamp.updatedAt) * 1000,\r\n\t\t\t\tcurrentPrice: bigNumberFormatter(oraclePriceAndTimestamp.price),\r\n\t\t\t\tfinalPrice: bigNumberFormatter(oracleDetails.finalPrice),\r\n\t\t\t\tasset: synthsMap[currencyKey]?.asset || currencyKey,\r\n\t\t\t\tstrikePrice: bigNumberFormatter(oracleDetails.strikePrice),\r\n\t\t\t\tbiddingEndDate,\r\n\t\t\t\tmaturityDate,\r\n\t\t\t\texpiryDate,\r\n\t\t\t\tlongPrice: bigNumberFormatter(prices.long),\r\n\t\t\t\tshortPrice: bigNumberFormatter(prices.short),\r\n\t\t\t\tresult: SIDE[marketData.result],\r\n\t\t\t\ttotalBids: {\r\n\t\t\t\t\tlong: bigNumberFormatter(totalBids.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(totalBids.short),\r\n\t\t\t\t},\r\n\t\t\t\ttotalClaimableSupplies: {\r\n\t\t\t\t\tlong: bigNumberFormatter(totalClaimableSupplies.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(totalClaimableSupplies.short),\r\n\t\t\t\t},\r\n\t\t\t\ttotalSupplies: {\r\n\t\t\t\t\tlong: bigNumberFormatter(totalSupplies.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(totalSupplies.short),\r\n\t\t\t\t},\r\n\t\t\t\tdeposits: {\r\n\t\t\t\t\tdeposited: bigNumberFormatter(deposits.deposited),\r\n\t\t\t\t\texercisableDeposits: bigNumberFormatter(deposits.exercisableDeposits),\r\n\t\t\t\t},\r\n\t\t\t\tphase,\r\n\t\t\t\ttimeRemaining,\r\n\t\t\t\tcreator,\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tlong: bigNumberFormatter(options.long),\r\n\t\t\t\t\tshort: bigNumberFormatter(options.short),\r\n\t\t\t\t},\r\n\t\t\t\tfees: {\r\n\t\t\t\t\tcreatorFee: bigNumberFormatter(fees.creatorFee),\r\n\t\t\t\t\tpoolFee: bigNumberFormatter(fees.poolFee),\r\n\t\t\t\t\trefundFee: bigNumberFormatter(fees.refundFee),\r\n\t\t\t\t},\r\n\t\t\t\tcreatorLimits: {\r\n\t\t\t\t\tcapitalRequirement: bigNumberFormatter(creatorLimits.capitalRequirement),\r\n\t\t\t\t\tskewLimit: bigNumberFormatter(creatorLimits.skewLimit),\r\n\t\t\t\t},\r\n\t\t\t\tBN: {\r\n\t\t\t\t\ttotalLongBN: totalBids.long,\r\n\t\t\t\t\ttotalShortBN: totalBids.short,\r\n\t\t\t\t\tdepositedBN: deposits.deposited,\r\n\t\t\t\t\tfeeBN: fees.creatorFee.add(fees.poolFee),\r\n\t\t\t\t\trefundFeeBN: fees.refundFee,\r\n\t\t\t\t},\r\n\t\t\t\twithdrawalsEnabled,\r\n\t\t\t} as OptionsMarketInfo;\r\n\t\t}\r\n\t);\r\n\r\n\tconst handleViewMarketDetails = useCallback(() => {\r\n\t\tsetMarketInfoModalVisible(true);\r\n\t}, []);\r\n\r\n\tconst optionsMarket: OptionsMarketInfo | null =\r\n\t\tmarketQuery.isSuccess && marketQuery.data ? marketQuery.data : null;\r\n\r\n\tlet marketHeading = optionsMarket\r\n\t\t? `${optionsMarket.asset} > ${formatCurrencyWithSign(\r\n\t\t\t\tUSD_SIGN,\r\n\t\t\t\toptionsMarket.strikePrice\r\n\t\t  )} @ ${formatShortDate(optionsMarket.maturityDate)}`\r\n\t\t: null;\r\n\r\n\treturn optionsMarket ? (\r\n\t\t<MarketProvider optionsMarket={optionsMarket}>\r\n\t\t\t<StyledCenteredPageLayout>\r\n\t\t\t\t<LeftCol>\r\n\t\t\t\t\t<Heading>\r\n\t\t\t\t\t\t<HeadingItem>\r\n\t\t\t\t\t\t\t<AllMarketsLink to={ROUTES.Options.Home}>\r\n\t\t\t\t\t\t\t\t<ArrowBackIcon />\r\n\t\t\t\t\t\t\t\t{t('options.market.heading.all-markets')}\r\n\t\t\t\t\t\t\t</AllMarketsLink>\r\n\t\t\t\t\t\t\t<VerticalCardSeparator />\r\n\t\t\t\t\t\t\t<HeadingTitle>{marketHeading}</HeadingTitle>\r\n\t\t\t\t\t\t</HeadingItem>\r\n\t\t\t\t\t\t<HeadingItem>\r\n\t\t\t\t\t\t\t<MarketDetailsTextButton onClick={handleViewMarketDetails}>\r\n\t\t\t\t\t\t\t\t{t('options.market.heading.market-details')} <InfoRoundedIcon />\r\n\t\t\t\t\t\t\t</MarketDetailsTextButton>\r\n\t\t\t\t\t\t</HeadingItem>\r\n\t\t\t\t\t\t<StyledHeadingItem>\r\n\t\t\t\t\t\t\t<HeadingTitle>{t('options.market.heading.market-sentiment')}</HeadingTitle>\r\n\t\t\t\t\t\t\t<StyledMarketSentiment\r\n\t\t\t\t\t\t\t\tshort={optionsMarket.shortPrice}\r\n\t\t\t\t\t\t\t\tlong={optionsMarket.longPrice}\r\n\t\t\t\t\t\t\t\tdisplay=\"col\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</StyledHeadingItem>\r\n\t\t\t\t\t</Heading>\r\n\t\t\t\t\t<ChartCard />\r\n\t\t\t\t\t<TransactionsCard />\r\n\t\t\t\t</LeftCol>\r\n\t\t\t\t<RightCol>\r\n\t\t\t\t\t<Phases>\r\n\t\t\t\t\t\t{PHASES_CARDS.map((phase, idx: number) => (\r\n\t\t\t\t\t\t\t<PhaseItem key={phase} isActive={phase === optionsMarket!.phase} itemIndex={idx}>\r\n\t\t\t\t\t\t\t\t{t(`options.phases.${phase}`)}\r\n\t\t\t\t\t\t\t</PhaseItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Phases>\r\n\t\t\t\t\t<TradeCard />\r\n\t\t\t\t</RightCol>\r\n\t\t\t</StyledCenteredPageLayout>\r\n\t\t\t{marketInfoModalVisible && (\r\n\t\t\t\t<MarketInfoModal\r\n\t\t\t\t\tmarketHeading={marketHeading}\r\n\t\t\t\t\toptionMarket={optionsMarket}\r\n\t\t\t\t\tonClose={() => setMarketInfoModalVisible(false)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</MarketProvider>\r\n\t) : (\r\n\t\t<LoaderContainer>\r\n\t\t\t<Spinner size=\"sm\" centered={true} />\r\n\t\t</LoaderContainer>\r\n\t);\r\n};\r\n\r\nconst StyledCenteredPageLayout = styled(CenteredPageLayout)`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr auto;\r\n`;\r\n\r\nconst LeftCol = styled(GridDivRow)`\r\n\toverflow: hidden;\r\n\tgrid-gap: 8px;\r\n\talign-content: start;\r\n\tgrid-template-rows: auto auto 1fr;\r\n`;\r\n\r\nconst Heading = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 8px;\r\n\tgrid-template-columns: auto auto 1fr;\r\n`;\r\n\r\nconst HeadingItem = styled(GridDivCenteredCol)`\r\n\tgrid-gap: 8px;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\theight: 30px;\r\n\tpadding: 0 12px;\r\n\tfont-size: 12px;\r\n\ttext-transform: uppercase;\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n`;\r\n\r\nconst StyledHeadingItem = styled(HeadingItem)`\r\n\tgrid-template-columns: auto 1fr;\r\n`;\r\n\r\nconst StyledMarketSentiment = styled(MarketSentiment)`\r\n\tfont-size: 10px;\r\n\ttext-transform: none;\r\n\t.longs,\r\n\t.shorts {\r\n\t\tcolor: ${(props) => props.theme.colors.brand};\r\n\t}\r\n\t.percent {\r\n\t\theight: 8px;\r\n\t}\r\n`;\r\n\r\nconst headingLinkCSS = css`\r\n\ttext-transform: uppercase;\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n`;\r\n\r\nconst AllMarketsLink = styled(Link)`\r\n\t${headingLinkCSS};\r\n\tsvg {\r\n\t\twidth: 10px;\r\n\t\tmargin-right: 5px;\r\n\t\tposition: relative;\r\n\t\ttop: 1px;\r\n\t}\r\n`;\r\n\r\nconst MarketDetailsTextButton = styled(TextButton)`\r\n\t${headingLinkCSS};\r\n\tfont-size: 12px;\r\n\tfont-family: ${(props) => props.theme.fonts.medium};\r\n\tdisplay: flex;\r\n\tsvg {\r\n\t\tmargin-left: 7px;\r\n\t\tposition: relative;\r\n\t\ttop: -1px;\r\n\t}\r\n`;\r\n\r\nconst HeadingTitle = styled.div`\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n`;\r\n\r\nconst RightCol = styled(GridDivRow)`\r\n\tgrid-gap: 8px;\r\n\talign-content: start;\r\n\twidth: 414px;\r\n\tgrid-template-rows: auto 1fr;\r\n`;\r\n\r\nconst Phases = styled(GridDivCenteredCol)`\r\n\tborder: 1px solid ${(props) => props.theme.colors.accentL1};\r\n`;\r\n\r\nconst phaseArrowCSS = css`\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tcontent: '';\r\n\tborder-top: 15px solid transparent;\r\n\tborder-bottom: 15px solid transparent;\r\n\tz-index: ${Z_INDEX.BASE};\r\n`;\r\n\r\nconst phaseArrowActiveCSS = css`\r\n\t${phaseArrowCSS};\r\n\tright: -10px;\r\n\tborder-left: 10px solid ${(props) => props.theme.colors.accentL1};\r\n`;\r\n\r\nconst phaseArrowThinBackgroundCSS = css`\r\n\t${phaseArrowCSS};\r\n\tright: -11px;\r\n\tborder-left: 10px solid ${(props) => props.theme.colors.accentL1};\r\n`;\r\n\r\nconst phaseArrowThinCSS = css`\r\n\t${phaseArrowCSS};\r\n\tright: -10px;\r\n\tborder-left: 10px solid ${(props) => props.theme.colors.surfaceL3};\r\n\tz-index: ${Z_INDEX.BASE + 1};\r\n`;\r\n\r\nconst PhaseItem = styled(FlexDivCentered)<{ isActive: boolean; itemIndex: number }>`\r\n\tposition: relative;\r\n\t${captionCSS};\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n\theight: 30px;\r\n\tjustify-content: center;\r\n\r\n\t${(props) =>\r\n\t\tprops.isActive\r\n\t\t\t? css`\r\n\t\t\t\t\tbackground-color: ${(props) => props.theme.colors.accentL1};\r\n\t\t\t\t\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\t\t\t  `\r\n\t\t\t: css`\r\n\t\t\t\t\tcursor: not-allowed;\r\n\t\t\t  `};\r\n\r\n\t${(props) => {\r\n\t\tif (props.itemIndex === 0) {\r\n\t\t\treturn props.isActive\r\n\t\t\t\t? css`\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\t${phaseArrowActiveCSS};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  `\r\n\t\t\t\t: css`\r\n\t\t\t\t\t\t&::before {\r\n\t\t\t\t\t\t\t${phaseArrowThinBackgroundCSS};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\t${phaseArrowThinCSS};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  `;\r\n\t\t} else if (props.itemIndex === 1) {\r\n\t\t\treturn props.isActive\r\n\t\t\t\t? css`\r\n\t\t\t\t\t\t&::before {\r\n\t\t\t\t\t\t\t${phaseArrowCSS};\r\n\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\tborder-left: 10px solid ${(props) => props.theme.colors.surfaceL3};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\t${phaseArrowActiveCSS};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  `\r\n\t\t\t\t: css`\r\n\t\t\t\t\t\t&::before {\r\n\t\t\t\t\t\t\t${phaseArrowThinBackgroundCSS};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\t${phaseArrowThinCSS};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  `;\r\n\t\t}\r\n\t}}\r\n`;\r\n\r\nexport default connector(Market);\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { ethers } from 'ethers';\r\n\r\nimport binaryOptionMarketContract from 'utils/contracts/binaryOptionsMarketContract';\r\n\r\nimport { LoaderContainer } from 'shared/commonStyles';\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport ROUTES, { navigateTo } from 'constants/routes';\r\n\r\nimport { BOMContractProvider } from './contexts/BOMContractContext';\r\n\r\nimport Market from './Market';\r\n\r\ntype MarketContainerProps = RouteComponentProps<{\r\n\tmarketAddress: string;\r\n}>;\r\n\r\nconst MarketContainer: FC<MarketContainerProps> = ({ match }) => {\r\n\tconst [BOMContract, setBOMContract] = useState<ethers.Contract>();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { params } = match;\r\n\r\n\t\tif (params && params.marketAddress) {\r\n\t\t\tsetBOMContract(\r\n\t\t\t\tnew ethers.Contract(\r\n\t\t\t\t\tparams.marketAddress,\r\n\t\t\t\t\tbinaryOptionMarketContract.abi,\r\n\t\t\t\t\t(snxJSConnector as any).provider\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnavigateTo(ROUTES.Options.Home);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [match]);\r\n\r\n\treturn BOMContract ? (\r\n\t\t<BOMContractProvider contract={BOMContract}>\r\n\t\t\t<Market marketAddress={match.params.marketAddress} />\r\n\t\t</BOMContractProvider>\r\n\t) : (\r\n\t\t<LoaderContainer>\r\n\t\t\t<Spinner size=\"sm\" centered={true} />\r\n\t\t</LoaderContainer>\r\n\t);\r\n};\r\n\r\nexport default MarketContainer;\r\n"],"sourceRoot":""}