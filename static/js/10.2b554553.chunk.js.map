{"version":3,"sources":["components/Input/NumericInput.tsx","assets/images/question-mark.svg","components/Input/NumericInputWithCurrency.tsx","components/Input/common.ts","assets/images/arrow-hyperlink.svg","utils/balances.js","assets/images/close.svg","components/DismissableMessage/DismissableMessage.tsx","pages/shared/components/SelectGasMenu/SelectGasMenuBody.tsx","pages/shared/components/SelectGasMenu/SelectGasMenu.tsx","components/NetworkInfo/NetworkInfo.js","pages/Loans/components/LoanCards/LoanWarningModal/LoanWarningModal.tsx","pages/Loans/components/LoanCards/commonStyles.js","pages/Loans/components/LoanCards/CreateLoanCard/CreateLoanCard.js","pages/Loans/components/LoanCards/CloseLoanCard/CloseLoanCard.js","pages/Loans/components/Dashboard/Dashboard.js","assets/images/no-wallet.svg","assets/images/error-circle.svg","pages/Loans/components/MyLoans/MyLoans.js","pages/Loans/Loans.js"],"names":["NumericInput","styled","Input","attrs","type","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","fill","SvgQuestionMark","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","MaxButton","ButtonPrimary","size","StyledNumericInput","hasMaxButton","css","theme","colors","fontPrimary","Container","InputContainer","surfaceL3","CurrencyContainer","FlexDivCentered","accentL2","StyledCurrencyName","Currency","Name","fontSecondary","StyledMessage","Message","TradeInput","className","label","currencyKey","SYNTHS_MAP","sUSD","onChange","value","inputProps","errorMessage","onMaxButtonClick","showIcon","t","useTranslation","name","SYNTHS_DISPLAY_NAMES","placeholder","e","floating","onClick","Label","div","SvgArrowHyperlink","getSynthBalancePath","field","getCryptoCurrencyBalancePath","toLowerCase","getCurrencyKeyBalance","balances","isSynth","get","getCurrencyKeyUSDBalanceBN","_ref3","StyledCloseButton","CloseIcon","DismissableMessage","children","onDismiss","rest","mapDispatchToProps","setGasPrice","connector","connect","state","gasInfo","getGasInfo","Content","fontTertiary","accentL1","DefinedGasSelector","needsPadding","gasSpeed","setDropdownIsOpen","gasPrice","useState","customGasPrice","setCustomGasPrice","undefined","setErrorMessage","setGasPriceAndCloseDropdown","updateGasPrice","gasPriceLimit","useMemo","Math","floor","fastestAllowed","useEffect","customGasPriceNum","Number","exceedsGasLimit","max","step","min","slowAllowed","averageAllowed","StyledDropdownPanel","DropdownPanel","media","medium","Z_INDEX","DROPDOWN","GasEditFields","StyledLinkTextSmall","LinkTextSmall","addPadding","SelectGasMenu","gasDropdownIsOpen","setGasDropdownIsOpen","isOpen","handleClose","onHeaderClick","header","formatCurrency","body","TooltipContent","TooltipLabel","DataSmall","TooltipContentRow","NetworkData","NetworkDataLabelFlex","NetworkDataRow","FlexDivRow","TransactionInfo","gasLimit","ethRate","usdRate","amount","exchangeFeeRate","usdValue","exchangeFee","networkFee","getTransactionPrice","formatPercentage","placement","arrow","BLOG_LINK","LoanWarningModal","memo","onClose","onConfirm","StyledModal","open","Dismissable","StyledExternalLink","href","Button","FlexDiv","Heading","h5","headingH5CSS","Modal","FlexDivCol","p","bodyCSS","ExternalLink","hyperlink","TxErrorMessage","createLoan","getEthRate","walletInfo","getWalletInfo","walletBalance","getWalletBalancesMap","currentWallet","collateralPair","collateralAmount","setCollateralAmount","loanAmount","setLoanAmount","setLocalGasLimit","collateralAmountErrorMessage","setCollateralAmountErrorMessage","txErrorMessage","setTxErrorMessage","isLoanConfirmationModalOpen","setIsLoanConfirmationModalOpen","collateralCurrencyKey","loanCurrencyKey","issuanceRatio","minLoanSize","handleSubmit","a","EtherCollateral","snxJSConnector","snxJS","utils","openLoanArgs","parseEther","GWEI_UNIT","contract","estimate","openLoan","gasEstimate","updatedGasEstimate","normalizeGasLimit","tx","loan","timeCreated","Date","now","timeClosed","feesPayable","currentInterest","status","LOAN_STATUS","WAITING","loanID","transactionHash","hash","collateralCurrencyBalance","loanCurrencyBalance","hasError","Card","Header","Body","NumericInputWithCurrency","i18nKey","values","components","balance","EMPTY_VALUE","_","val","NetworkInfo","disabled","StyledCard","isInteractive","LoanInfoContainer","updateLoan","selectedLoan","onLoanClosed","loanIDStr","toString","closeLoan","loanInfo","CLOSING","StyledArrowHyperlinkIcon","ArrowHyperlinkIcon","WalletBalancesHeading","th","LoanInfoRow","Table","table","surfaceL2","CARD_HEIGHT","TableRowHeader","tr","networkId","getNetworkId","isFetchingWalletBalances","getIsFetchingWalletBalances","isRefreshingLoansContractInfo","getIsRefreshingLoansContractInfo","interestRatePercent","issueFeeRatePercent","totalOpenLoanCount","collateralizationRatioPercent","issueLimit","totalIssuedSynths","lockedCollateralAmount","loanInfoItems","formatCurrencyWithKey","Spinner","getEtherscanAddressLink","address","map","infoItem","idx","cellSpacing","cellPadding","style","_ref4","_ref5","fillRule","clipRule","StyledCardBody","HeaderSpinner","centered","absoluteCenteredCSS","TableRow","TableBody","TableBodyRow","isSelectedLoan","TableCell","TableCellHead","MessageContainer","MessageLabel","SortIconContainer","span","fetchLoans","showWalletPopup","loans","getMyLoans","isLoadingMyLoans","getIsLoadingMyLoans","isRefreshingMyLoans","getIsRefreshingMyLoans","myLoansLoadingError","getMyLoansLoadingError","isLoadedMyLoans","getIsLoadedMyLoans","onSelectLoan","columns","accessor","Cell","cellProps","cell","sortable","formatTxTimestamp","Tooltip","id","loanData","row","original","CLOSED","OPEN","useTable","data","initialState","sortBy","desc","useSortBy","useFlexLayout","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","getRowProps","cells","getCellProps","OverviewContainer","LoanCardsContainer","fetchLoansContractInfo","getLoansCollateralPair","setSelectedLoan"],"mappings":"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","file":"static/js/10.2b554553.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nimport Input from './Input';\r\n\r\nexport const NumericInput = styled(Input).attrs({ type: 'number' })``;\r\n\r\nexport default NumericInput;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.80236 10.6C3.80236 10.7968 3.9666 10.94 4.16339 10.94H5.36106C5.47554 10.94 5.56236 10.8345 5.56236 10.72V10.56C5.56236 10.18 5.62236 9.82 5.76236 9.48C5.90236 9.14 6.12236 8.86 6.44236 8.64L7.36236 8.02001C7.94236 7.64 8.42236 7.16 8.82236 6.6C9.20236 6.04 9.40236 5.34 9.40236 4.54C9.40236 4.04 9.30236 3.54 9.10236 3.06C8.90236 2.58 8.62236 2.14 8.26236 1.76C7.88236 1.4 7.42236 1.1 6.88236 0.860004C6.32236 0.640004 5.70236 0.520004 5.02236 0.520004C4.24236 0.520004 3.58236 0.660005 3.02236 0.900004C2.46236 1.16 2.02236 1.48 1.66236 1.88C1.30236 2.28 1.02236 2.74 0.862356 3.22C0.682356 3.70001 0.602356 4.18 0.602356 4.62C0.602356 4.76679 0.609006 4.90693 0.622307 5.04042C0.655339 5.37194 0.937076 5.60657 1.26771 5.64747L2.21309 5.76442C2.41505 5.78941 2.58261 5.5825 2.56236 5.38C2.52236 5.2 2.52236 5.02001 2.52236 4.84C2.52236 4.52 2.56236 4.22 2.66236 3.9C2.76236 3.6 2.92236 3.32 3.12236 3.08C3.32236 2.84 3.56236 2.66 3.88236 2.5C4.20236 2.36 4.58236 2.28 5.02236 2.28C5.42236 2.28 5.76236 2.36 6.06236 2.48C6.36236 2.60001 6.60236 2.78 6.80236 2.98C7.00236 3.2 7.14236 3.44 7.24236 3.72C7.34236 4 7.40236 4.28 7.40236 4.56C7.40236 4.96 7.30236 5.32 7.12236 5.66C6.94236 6.02 6.68236 6.3 6.34236 6.52L5.46236 7.12C4.86236 7.52 4.42236 7.98 4.18236 8.48C3.92236 9 3.80236 9.58 3.80236 10.24V10.6ZM3.38236 13.8C3.38236 14.16 3.50236 14.48 3.76236 14.72C4.00236 14.98 4.32236 15.1 4.68236 15.1C5.04236 15.1 5.34236 14.98 5.60236 14.72C5.86236 14.48 6.00236 14.16 6.00236 13.8C6.00236 13.44 5.86236 13.14 5.60236 12.88C5.34236 12.62 5.04236 12.48 4.68236 12.48C4.32236 12.48 4.00236 12.62 3.76236 12.88C3.50236 13.14 3.38236 13.44 3.38236 13.8Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgQuestionMark = function SvgQuestionMark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 16,\n    viewBox: \"0 0 10 16\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgQuestionMark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/question-mark.89b8538e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { SYNTHS_MAP, CurrencyKey, SYNTHS_DISPLAY_NAMES } from 'constants/currency';\r\n\r\nimport { FlexDivCentered, Message } from 'shared/commonStyles';\r\n\r\nimport { ButtonPrimary } from '../Button';\r\nimport Currency from '../Currency';\r\n\r\nimport NumericInput from './NumericInput';\r\n\r\nimport { Label, InputContainer } from './common';\r\n\r\ntype NumericInputWithCurrencyProps = {\r\n\tclassName?: string;\r\n\tlabel?: React.ReactNode;\r\n\terrorMessage?: React.ReactNode;\r\n\tcurrencyKey?: CurrencyKey;\r\n\tinputProps?: object;\r\n\tonMaxButtonClick?: () => void;\r\n\tvalue: string | number;\r\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>, value: string) => void;\r\n\tshowIcon?: boolean;\r\n};\r\n\r\nconst TradeInput: FC<NumericInputWithCurrencyProps> = ({\r\n\tclassName,\r\n\tlabel,\r\n\tcurrencyKey = SYNTHS_MAP.sUSD,\r\n\tonChange,\r\n\tvalue,\r\n\tinputProps,\r\n\terrorMessage,\r\n\tonMaxButtonClick,\r\n\tshowIcon = true,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst hasMaxButton = onMaxButtonClick != null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{label != null && <Label>{label}</Label>}\r\n\t\t\t<Container className={className}>\r\n\t\t\t\t<CurrencyContainer className=\"currency-container\">\r\n\t\t\t\t\t<StyledCurrencyName name={SYNTHS_DISPLAY_NAMES[currencyKey]} currencyKey={currencyKey} showIcon={showIcon} />\r\n\t\t\t\t</CurrencyContainer>\r\n\t\t\t\t<StyledNumericInput\r\n\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tplaceholder=\"0\"\r\n\t\t\t\t\tonChange={(e) => onChange(e, e.target.value)}\r\n\t\t\t\t\thasMaxButton={hasMaxButton}\r\n\t\t\t\t\t{...inputProps}\r\n\t\t\t\t/>\r\n\t\t\t\t{errorMessage && (\r\n\t\t\t\t\t<StyledMessage type=\"error\" floating={true} size=\"sm\">\r\n\t\t\t\t\t\t{errorMessage}\r\n\t\t\t\t\t</StyledMessage>\r\n\t\t\t\t)}\r\n\t\t\t\t{hasMaxButton && <MaxButton onClick={onMaxButtonClick}>{t('common.max')}</MaxButton>}\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst MaxButton = styled(ButtonPrimary).attrs({ size: 'sm' })`\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\theight: 25px;\r\n\tline-height: unset;\r\n`;\r\n\r\nconst StyledNumericInput = styled(NumericInput)<{ hasMaxButton?: boolean }>`\r\n\t${(props) =>\r\n\t\tprops.hasMaxButton &&\r\n\t\tcss`\r\n\t\t\tpadding-right: 72px;\r\n\t\t`};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n`;\r\n\r\nconst Container = styled(InputContainer)`\r\n\tdisplay: flex;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n`;\r\n\r\nconst CurrencyContainer = styled(FlexDivCentered)`\r\n\tborder: 1px solid ${(props) => props.theme.colors.accentL2};\r\n\tborder-right: none;\r\n\tpadding: 0 10px;\r\n`;\r\n\r\nconst StyledCurrencyName = styled(Currency.Name)`\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n`;\r\n\r\nexport const StyledMessage = styled(Message)`\r\n\ttop: calc(100% + 10px);\r\n`;\r\n\r\nexport default TradeInput;\r\n","import styled from 'styled-components';\r\nimport { FlexDivCentered } from 'shared/commonStyles';\r\n\r\nexport const Label = styled(FlexDivCentered)`\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 6px;\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n\twidth: 100%;\r\n\tposition: relative;\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 0L5.906 2.56919L5.40471 2.54569L5.32638 1.12794L0.462147 6L0 5.53786L4.87207 0.673631L3.45431 0.595302L3.43081 0.0939962L6 0Z\",\n  fill: \"#A08AFF\"\n});\n\nvar SvgArrowHyperlink = function SvgArrowHyperlink(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 6,\n    height: 6,\n    viewBox: \"0 0 6 6\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowHyperlink, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-hyperlink.b5ca1dec.svg\";\nexport { ForwardRef as ReactComponent };","import get from 'lodash/get';\r\nimport { isSynth } from '../constants/currency';\r\n\r\nconst getSynthBalancePath = (currencyKey, field) => ['synths', 'balances', currencyKey, field];\r\n\r\n// crypto appears as lowercased in balances\r\nconst getCryptoCurrencyBalancePath = (currencyKey, field) => [currencyKey.toLowerCase(), field];\r\n\r\nexport const getCurrencyKeyBalance = (balances, currencyKey) =>\r\n\tisSynth(currencyKey)\r\n\t\t? get(balances, getSynthBalancePath(currencyKey, 'balance'))\r\n\t\t: get(balances, getCryptoCurrencyBalancePath(currencyKey, 'balance'));\r\n\r\nexport const getCurrencyKeyUSDBalance = (balances, currencyKey) =>\r\n\tisSynth(currencyKey)\r\n\t\t? get(balances, getSynthBalancePath(currencyKey, 'usdBalance'))\r\n\t\t: get(balances, getCryptoCurrencyBalancePath(currencyKey, 'usdBalance'));\r\n\r\nexport const getCurrencyKeyUSDBalanceBN = (balances, currencyKey) =>\r\n\tisSynth(currencyKey)\r\n\t\t? get(balances, getSynthBalancePath(currencyKey, 'balanceBN'))\r\n\t\t: get(balances, getCryptoCurrencyBalancePath(currencyKey, 'balanceBN'));\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.0984557 0.573842C-0.0328186 0.442567 -0.0328186 0.22973 0.0984557 0.0984557C0.22973 -0.0328186 0.442567 -0.0328186 0.573842 0.0984557L3.90154 3.42616C4.03282 3.55743 4.03282 3.77027 3.90154 3.90154C3.77027 4.03282 3.55743 4.03282 3.42616 3.90154L0.0984557 0.573842Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.573842 3.90154C0.442568 4.03282 0.22973 4.03282 0.0984562 3.90154C-0.032818 3.77027 -0.032818 3.55743 0.0984562 3.42616L3.42616 0.098456C3.55743 -0.0328182 3.77027 -0.0328182 3.90154 0.098456C4.03282 0.22973 4.03282 0.442568 3.90154 0.573842L0.573842 3.90154Z\",\n  fill: \"white\"\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 8,\n    viewBox: \"0 0 4 4\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.eb3becfb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ReactComponent as CloseIcon } from 'assets/images/close.svg';\r\n\r\nimport { Message, MessageProps } from 'shared/commonStyles';\r\n\r\ntype DismissableMessageProps = MessageProps & {\r\n\tchildren: React.ReactNode;\r\n\tonDismiss: () => void;\r\n};\r\n\r\nexport const DismissableMessage: FC<DismissableMessageProps> = ({\r\n\tchildren,\r\n\tonDismiss,\r\n\t...rest\r\n}) => (\r\n\t<Container>\r\n\t\t<StyledMessage {...rest}>\r\n\t\t\t{children}\r\n\t\t\t<StyledCloseButton onClick={onDismiss} />\r\n\t\t</StyledMessage>\r\n\t</Container>\r\n);\r\n\r\nconst Container = styled.div`\r\n\tposition: relative;\r\n`;\r\n\r\nconst StyledMessage = styled(Message)`\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst StyledCloseButton = styled(CloseIcon)`\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n`;\r\n\r\nexport default DismissableMessage;\r\n","import React, { FC, useEffect, useMemo, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ConnectedProps, connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { setGasPrice, getGasInfo } from 'ducks/transaction';\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport NumericInput from 'components/Input/NumericInput';\r\n\r\nimport { Message } from 'shared/commonStyles';\r\n\r\nconst MAX_GAS_MULTIPLE = 1.5;\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tgasInfo: getGasInfo(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tsetGasPrice,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype GasMenuProps = PropsFromRedux & {\r\n\tsetDropdownIsOpen: (isOpen: boolean) => void;\r\n};\r\n\r\nconst SelectGasMenuBody: FC<GasMenuProps> = ({\r\n\tsetGasPrice,\r\n\tgasInfo: { gasSpeed, gasPrice },\r\n\tsetDropdownIsOpen,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst [customGasPrice, setCustomGasPrice] = useState<string>('');\r\n\tconst [errorMessage, setErrorMessage] = useState<string | undefined>(undefined);\r\n\r\n\tconst setGasPriceAndCloseDropdown = (updateGasPrice: number) => {\r\n\t\tsetGasPrice(updateGasPrice);\r\n\t\tsetDropdownIsOpen(false);\r\n\t};\r\n\r\n\tconst gasPriceLimit = useMemo(() => Math.floor(gasSpeed.fastestAllowed * MAX_GAS_MULTIPLE), [\r\n\t\tgasSpeed.fastestAllowed,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (customGasPrice) {\r\n\t\t\tconst customGasPriceNum = Number(customGasPrice);\r\n\t\t\tconst exceedsGasLimit = customGasPriceNum > gasPriceLimit;\r\n\r\n\t\t\tsetGasPrice(exceedsGasLimit ? gasPriceLimit : Math.max(0, customGasPriceNum));\r\n\t\t\tsetErrorMessage(\r\n\t\t\t\texceedsGasLimit\r\n\t\t\t\t\t? t('common.errors.gas-exceeds-limit', { gasPrice: gasPriceLimit })\r\n\t\t\t\t\t: undefined\r\n\t\t\t);\r\n\t\t}\r\n\t}, [setGasPrice, customGasPrice, gasPriceLimit, t]);\r\n\r\n\treturn (\r\n\t\t<Content>\r\n\t\t\t<StyledNumericInput\r\n\t\t\t\tvalue={customGasPrice}\r\n\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\t\tsetCustomGasPrice(e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder={t('modals.gwei.placeholder')}\r\n\t\t\t\tstep=\"0.1\"\r\n\t\t\t\tmin=\"0\"\r\n\t\t\t/>\r\n\t\t\t{errorMessage && (\r\n\t\t\t\t<StyledMessage type=\"error\" floating={true} size=\"sm\">\r\n\t\t\t\t\t{errorMessage}\r\n\t\t\t\t</StyledMessage>\r\n\t\t\t)}\r\n\t\t\t<DefinedGasSelector\r\n\t\t\t\tneedsPadding={errorMessage !== undefined}\r\n\t\t\t\tonClick={() => setGasPriceAndCloseDropdown(gasSpeed.slowAllowed)}\r\n\t\t\t>\r\n\t\t\t\t<div>{t('modals.gwei.table.safe')}</div>\r\n\t\t\t\t<div>{gasSpeed.slowAllowed}</div>\r\n\t\t\t</DefinedGasSelector>\r\n\t\t\t<DefinedGasSelector onClick={() => setGasPriceAndCloseDropdown(gasSpeed.averageAllowed)}>\r\n\t\t\t\t<div>{t('modals.gwei.table.standard')}</div>\r\n\t\t\t\t<div>{gasSpeed.averageAllowed}</div>\r\n\t\t\t</DefinedGasSelector>\r\n\t\t\t<DefinedGasSelector onClick={() => setGasPriceAndCloseDropdown(gasSpeed.fastestAllowed)}>\r\n\t\t\t\t<div>{t('modals.gwei.table.fast')}</div>\r\n\t\t\t\t<div>{gasSpeed.fastestAllowed}</div>\r\n\t\t\t</DefinedGasSelector>\r\n\t\t</Content>\r\n\t);\r\n};\r\n\r\nconst Content = styled.div`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n`;\r\n\r\nconst StyledNumericInput = styled(NumericInput)`\r\n\twidth: calc(100% - 20px);\r\n\tmargin: 10px 10px 0 10px;\r\n\tfont-size: 12px;\r\n\theight: 36px;\r\n\tcolor: ${({ theme }) => theme.colors.fontTertiary};\r\n\tbackground-color: ${({ theme }) => theme.colors.accentL1};\r\n`;\r\n\r\nconst DefinedGasSelector = styled.div<{ needsPadding?: boolean }>`\r\n\tpadding: 10px;\r\n\tmargin: 10px;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\t${(props) => props.needsPadding && 'margin-top: 37px'};\r\n\theight: 32px;\r\n\t&:hover {\r\n\t\tcolor: ${({ theme }) => theme.colors.fontPrimary};\r\n\t\tbackground-color: ${({ theme }) => theme.colors.accentL1};\r\n\t\tspan {\r\n\t\t\tbackground-color: ${(props) => props.theme.colors.accentL2};\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst StyledMessage = styled(Message)`\r\n\twidth: calc(100% - 20px);\r\n\tborder-radius: 4px;\r\n\tmargin-top: 6px;\r\n\tmargin-left: 10px;\r\n`;\r\n\r\nexport default connector(SelectGasMenuBody);\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport styled from 'styled-components';\r\n\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { Z_INDEX } from 'constants/ui';\r\nimport DropdownPanel from 'components/DropdownPanel';\r\n\r\nimport { LinkTextSmall } from 'shared/commonStyles';\r\nimport { media } from 'shared/media';\r\n\r\nimport SelectGasMenuBody from './SelectGasMenuBody';\r\n\r\ntype SelectGasMenuProps = {\r\n\tgasPrice: number;\r\n\taddPadding?: boolean;\r\n};\r\n\r\nexport const SelectGasMenu = ({ gasPrice, addPadding = false }: SelectGasMenuProps) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst [gasDropdownIsOpen, setGasDropdownIsOpen] = useState(false);\r\n\tconst setDropdownIsOpen = (isOpen: boolean) => {\r\n\t\tif (!isOpen && !gasDropdownIsOpen) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetGasDropdownIsOpen(isOpen);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<StyledDropdownPanel\r\n\t\t\theight=\"auto\"\r\n\t\t\tisOpen={gasDropdownIsOpen}\r\n\t\t\thandleClose={() => setDropdownIsOpen(false)}\r\n\t\t\twidth=\"170px\"\r\n\t\t\tonHeaderClick={() => setDropdownIsOpen(!gasDropdownIsOpen)}\r\n\t\t\theader={\r\n\t\t\t\t<GasEditFields>\r\n\t\t\t\t\t<div>{formatCurrency(gasPrice) || 0}</div>\r\n\t\t\t\t\t<StyledLinkTextSmall addPadding={addPadding}>\r\n\t\t\t\t\t\t{t('common.actions.edit')}\r\n\t\t\t\t\t</StyledLinkTextSmall>\r\n\t\t\t\t</GasEditFields>\r\n\t\t\t}\r\n\t\t\tbody={<SelectGasMenuBody setDropdownIsOpen={setDropdownIsOpen} />}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst StyledDropdownPanel = styled(DropdownPanel)`\r\n\t${media.medium`\r\n\t\twidth: auto;\r\n\t`}\r\n\t.body {\r\n\t\tborder-width: 1px 1px 1px 1px;\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\tz-index: ${Z_INDEX.DROPDOWN};\r\n`;\r\n\r\nconst GasEditFields = styled.div`\r\n\tdisplay: flex;\r\n\twidth: 75px;\r\n\tjustify-content: space-between;\r\n\tfloat: right;\r\n\tcursor: pointer;\r\n`;\r\n\r\nconst StyledLinkTextSmall = styled(LinkTextSmall)<{ addPadding: boolean }>`\r\n\tpadding-top: ${(props) => (props.addPadding ? '2px' : '0')};\r\n`;\r\n\r\nexport default SelectGasMenu;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { getTransactionPrice } from 'utils/networkUtils';\r\n\r\nimport { FlexDivRow, QuestionMarkIcon } from 'shared/commonStyles';\r\n\r\nimport SelectGasMenu from 'pages/shared/components/SelectGasMenu';\r\n\r\nimport { DataSmall } from 'components/Typography';\r\n\r\nimport { ReactComponent as QuestionMark } from 'assets/images/question-mark.svg';\r\nimport { formatPercentage } from 'utils/formatters';\r\n\r\nexport const TransactionInfo = ({\r\n\tgasPrice,\r\n\tgasLimit,\r\n\tethRate = 0,\r\n\tusdRate = 0,\r\n\tamount = 0,\r\n\texchangeFeeRate = 0,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst usdValue = amount * usdRate;\r\n\tconst exchangeFee = ((amount * exchangeFeeRate) / 100) * usdRate;\r\n\tconst networkFee = getTransactionPrice(gasPrice, gasLimit, ethRate);\r\n\r\n\tconst getTooltipBody = () => (\r\n\t\t<TooltipContent>\r\n\t\t\t<TooltipContentRow>\r\n\t\t\t\t<TooltipLabel>{`${t(\r\n\t\t\t\t\t'trade.trade-card.network-info-tooltip.exchange-fee'\r\n\t\t\t\t)} (${formatPercentage(exchangeFeeRate / 100)})`}</TooltipLabel>\r\n\t\t\t\t<TooltipLabel>${formatCurrency(exchangeFee)}</TooltipLabel>\r\n\t\t\t</TooltipContentRow>\r\n\t\t\t<TooltipContentRow>\r\n\t\t\t\t<TooltipLabel>{t('trade.trade-card.network-info-tooltip.network-fee')}</TooltipLabel>\r\n\t\t\t\t<TooltipLabel>${formatCurrency(networkFee)}</TooltipLabel>\r\n\t\t\t</TooltipContentRow>\r\n\t\t</TooltipContent>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<NetworkDataRow>\r\n\t\t\t\t<NetworkData>{t('trade.trade-card.network-info.usd-value')}</NetworkData>\r\n\t\t\t\t<NetworkData>${formatCurrency(usdValue) || 0}</NetworkData>\r\n\t\t\t</NetworkDataRow>\r\n\t\t\t<NetworkDataRow>\r\n\t\t\t\t<NetworkDataLabelFlex>\r\n\t\t\t\t\t{t('trade.trade-card.network-info.fee')}\r\n\t\t\t\t\t<Tooltip title={getTooltipBody()} placement=\"bottom\" arrow={true}>\r\n\t\t\t\t\t\t<QuestionMarkIcon>\r\n\t\t\t\t\t\t\t<QuestionMark />\r\n\t\t\t\t\t\t</QuestionMarkIcon>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</NetworkDataLabelFlex>\r\n\t\t\t\t<NetworkData>${formatCurrency(exchangeFee + networkFee)}</NetworkData>\r\n\t\t\t</NetworkDataRow>\r\n\t\t\t<NetworkDataRow>\r\n\t\t\t\t<NetworkData>{t('common.gas-price-gwei')}</NetworkData>\r\n\t\t\t\t<NetworkData>\r\n\t\t\t\t\t<SelectGasMenu gasPrice={gasPrice} />\r\n\t\t\t\t</NetworkData>\r\n\t\t\t</NetworkDataRow>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nTransactionInfo.propTypes = {\r\n\tgasPrice: PropTypes.number,\r\n\tgasLimit: PropTypes.number,\r\n\tethRate: PropTypes.number,\r\n};\r\n\r\nconst TooltipContent = styled.div`\r\n\twidth: 200px;\r\n\tpadding: 2px;\r\n\t& > * + * {\r\n\t\tmargin-top: 8px;\r\n\t}\r\n`;\r\n\r\nconst TooltipLabel = styled(DataSmall)`\r\n\ttext-transform: none;\r\n`;\r\n\r\nconst TooltipContentRow = styled.div`\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst Container = styled.div`\r\n\tmargin: 18px 0;\r\n`;\r\n\r\nconst NetworkData = styled(DataSmall)`\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n`;\r\n\r\nconst NetworkDataLabelFlex = styled(NetworkData)`\r\n\tdisplay: flex;\r\n\talign-items: baseline;\r\n`;\r\n\r\nconst NetworkDataRow = styled(FlexDivRow)`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nexport default TransactionInfo;\r\n","import React, { memo, FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { headingH5CSS } from 'components/Typography/Heading';\r\nimport { bodyCSS } from 'components/Typography/General';\r\nimport { ButtonPrimary } from 'components/Button';\r\nimport { FlexDivCol, FlexDiv, ExternalLink } from 'shared/commonStyles';\r\n\r\nimport { ReactComponent as CloseIcon } from 'assets/images/close-cross.svg';\r\n\r\nconst TRANSLATION_KEY = 'loans.modal.loan-trial';\r\nconst BLOG_LINK = 'https://blog.synthetix.io/ether-collateral-second-trial/';\r\n\r\ntype LoanWarningModalProps = {\r\n\tonClose: () => void;\r\n\tonConfirm: () => void;\r\n\tisOpen: boolean;\r\n};\r\n\r\nconst LoanWarningModal: FC<LoanWarningModalProps> = memo(({ isOpen, onClose, onConfirm }) => {\r\n\tconst { t } = useTranslation();\r\n\treturn (\r\n\t\t<StyledModal open={isOpen}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Dismissable>\r\n\t\t\t\t\t<StyledCloseButton onClick={onClose} />\r\n\t\t\t\t</Dismissable>\r\n\t\t\t\t<Heading>{t(`${TRANSLATION_KEY}.title`)}</Heading>\r\n\t\t\t\t<Content>\r\n\t\t\t\t\t{t(`${TRANSLATION_KEY}.content`)}\r\n\t\t\t\t\t<StyledExternalLink href={BLOG_LINK}>{BLOG_LINK}</StyledExternalLink>\r\n\t\t\t\t</Content>\r\n\t\t\t\t<ButtonPrimary onClick={onConfirm}>{t(`${TRANSLATION_KEY}.button-label`)}</ButtonPrimary>\r\n\t\t\t</Container>\r\n\t\t</StyledModal>\r\n\t);\r\n});\r\n\r\nconst Dismissable = styled(FlexDiv)`\r\n\twidth: 100%;\r\n\tjustify-content: flex-end;\r\n`;\r\n\r\nconst StyledCloseButton = styled(CloseIcon)`\r\n\twidth: 10px;\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n`;\r\n\r\nconst Heading = styled.h5`\r\n\t${headingH5CSS};\r\n\tmargin: 0;\r\n`;\r\n\r\nconst StyledModal = styled(Modal)`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n`;\r\n\r\nconst Container = styled(FlexDivCol)`\r\n\toutline: none;\r\n\twidth: 478px;\r\n\tpadding: 42px;\r\n\talign-items: center;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n`;\r\n\r\nconst Content = styled.p`\r\n\t${bodyCSS};\r\n\ttext-align: center;\r\n\tmargin: 16px 0 32px 0;\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n`;\r\n\r\nconst StyledExternalLink = styled(ExternalLink)`\r\n\ttext-decoration: underline;\r\n\tmargin-left: 2px;\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n`;\r\n\r\nexport default LoanWarningModal;\r\n","import styled from 'styled-components';\r\nimport DismissableMessage from '../../../../components/DismissableMessage';\r\n\r\nexport const TxErrorMessage = styled(DismissableMessage)`\r\n\tmargin-top: 8px;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Trans, useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { GWEI_UNIT } from 'utils/networkUtils';\r\nimport { normalizeGasLimit } from 'utils/transactions';\r\nimport { getCurrencyKeyBalance } from 'utils/balances';\r\n\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\n\r\nimport { ButtonPrimary } from 'components/Button';\r\nimport Card from 'components/Card';\r\nimport NumericInputWithCurrency from 'components/Input/NumericInputWithCurrency';\r\nimport { HeadingSmall } from 'components/Typography';\r\nimport { getGasInfo } from 'ducks/transaction';\r\nimport { getWalletInfo } from 'ducks/wallet/walletDetails';\r\nimport { getWalletBalancesMap } from 'ducks/wallet/walletBalances';\r\nimport { createLoan, LOAN_STATUS } from 'ducks/loans/myLoans';\r\nimport { getEthRate } from 'ducks/rates';\r\n\r\nimport LoanWarningModal from '../LoanWarningModal';\r\n\r\nimport {\r\n\tFormInputRow,\r\n\tFormInputLabel,\r\n\tFormInputLabelSmall,\r\n\tCurrencyKey,\r\n} from 'shared/commonStyles';\r\n\r\nimport NetworkInfo from 'components/NetworkInfo/NetworkInfo';\r\n\r\nimport { TxErrorMessage } from '../commonStyles';\r\n\r\nexport const CreateLoanCard = ({\r\n\tgasInfo,\r\n\tethRate,\r\n\twalletInfo: { currentWallet },\r\n\twalletBalance,\r\n\tcreateLoan,\r\n\tcollateralPair,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst [collateralAmount, setCollateralAmount] = useState('');\r\n\tconst [loanAmount, setLoanAmount] = useState('');\r\n\r\n\tconst [gasLimit, setLocalGasLimit] = useState(gasInfo.gasLimit);\r\n\tconst [collateralAmountErrorMessage, setCollateralAmountErrorMessage] = useState(null);\r\n\tconst [txErrorMessage, setTxErrorMessage] = useState(null);\r\n\tconst [isLoanConfirmationModalOpen, setIsLoanConfirmationModalOpen] = useState(false);\r\n\r\n\tconst { collateralCurrencyKey, loanCurrencyKey, issuanceRatio, minLoanSize } = collateralPair;\r\n\r\n\tconst onLoanModalConfirmation = () => {\r\n\t\tsetIsLoanConfirmationModalOpen(false);\r\n\t\thandleSubmit();\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tconst {\r\n\t\t\tsnxJS: { EtherCollateral },\r\n\t\t\tutils,\r\n\t\t} = snxJSConnector;\r\n\r\n\t\tsetTxErrorMessage(null);\r\n\r\n\t\ttry {\r\n\t\t\tconst openLoanArgs = {\r\n\t\t\t\tvalue: utils.parseEther(collateralAmount),\r\n\t\t\t\tgasPrice: gasInfo.gasPrice * GWEI_UNIT,\r\n\t\t\t\tgasLimit,\r\n\t\t\t};\r\n\r\n\t\t\tconst gasEstimate = await EtherCollateral.contract.estimate.openLoan(openLoanArgs);\r\n\t\t\tconst updatedGasEstimate = normalizeGasLimit(Number(gasEstimate));\r\n\r\n\t\t\tsetLocalGasLimit(updatedGasEstimate);\r\n\r\n\t\t\tconst tx = await EtherCollateral.openLoan({\r\n\t\t\t\t...openLoanArgs,\r\n\t\t\t\tgasLimit: updatedGasEstimate,\r\n\t\t\t});\r\n\r\n\t\t\tcreateLoan({\r\n\t\t\t\tloan: {\r\n\t\t\t\t\tcollateralAmount: Number(collateralAmount),\r\n\t\t\t\t\tloanAmount: Number(loanAmount),\r\n\t\t\t\t\ttimeCreated: Date.now(),\r\n\t\t\t\t\ttimeClosed: 0,\r\n\t\t\t\t\tfeesPayable: 0,\r\n\t\t\t\t\tcurrentInterest: 0,\r\n\t\t\t\t\tstatus: LOAN_STATUS.WAITING,\r\n\t\t\t\t\tloanID: null,\r\n\t\t\t\t\ttransactionHash: tx.hash,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tsetCollateralAmount('');\r\n\t\t\tsetLoanAmount('');\r\n\t\t} catch (e) {\r\n\t\t\tsetTxErrorMessage(t('common.errors.unknown-error-try-again'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst collateralCurrencyBalance = getCurrencyKeyBalance(walletBalance, collateralCurrencyKey);\r\n\tconst loanCurrencyBalance = getCurrencyKeyBalance(walletBalance, loanCurrencyKey);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCollateralAmountErrorMessage(null);\r\n\t\tif (collateralAmount !== '') {\r\n\t\t\tif (currentWallet && collateralAmount > collateralCurrencyBalance) {\r\n\t\t\t\tsetCollateralAmountErrorMessage(t('common.errors.amount-exceeds-balance'));\r\n\t\t\t} else if (collateralAmount < minLoanSize) {\r\n\t\t\t\tsetCollateralAmountErrorMessage(\r\n\t\t\t\t\tt('loans.loan-card.errors.min-loan-size', {\r\n\t\t\t\t\t\tcurrencyKey: collateralCurrencyKey,\r\n\t\t\t\t\t\tminLoanSize: minLoanSize,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tcollateralAmount,\r\n\t\tcollateralCurrencyBalance,\r\n\t\tt,\r\n\t\tcurrentWallet,\r\n\t\tcollateralCurrencyKey,\r\n\t\tloanCurrencyKey,\r\n\t\tminLoanSize,\r\n\t]);\r\n\r\n\tconst hasError = !!collateralAmountErrorMessage;\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<Card.Header>\r\n\t\t\t\t<HeadingSmall>{t('loans.loan-card.create-loan.title')}</HeadingSmall>\r\n\t\t\t</Card.Header>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<FormInputRow>\r\n\t\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\t\tcurrencyKey={collateralCurrencyKey}\r\n\t\t\t\t\t\tvalue={`${collateralAmount}`}\r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<FormInputLabel>\r\n\t\t\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"loans.loan-card.create-loan.currency-locked\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{ currencyKey: collateralCurrencyKey }}\r\n\t\t\t\t\t\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormInputLabel>\r\n\t\t\t\t\t\t\t\t<FormInputLabelSmall>\r\n\t\t\t\t\t\t\t\t\t{t('common.wallet.balance-currency', {\r\n\t\t\t\t\t\t\t\t\t\tbalance: currentWallet ? collateralCurrencyBalance : EMPTY_VALUE,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormInputLabelSmall>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={(_, val) => {\r\n\t\t\t\t\t\t\tsetCollateralAmount(val);\r\n\t\t\t\t\t\t\tsetLoanAmount(val * issuanceRatio);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\terrorMessage={collateralAmountErrorMessage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInputRow>\r\n\t\t\t\t<FormInputRow>\r\n\t\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\t\tcurrencyKey={loanCurrencyKey}\r\n\t\t\t\t\t\tvalue={loanAmount}\r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<FormInputLabel>\r\n\t\t\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"loans.loan-card.create-loan.currency-borrowed\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{ currencyKey: loanCurrencyKey }}\r\n\t\t\t\t\t\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormInputLabel>\r\n\t\t\t\t\t\t\t\t<FormInputLabelSmall>\r\n\t\t\t\t\t\t\t\t\t{t('common.wallet.balance-currency', {\r\n\t\t\t\t\t\t\t\t\t\tbalance: currentWallet ? loanCurrencyBalance : EMPTY_VALUE,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormInputLabelSmall>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={(_, val) => {\r\n\t\t\t\t\t\t\tsetLoanAmount(val);\r\n\t\t\t\t\t\t\tsetCollateralAmount(val / issuanceRatio);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInputRow>\r\n\t\t\t\t<NetworkInfo gasPrice={gasInfo.gasPrice} gasLimit={gasLimit} ethRate={ethRate} />\r\n\t\t\t\t<ButtonPrimary\r\n\t\t\t\t\tdisabled={!collateralAmount || !loanAmount || !currentWallet || hasError}\r\n\t\t\t\t\tonClick={() => setIsLoanConfirmationModalOpen(true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('common.actions.submit')}\r\n\t\t\t\t</ButtonPrimary>\r\n\t\t\t\t{txErrorMessage && (\r\n\t\t\t\t\t<TxErrorMessage\r\n\t\t\t\t\t\tonDismiss={() => setTxErrorMessage(null)}\r\n\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\tfloating={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{txErrorMessage}\r\n\t\t\t\t\t</TxErrorMessage>\r\n\t\t\t\t)}\r\n\t\t\t</Card.Body>\r\n\t\t\t<LoanWarningModal\r\n\t\t\t\tisOpen={isLoanConfirmationModalOpen}\r\n\t\t\t\tonClose={() => setIsLoanConfirmationModalOpen(false)}\r\n\t\t\t\tonConfirm={() => onLoanModalConfirmation()}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nCreateLoanCard.propTypes = {\r\n\tgasInfo: PropTypes.object,\r\n\tethRate: PropTypes.number,\r\n\twalletInfo: PropTypes.object,\r\n\tcollateralPair: PropTypes.object,\r\n\twalletBalance: PropTypes.number,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tgasInfo: getGasInfo(state),\r\n\tethRate: getEthRate(state),\r\n\twalletInfo: getWalletInfo(state),\r\n\twalletBalance: getWalletBalancesMap(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tcreateLoan,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateLoanCard);\r\n","import React, { useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { Trans, useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { GWEI_UNIT } from 'utils/networkUtils';\r\nimport { normalizeGasLimit } from 'utils/transactions';\r\n\r\nimport { getGasInfo } from 'ducks/transaction';\r\nimport { getWalletInfo } from 'ducks/wallet/walletDetails';\r\nimport { updateLoan, LOAN_STATUS } from 'ducks/loans/myLoans';\r\nimport { getEthRate } from 'ducks/rates';\r\n\r\nimport { ButtonPrimary } from 'components/Button';\r\nimport Card from 'components/Card';\r\nimport { HeadingSmall } from 'components/Typography';\r\n\r\nimport { InfoBox, InfoBoxLabel, InfoBoxValue, CurrencyKey } from 'shared/commonStyles';\r\n\r\nimport NetworkInfo from 'components/NetworkInfo';\r\n\r\nimport { TxErrorMessage } from '../commonStyles';\r\n\r\nexport const CloseLoanCard = ({\r\n\tgasInfo,\r\n\tethRate,\r\n\tisInteractive = true,\r\n\tselectedLoan,\r\n\twalletInfo: { currentWallet },\r\n\tupdateLoan,\r\n\tcollateralPair,\r\n\tonLoanClosed,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst [gasLimit, setLocalGasLimit] = useState(gasInfo.gasLimit);\r\n\tconst [txErrorMessage, setTxErrorMessage] = useState(null);\r\n\r\n\tlet collateralAmount = null;\r\n\tlet loanAmount = null;\r\n\tlet loanID = null;\r\n\r\n\tif (selectedLoan != null) {\r\n\t\tcollateralAmount = selectedLoan.collateralAmount;\r\n\t\tloanAmount = selectedLoan.loanAmount;\r\n\t\tloanID = selectedLoan.loanID;\r\n\t}\r\n\r\n\tconst { collateralCurrencyKey, loanCurrencyKey } = collateralPair;\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tconst {\r\n\t\t\tsnxJS: { EtherCollateral },\r\n\t\t} = snxJSConnector;\r\n\r\n\t\tsetTxErrorMessage(null);\r\n\r\n\t\ttry {\r\n\t\t\tconst loanIDStr = loanID.toString();\r\n\r\n\t\t\tconst gasEstimate = await EtherCollateral.contract.estimate.closeLoan(loanIDStr);\r\n\t\t\tconst updatedGasEstimate = normalizeGasLimit(Number(gasEstimate));\r\n\t\t\tsetLocalGasLimit(updatedGasEstimate);\r\n\r\n\t\t\tawait EtherCollateral.closeLoan(loanIDStr, {\r\n\t\t\t\tgasPrice: gasInfo.gasPrice * GWEI_UNIT,\r\n\t\t\t\tgasLimit: updatedGasEstimate,\r\n\t\t\t});\r\n\r\n\t\t\tupdateLoan({\r\n\t\t\t\tloanID,\r\n\t\t\t\tloanInfo: {\r\n\t\t\t\t\tstatus: LOAN_STATUS.CLOSING,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tonLoanClosed();\r\n\t\t} catch (e) {\r\n\t\t\tsetTxErrorMessage(t('common.errors.unknown-error-try-again'));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<StyledCard isInteractive={isInteractive}>\r\n\t\t\t<Card.Header>\r\n\t\t\t\t<HeadingSmall>{t('loans.loan-card.close-loan.title')}</HeadingSmall>\r\n\t\t\t</Card.Header>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<LoanInfoContainer>\r\n\t\t\t\t\t<InfoBox>\r\n\t\t\t\t\t\t<InfoBoxLabel>\r\n\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\ti18nKey=\"loans.loan-card.close-loan.currency-unlocked\"\r\n\t\t\t\t\t\t\t\tvalues={{ currencyKey: collateralCurrencyKey }}\r\n\t\t\t\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InfoBoxLabel>\r\n\t\t\t\t\t\t<InfoBoxValue>\r\n\t\t\t\t\t\t\t{t('common.wallet.balance-currency', { balance: collateralAmount })}\r\n\t\t\t\t\t\t</InfoBoxValue>\r\n\t\t\t\t\t</InfoBox>\r\n\t\t\t\t\t<InfoBox>\r\n\t\t\t\t\t\t<InfoBoxLabel>\r\n\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\ti18nKey=\"loans.loan-card.close-loan.currency-burned\"\r\n\t\t\t\t\t\t\t\tvalues={{ currencyKey: loanCurrencyKey }}\r\n\t\t\t\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InfoBoxLabel>\r\n\t\t\t\t\t\t<InfoBoxValue>\r\n\t\t\t\t\t\t\t{t('common.wallet.balance-currency', { balance: loanAmount })}\r\n\t\t\t\t\t\t</InfoBoxValue>\r\n\t\t\t\t\t</InfoBox>\r\n\t\t\t\t</LoanInfoContainer>\r\n\t\t\t\t<NetworkInfo gasPrice={gasInfo.gasPrice} gasLimit={gasLimit} ethRate={ethRate} />\r\n\t\t\t\t<ButtonPrimary onClick={handleSubmit} disabled={!selectedLoan || !currentWallet}>\r\n\t\t\t\t\t{t('common.actions.confirm')}\r\n\t\t\t\t</ButtonPrimary>\r\n\t\t\t\t{txErrorMessage && (\r\n\t\t\t\t\t<TxErrorMessage\r\n\t\t\t\t\t\tonDismiss={() => setTxErrorMessage(null)}\r\n\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\tfloating={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{txErrorMessage}\r\n\t\t\t\t\t</TxErrorMessage>\r\n\t\t\t\t)}\r\n\t\t\t</Card.Body>\r\n\t\t</StyledCard>\r\n\t);\r\n};\r\n\r\nCloseLoanCard.propTypes = {\r\n\tgasInfo: PropTypes.object,\r\n\tethRate: PropTypes.number,\r\n\tisInteractive: PropTypes.bool,\r\n\tselectedLoan: PropTypes.object,\r\n\twalletInfo: PropTypes.object,\r\n\tonLoanClosed: PropTypes.func,\r\n\tupdateLoan: PropTypes.func,\r\n\tcollateralPair: PropTypes.object,\r\n};\r\n\r\nconst StyledCard = styled(Card)`\r\n\t${(props) =>\r\n\t\t!props.isInteractive &&\r\n\t\tcss`\r\n\t\t\topacity: 0.3;\r\n\t\t\tpointer-events: none;\r\n\t\t`}\r\n`;\r\n\r\nconst LoanInfoContainer = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-row-gap: 15px;\r\n`;\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tgasInfo: getGasInfo(state),\r\n\tethRate: getEthRate(state),\r\n\twalletInfo: getWalletInfo(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tupdateLoan,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CloseLoanCard);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { Trans, useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { ReactComponent as ArrowHyperlinkIcon } from 'assets/images/arrow-hyperlink.svg';\r\n\r\nimport Card from 'components/Card';\r\nimport { HeadingSmall } from 'components/Typography';\r\nimport { getIsRefreshingLoansContractInfo } from 'ducks/loans/contractInfo';\r\nimport { getIsFetchingWalletBalances } from 'ducks/wallet/walletBalances';\r\nimport { getWalletInfo, getNetworkId } from 'ducks/wallet/walletDetails';\r\n\r\nimport { getCurrencyKeyBalance } from 'utils/balances';\r\nimport { formatPercentage, formatCurrency, formatCurrencyWithKey } from 'utils/formatters';\r\n\r\nimport { CARD_HEIGHT } from 'constants/ui';\r\n\r\nimport {\r\n\tInfoBox,\r\n\tInfoBoxLabel,\r\n\tInfoBoxValue,\r\n\tCurrencyKey,\r\n\tExternalLink,\r\n} from 'shared/commonStyles';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { getEtherscanAddressLink } from 'utils/explorers';\r\n\r\nexport const Dashboard = ({\r\n\twalletInfo: { balances, currentWallet },\r\n\tcollateralPair,\r\n\tisFetchingWalletBalances,\r\n\tisRefreshingLoansContractInfo,\r\n\tnetworkId,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst {\r\n\t\tcollateralCurrencyKey,\r\n\t\tloanCurrencyKey,\r\n\t\tinterestRatePercent,\r\n\t\tissueFeeRatePercent,\r\n\t\ttotalOpenLoanCount,\r\n\t\tminLoanSize,\r\n\t\tcollateralizationRatioPercent,\r\n\t\tissueLimit,\r\n\t\ttotalIssuedSynths,\r\n\t\tlockedCollateralAmount,\r\n\t} = collateralPair;\r\n\r\n\tconst {\r\n\t\tsnxJS: { EtherCollateral },\r\n\t} = snxJSConnector;\r\n\r\n\tconst loanInfoItems = [\r\n\t\t{\r\n\t\t\tlabel: t('loans.dashboard.loan-info.interest-fee'),\r\n\t\t\tvalue: formatPercentage(interestRatePercent),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('loans.dashboard.loan-info.minting-fee'),\r\n\t\t\tvalue: formatPercentage(issueFeeRatePercent),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('loans.dashboard.loan-info.number-of-open-loans'),\r\n\t\t\tvalue: totalOpenLoanCount,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: (\r\n\t\t\t\t<Trans\r\n\t\t\t\t\ti18nKey=\"loans.dashboard.loan-info.currency-limit\"\r\n\t\t\t\t\tvalues={{ currencyKey: loanCurrencyKey }}\r\n\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tvalue: formatCurrency(issueLimit),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: (\r\n\t\t\t\t<Trans\r\n\t\t\t\t\ti18nKey=\"loans.dashboard.loan-info.currency-supply\"\r\n\t\t\t\t\tvalues={{ currencyKey: loanCurrencyKey }}\r\n\t\t\t\t\tcomponents={[<CurrencyKey />]}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\r\n\t\t\tvalue: formatCurrency(totalIssuedSynths),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('loans.dashboard.loan-info.min-loan-size'),\r\n\t\t\tvalue: formatCurrencyWithKey(collateralCurrencyKey, minLoanSize),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('loans.dashboard.loan-info.collateral-size'),\r\n\t\t\tvalue: formatPercentage(collateralizationRatioPercent, 0),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('loans.dashboard.loan-info.locked-currency', {\r\n\t\t\t\tcurrencyKey: collateralCurrencyKey,\r\n\t\t\t}),\r\n\t\t\tvalue: formatCurrency(lockedCollateralAmount, 0),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Card>\r\n\t\t\t\t<Card.Header>\r\n\t\t\t\t\t<HeadingSmall>\r\n\t\t\t\t\t\t{t('loans.dashboard.title', { currencyKey: collateralCurrencyKey })}\r\n\t\t\t\t\t</HeadingSmall>\r\n\t\t\t\t\t{isRefreshingLoansContractInfo && <Spinner size=\"sm\" />}\r\n\t\t\t\t\t<StyledExternalLink\r\n\t\t\t\t\t\thref={getEtherscanAddressLink(networkId, EtherCollateral.contract.address)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('common.contracts.view')}\r\n\t\t\t\t\t\t<StyledArrowHyperlinkIcon width=\"8\" height=\"8\" />\r\n\t\t\t\t\t</StyledExternalLink>\r\n\t\t\t\t</Card.Header>\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<LoanInfoRow>\r\n\t\t\t\t\t\t{loanInfoItems.map((infoItem, idx) => (\r\n\t\t\t\t\t\t\t<InfoBox key={`loanInfo${idx}`}>\r\n\t\t\t\t\t\t\t\t<InfoBoxLabel>{infoItem.label}</InfoBoxLabel>\r\n\t\t\t\t\t\t\t\t<InfoBoxValue>{infoItem.value}</InfoBoxValue>\r\n\t\t\t\t\t\t\t</InfoBox>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</LoanInfoRow>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t\t<Table cellSpacing=\"0\" cellPadding=\"0\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<TableRowHeader>\r\n\t\t\t\t\t\t<WalletBalancesHeading>\r\n\t\t\t\t\t\t\t<span>{t('common.wallet.your-wallet')}</span>\r\n\t\t\t\t\t\t\t{isFetchingWalletBalances && <Spinner size=\"sm\" />}\r\n\t\t\t\t\t\t</WalletBalancesHeading>\r\n\t\t\t\t\t\t<th>{t('common.wallet.currency-balance', { currencyKey: loanCurrencyKey })}</th>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t{t('common.wallet.currency-balance', {\r\n\t\t\t\t\t\t\t\tcurrencyKey: collateralCurrencyKey,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</TableRowHeader>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td style={{ width: '60%' }} />\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{currentWallet\r\n\t\t\t\t\t\t\t\t? formatCurrency(getCurrencyKeyBalance(balances, loanCurrencyKey))\r\n\t\t\t\t\t\t\t\t: EMPTY_VALUE}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{currentWallet\r\n\t\t\t\t\t\t\t\t? formatCurrency(getCurrencyKeyBalance(balances, collateralCurrencyKey))\r\n\t\t\t\t\t\t\t\t: EMPTY_VALUE}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nDashboard.propTypes = {\r\n\twalletInfo: PropTypes.object.isRequired,\r\n\tcollateralPair: PropTypes.object.isRequired,\r\n\tisFetchingWalletBalances: PropTypes.bool.isRequired,\r\n\tisRefreshingLoansContractInfo: PropTypes.bool.isRequired,\r\n\tnetworkId: PropTypes.number.isRequired,\r\n};\r\n\r\nconst StyledExternalLink = styled(ExternalLink)`\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n\ttext-transform: none;\r\n\tmargin-left: auto;\r\n\tfont-size: 13px;\r\n`;\r\n\r\nconst StyledArrowHyperlinkIcon = styled(ArrowHyperlinkIcon)`\r\n\tmargin-left: 5px;\r\n`;\r\n\r\nconst WalletBalancesHeading = styled.th`\r\n\twidth: 60%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\r\n\t> * + * {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n`;\r\n\r\nconst LoanInfoRow = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-column-gap: 12px;\r\n\tgrid-auto-flow: column;\r\n\t@media (max-width: 1480px) {\r\n\t\tgrid-template-rows: auto auto;\r\n\t\tgrid-row-gap: 10px;\r\n\t}\r\n`;\r\n\r\nconst Table = styled.table`\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL2};\r\n\tborder-collapse: collapse;\r\n\twidth: 100%;\r\n\tfont-size: 12px;\r\n\ttr {\r\n\t\ttext-align: left;\r\n\t\t> * {\r\n\t\t\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\t\t\theight: ${CARD_HEIGHT};\r\n\t\t\ttext-align: left;\r\n\t\t\t&:first-child {\r\n\t\t\t\tpadding-left: 18px;\r\n\t\t\t}\r\n\t\t\t&:last-child {\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tpadding-right: 18px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t> th {\r\n\t\t\t&:not(:first-child) {\r\n\t\t\t\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst TableRowHeader = styled.tr`\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n`;\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tnetworkId: getNetworkId(state),\r\n\twalletInfo: getWalletInfo(state),\r\n\tisFetchingWalletBalances: getIsFetchingWalletBalances(state),\r\n\tisRefreshingLoansContractInfo: getIsRefreshingLoansContractInfo(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Dashboard);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.131 2H2.81444C2.61518 2.00185 2.41657 2.02369 2.22166 2.06525C0.932902 2.33771 0.00814438 3.47126 0 4.78853V27.6752C0 29.2087 1.28089 30.4128 2.81444 30.4128H35.131C36.6645 30.4128 37.9454 29.2087 37.9454 27.6752V4.78853C37.9454 3.25498 36.6645 2 35.131 2Z\",\n  fill: \"#3B375B\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M38 10.2554C38.5523 10.2554 39 10.7031 39 11.2554V21.1175C39 21.6698 38.5523 22.1175 38 22.1175H30.6839C28.6394 22.1175 26.9819 20.46 26.9819 18.4155V13.9574C26.9819 11.9128 28.6394 10.2554 30.6839 10.2554H38Z\",\n  fill: \"#6F6E98\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M32.5766 18.2339C33.6883 18.2339 34.5896 17.3327 34.5896 16.221C34.5896 15.1092 33.6883 14.208 32.5766 14.208C31.4649 14.208 30.5637 15.1092 30.5637 16.221C30.5637 17.3327 31.4649 18.2339 32.5766 18.2339Z\",\n  fill: \"#3B375B\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M44.5156 16.3828C44.8555 16.7227 45.2891 16.8984 45.8164 16.8984C46.3438 16.8984 46.7891 16.7227 47.1289 16.3828C47.4688 16.043 47.6445 15.6094 47.6445 15.1055C47.6445 14.5898 47.4688 14.1562 47.1289 13.8164C46.7891 13.4766 46.3438 13.3008 45.8164 13.3008C45.2891 13.3008 44.8555 13.4766 44.5156 13.8164C44.1758 14.1562 44 14.5898 44 15.1055C44 15.6094 44.1758 16.043 44.5156 16.3828ZM45.1748 0C44.6005 0 44.1442 0.482592 44.1764 1.05598L44.7088 10.5521C44.7385 11.0818 45.1767 11.4961 45.7072 11.4961H45.9373C46.4678 11.4961 46.906 11.0818 46.9357 10.5521L47.4681 1.05598C47.5003 0.48259 47.044 0 46.4697 0H45.1748Z\",\n  fill: \"#3B375B\"\n});\n\nvar SvgNoWallet = function SvgNoWallet(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 31,\n    viewBox: \"0 0 48 31\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNoWallet, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/no-wallet.c7099db5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M20 40C31.0457 40 40 31.0457 40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 31.0457 8.9543 40 20 40Z\",\n  fill: \"#D94454\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M14.5872 13.125L13.125 14.3796L18.6762 20.2548L13.125 26.13L14.5872 27.3847L20 21.6559L25.4128 27.3847L26.875 26.13L21.3238 20.2548L26.875 14.3796L25.4128 13.125L20 18.8538L14.5872 13.125Z\",\n  fill: \"white\"\n});\n\nvar SvgErrorCircle = function SvgErrorCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgErrorCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/error-circle.5bc8166b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useMemo, useEffect } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\nimport { useTable, useFlexLayout, useSortBy } from 'react-table';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport { ReactComponent as NoWalletIcon } from 'assets/images/no-wallet.svg';\r\nimport { ReactComponent as ErrorCircleIcon } from 'assets/images/error-circle.svg';\r\nimport { ReactComponent as SortDownIcon } from 'assets/images/sort-down.svg';\r\nimport { ReactComponent as SortUpIcon } from 'assets/images/sort-up.svg';\r\nimport { ReactComponent as SortIcon } from 'assets/images/sort.svg';\r\n\r\nimport Card from 'components/Card';\r\nimport { ButtonPrimarySmall } from 'components/Button';\r\nimport { HeadingSmall } from 'components/Typography';\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport { absoluteCenteredCSS, TableNoResults } from 'shared/commonStyles';\r\n\r\nimport {\r\n\tfetchLoans,\r\n\tgetMyLoans,\r\n\tgetIsLoadingMyLoans,\r\n\tgetIsRefreshingMyLoans,\r\n\tgetMyLoansLoadingError,\r\n\tgetIsLoadedMyLoans,\r\n\tLOAN_STATUS,\r\n} from 'ducks/loans/myLoans';\r\nimport { getWalletInfo } from 'ducks/wallet/walletDetails';\r\nimport { showWalletPopup } from 'ducks/ui';\r\n\r\nimport { formatTxTimestamp, formatCurrencyWithKey, formatCurrency } from 'utils/formatters';\r\n\r\nimport { CARD_HEIGHT } from 'constants/ui';\r\n\r\nexport const MyLoans = ({\r\n\tonSelectLoan,\r\n\tselectedLoan,\r\n\tfetchLoans,\r\n\twalletInfo: { currentWallet },\r\n\tloans,\r\n\tcollateralPair,\r\n\tisLoadingMyLoans,\r\n\tisRefreshingMyLoans,\r\n\tmyLoansLoadingError,\r\n\tisLoadedMyLoans,\r\n\tshowWalletPopup,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst { collateralCurrencyKey, loanCurrencyKey } = collateralPair;\r\n\r\n\tconst columns = useMemo(\r\n\t\t() => [\r\n\t\t\t{\r\n\t\t\t\tHeader: <>{t('loans.my-loans.table.amount-borrowed-col')}</>,\r\n\t\t\t\taccessor: 'loanAmount',\r\n\t\t\t\tCell: (cellProps) => formatCurrencyWithKey(loanCurrencyKey, cellProps.cell.value),\r\n\t\t\t\twidth: 150,\r\n\t\t\t\tsortable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tHeader: <>{t('loans.my-loans.table.collateral-col')}</>,\r\n\t\t\t\taccessor: 'collateralAmount',\r\n\t\t\t\tCell: (cellProps) => formatCurrencyWithKey(collateralCurrencyKey, cellProps.cell.value),\r\n\t\t\t\twidth: 150,\r\n\t\t\t\tsortable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tHeader: <>{t('loans.my-loans.table.time-opened-col')}</>,\r\n\t\t\t\taccessor: 'timeCreated',\r\n\t\t\t\tCell: (cellProps) => formatTxTimestamp(cellProps.cell.value),\r\n\t\t\t\twidth: 150,\r\n\t\t\t\tsortable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tHeader: <>{t('loans.my-loans.table.current-interest-fee-col')}</>,\r\n\t\t\t\taccessor: 'currentInterest',\r\n\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t<Tooltip title={formatCurrency(cellProps.cell.value, 18)}>\r\n\t\t\t\t\t\t<span>{formatCurrencyWithKey(loanCurrencyKey, cellProps.cell.value, 4)}</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t),\r\n\t\t\t\twidth: 150,\r\n\t\t\t\tsortable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tHeader: <>{t('loans.my-loans.table.fees-payable-col')}</>,\r\n\t\t\t\taccessor: 'feesPayable',\r\n\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t<Tooltip title={formatCurrency(cellProps.cell.value, 18)}>\r\n\t\t\t\t\t\t<span>{formatCurrencyWithKey(loanCurrencyKey, cellProps.cell.value, 4)}</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t),\r\n\t\t\t\twidth: 150,\r\n\t\t\t\tsortable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tHeader: <>{t('loans.my-loans.table.status-col')}</>,\r\n\t\t\t\taccessor: 'status',\r\n\t\t\t\tCell: (cellProps) => t(`common.tx-status.${cellProps.cell.value}`),\r\n\t\t\t\twidth: 100,\r\n\t\t\t\tsortable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'close',\r\n\t\t\t\tCell: (cellProps) => {\r\n\t\t\t\t\tconst loanData = cellProps.row.original;\r\n\t\t\t\t\tconst isLoanClosed = loanData.status === LOAN_STATUS.CLOSED;\r\n\r\n\t\t\t\t\treturn isLoanClosed ? null : (\r\n\t\t\t\t\t\t<ButtonPrimarySmall\r\n\t\t\t\t\t\t\tonClick={() => onSelectLoan(loanData)}\r\n\t\t\t\t\t\t\tdisabled={loanData.status !== LOAN_STATUS.OPEN}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('common.actions.close')}\r\n\t\t\t\t\t\t</ButtonPrimarySmall>\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[]\r\n\t);\r\n\r\n\tconst { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } = useTable(\r\n\t\t{\r\n\t\t\tcolumns,\r\n\t\t\tdata: loans,\r\n\t\t\tinitialState: {\r\n\t\t\t\tsortBy: [{ id: 'timeCreated', desc: true }],\r\n\t\t\t},\r\n\t\t},\r\n\t\tuseSortBy,\r\n\t\tuseFlexLayout\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentWallet) {\r\n\t\t\tfetchLoans();\r\n\t\t}\r\n\t}, [fetchLoans, currentWallet]);\r\n\r\n\treturn (\r\n\t\t<StyledCard>\r\n\t\t\t<Card.Header>\r\n\t\t\t\t<HeadingSmall>{t('loans.my-loans.title')}</HeadingSmall>\r\n\t\t\t\t{isRefreshingMyLoans && <Spinner size=\"sm\" />}\r\n\t\t\t</Card.Header>\r\n\t\t\t<StyledCardBody>\r\n\t\t\t\t<Table {...getTableProps()}>\r\n\t\t\t\t\t{headerGroups.map((headerGroup) => (\r\n\t\t\t\t\t\t<TableRow {...headerGroup.getHeaderGroupProps()}>\r\n\t\t\t\t\t\t\t{headerGroup.headers.map((column) => (\r\n\t\t\t\t\t\t\t\t<TableCellHead\r\n\t\t\t\t\t\t\t\t\t{...column.getHeaderProps(column.getSortByToggleProps())}\r\n\t\t\t\t\t\t\t\t\tclassName=\"th\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{column.render('Header')}\r\n\t\t\t\t\t\t\t\t\t{column.sortable && (\r\n\t\t\t\t\t\t\t\t\t\t<SortIconContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t{column.isSorted ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolumn.isSortedDesc ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SortDownIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SortUpIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SortIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</SortIconContainer>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableCellHead>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{isLoadedMyLoans && rows.length > 0 ? (\r\n\t\t\t\t\t\t<TableBody {...getTableBodyProps()}>\r\n\t\t\t\t\t\t\t{rows.map((row) => {\r\n\t\t\t\t\t\t\t\tprepareRow(row);\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<TableBodyRow\r\n\t\t\t\t\t\t\t\t\t\t{...row.getRowProps()}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"tr\"\r\n\t\t\t\t\t\t\t\t\t\tisSelectedLoan={\r\n\t\t\t\t\t\t\t\t\t\t\tselectedLoan != null && selectedLoan.loanID === row.original.loanID\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{row.cells.map((cell) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell {...cell.getCellProps()}>{cell.render('Cell')}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</TableBodyRow>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t) : currentWallet == null ? (\r\n\t\t\t\t\t\t<MessageContainer>\r\n\t\t\t\t\t\t\t<NoWalletIcon />\r\n\t\t\t\t\t\t\t<MessageLabel>{t('common.wallet.no-wallet-connected')}</MessageLabel>\r\n\t\t\t\t\t\t\t<ButtonPrimarySmall onClick={showWalletPopup}>\r\n\t\t\t\t\t\t\t\t{t('common.wallet.connect-currency-wallet', {\r\n\t\t\t\t\t\t\t\t\tcurrencyKey: collateralCurrencyKey,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</ButtonPrimarySmall>\r\n\t\t\t\t\t\t</MessageContainer>\r\n\t\t\t\t\t) : myLoansLoadingError ? (\r\n\t\t\t\t\t\t<MessageContainer>\r\n\t\t\t\t\t\t\t<ErrorCircleIcon />\r\n\t\t\t\t\t\t\t<MessageLabel>{t('common.errors.error-loading')}</MessageLabel>\r\n\t\t\t\t\t\t\t<ButtonPrimarySmall onClick={() => fetchLoans()}>\r\n\t\t\t\t\t\t\t\t{t('common.actions.click-to-retry')}\r\n\t\t\t\t\t\t\t</ButtonPrimarySmall>\r\n\t\t\t\t\t\t</MessageContainer>\r\n\t\t\t\t\t) : isLoadingMyLoans && !isLoadedMyLoans ? (\r\n\t\t\t\t\t\t<HeaderSpinner size=\"sm\" centered={true} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trows.length === 0 &&\r\n\t\t\t\t\t\tisLoadedMyLoans && (\r\n\t\t\t\t\t\t\t<TableNoResults>{t('loans.my-loans.table.no-results')}</TableNoResults>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Table>\r\n\t\t\t</StyledCardBody>\r\n\t\t</StyledCard>\r\n\t);\r\n};\r\n\r\nconst StyledCard = styled(Card)`\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`;\r\n\r\nconst StyledCardBody = styled(Card.Body)`\r\n\tpadding: 0;\r\n\tflex-grow: 1;\r\n`;\r\n\r\nconst HeaderSpinner = styled(Spinner)`\r\n\t${(props) =>\r\n\t\tprops.centered\r\n\t\t\t? absoluteCenteredCSS\r\n\t\t\t: css`\r\n\t\t\t\t\tmargin-left: 10px;\r\n\t\t\t  `};\r\n`;\r\n\r\nconst Table = styled.div`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow-x: auto;\r\n\tposition: relative;\r\n`;\r\n\r\nconst TableRow = styled.div`\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nconst TableBody = styled.div`\r\n\tmax-height: calc(100% - 40px);\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n`;\r\n\r\nconst TableBodyRow = styled(TableRow)`\r\n\tbackground-color: ${(props) =>\r\n\t\tprops.isSelectedLoan ? props.theme.colors.accentL1 : props.theme.colors.surfaceL3};\r\n\t&:hover {\r\n\t\tbackground-color: ${(props) => props.theme.colors.accentL1};\r\n\t\t> * {\r\n\t\t\ttransition: transform 0.2s ease-out;\r\n\t\t\ttransform: scale(1.02);\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst TableCell = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\tfont-size: 12px;\r\n\tpadding: 10px 0;\r\n\theight: ${CARD_HEIGHT};\r\n\tbox-sizing: border-box;\r\n\t&:first-child {\r\n\t\tpadding-left: 18px;\r\n\t}\r\n\t&:last-child {\r\n\t\tjustify-content: flex-end;\r\n\t\tpadding-right: 18px;\r\n\t}\r\n`;\r\n\r\nconst TableCellHead = styled(TableCell)`\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\tuser-select: none;\r\n\ttext-transform: uppercase;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n`;\r\n\r\nconst MessageContainer = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-auto-flow: row;\r\n\tgrid-gap: 20px;\r\n\twidth: 300px;\r\n\tjustify-items: center;\r\n\tpadding: 30px;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\t${absoluteCenteredCSS};\r\n`;\r\n\r\nconst MessageLabel = styled.div`\r\n\tfont-size: 15px;\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n`;\r\n\r\nconst SortIconContainer = styled.span`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-left: 5px;\r\n`;\r\n\r\nMyLoans.propTypes = {\r\n\tonSelectLoan: PropTypes.func.isRequired,\r\n\tselectedLoan: PropTypes.object,\r\n\tcollateralPair: PropTypes.object,\r\n\tisLoadingMyLoans: PropTypes.bool,\r\n\tisRefreshingMyLoans: PropTypes.bool,\r\n\tmyLoansLoadingError: PropTypes.string,\r\n\tisLoadedMyLoans: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\twalletInfo: getWalletInfo(state),\r\n\tloans: getMyLoans(state),\r\n\tisLoadingMyLoans: getIsLoadingMyLoans(state),\r\n\tisRefreshingMyLoans: getIsRefreshingMyLoans(state),\r\n\tmyLoansLoadingError: getMyLoansLoadingError(state),\r\n\tisLoadedMyLoans: getIsLoadedMyLoans(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tfetchLoans,\r\n\tshowWalletPopup,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyLoans);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport { CenteredPageLayout, SectionVerticalSpacer } from '../../shared/commonStyles';\r\n\r\nimport CreateLoanCard from './components/LoanCards/CreateLoanCard';\r\nimport CloseLoanCard from './components/LoanCards/CloseLoanCard';\r\n\r\nimport Dashboard from './components/Dashboard';\r\nimport MyLoans from './components/MyLoans';\r\n\r\nimport Spinner from '../../components/Spinner';\r\n\r\nimport { fetchLoansContractInfo, getLoansCollateralPair } from '../../ducks/loans/contractInfo';\r\n\r\nconst Loans = ({ collateralPair, fetchLoansContractInfo }) => {\r\n\tconst [selectedLoan, setSelectedLoan] = useState(null);\r\n\r\n\tconst handleSelectLoan = (loanInfo) => setSelectedLoan(loanInfo);\r\n\tconst clearSelectedLoan = () => {\r\n\t\tsetSelectedLoan(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchLoansContractInfo();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tif (collateralPair == null) {\r\n\t\treturn <Spinner centered={true} size=\"sm\" />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CenteredPageLayout>\r\n\t\t\t<OverviewContainer>\r\n\t\t\t\t<Dashboard collateralPair={collateralPair} />\r\n\t\t\t\t<SectionVerticalSpacer />\r\n\t\t\t\t<MyLoans\r\n\t\t\t\t\tonSelectLoan={handleSelectLoan}\r\n\t\t\t\t\tselectedLoan={selectedLoan}\r\n\t\t\t\t\tcollateralPair={collateralPair}\r\n\t\t\t\t/>\r\n\t\t\t</OverviewContainer>\r\n\t\t\t<LoanCardsContainer>\r\n\t\t\t\t<CreateLoanCard collateralPair={collateralPair} />\r\n\t\t\t\t<SectionVerticalSpacer />\r\n\t\t\t\t<CloseLoanCard\r\n\t\t\t\t\tcollateralPair={collateralPair}\r\n\t\t\t\t\tisInteractive={selectedLoan != null}\r\n\t\t\t\t\tselectedLoan={selectedLoan}\r\n\t\t\t\t\tonLoanClosed={clearSelectedLoan}\r\n\t\t\t\t/>\r\n\t\t\t</LoanCardsContainer>\r\n\t\t</CenteredPageLayout>\r\n\t);\r\n};\r\n\r\nLoans.propTypes = {\r\n\tupdateLoan: PropTypes.func,\r\n\tfetchLoansContractInfo: PropTypes.func,\r\n\tcollateralPair: PropTypes.object,\r\n};\r\n\r\nconst OverviewContainer = styled.div`\r\n\tflex: 1;\r\n\toverflow-x: auto;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`;\r\n\r\nconst LoanCardsContainer = styled.div`\r\n\tmin-width: 389px;\r\n\tmax-width: 400px;\r\n`;\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcollateralPair: getLoansCollateralPair(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tfetchLoansContractInfo,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Loans);\r\n"],"sourceRoot":""}