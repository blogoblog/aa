{"version":3,"sources":["components/Input/NumericInput.tsx","assets/images/question-mark.svg","components/Input/NumericInputWithCurrency.tsx","components/Input/common.ts","assets/images/arrow-hyperlink.svg","assets/images/close.svg","components/DismissableMessage/DismissableMessage.tsx","pages/shared/components/SelectGasMenu/SelectGasMenuBody.tsx","pages/shared/components/SelectGasMenu/SelectGasMenu.tsx","components/NetworkInfo/NetworkInfo.js","pages/Trade/components/ChartCard/Chart.tsx","pages/Trade/components/ChartCard/InfoRow.tsx","pages/Trade/components/ChartCard/PairListPanel/MarketsTable.tsx","assets/images/cog.svg","pages/Trade/components/ChartCard/PairListPanel/common.ts","pages/Trade/components/ChartCard/PairListPanel/SimpleSearch.tsx","assets/images/reverse-arrow.svg","pages/Trade/components/ChartCard/PairListPanel/AdvancedSearch.tsx","pages/Trade/components/ChartCard/PairListPanel/PairListPanel.tsx","pages/Trade/components/ChartCard/ChartCard.tsx","constants/order.ts","utils/errorMessages.js","pages/Trade/components/Common/common.ts","pages/Trade/components/LimitTrade/LimitTypeTradeInputs/LimitTypeTradeInputs.js","pages/Trade/components/StopLimitTrade/StopLimitTypeTradeInputs/StopLimitTypeTradeInputs.js","pages/Trade/components/MarketTrade/MarketTypeTradeInputs/MarketTypeTradeInputs.js","components/TabsComponent/index.js","pages/Trade/components/TradeTypeTabs/TradeTypeTabs.js","pages/Trade/components/MarketTrade/MarketTypeTradeHeader/MarketTypeTradeHeader.js","pages/Trade/components/LimitTrade/LimitTypeTradeHeader/LimitTypeTradeHeader.js","pages/Trade/components/StopLimitTrade/StopLimitTypeTradeHeader/StopLimitTypeTradeHeader.js","pages/Trade/components/CreateOrderCard/CreateOrderCard.js","pages/Trade/components/OrderBookCard/ViewLink.tsx","pages/Trade/components/OrderBookCard/myOrders.js","pages/Trade/components/OrderBookCard/TradeHistory.tsx","pages/Trade/components/OrderBookCard/AllTrades.tsx","pages/Trade/components/OrderBookCard/constants.ts","pages/Trade/components/OrderBookCard/MyTrades.tsx","pages/Trade/components/OrderBookCard/OrderBookCard.tsx","pages/Trade/components/BlurBackground/BlurBackground.tsx","pages/Trade/Trade.tsx"],"names":["NumericInput","styled","Input","attrs","type","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","fill","SvgQuestionMark","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","MaxButton","ButtonPrimary","size","StyledNumericInput","hasMaxButton","css","theme","colors","fontPrimary","Container","InputContainer","surfaceL3","CurrencyContainer","FlexDivCentered","accentL2","StyledCurrencyName","Currency","Name","fontSecondary","StyledMessage","Message","TradeInput","className","label","currencyKey","SYNTHS_MAP","sUSD","onChange","value","inputProps","errorMessage","onMaxButtonClick","showIcon","t","useTranslation","name","SYNTHS_DISPLAY_NAMES","placeholder","e","floating","onClick","Label","div","SvgArrowHyperlink","_ref3","StyledCloseButton","CloseIcon","DismissableMessage","children","onDismiss","rest","mapDispatchToProps","setGasPrice","connector","connect","state","gasInfo","getGasInfo","Content","fontTertiary","accentL1","DefinedGasSelector","needsPadding","gasSpeed","setDropdownIsOpen","gasPrice","useState","customGasPrice","setCustomGasPrice","undefined","setErrorMessage","setGasPriceAndCloseDropdown","updateGasPrice","gasPriceLimit","useMemo","Math","floor","fastestAllowed","useEffect","customGasPriceNum","Number","exceedsGasLimit","max","step","min","slowAllowed","averageAllowed","StyledDropdownPanel","DropdownPanel","media","medium","Z_INDEX","DROPDOWN","GasEditFields","StyledLinkTextSmall","LinkTextSmall","addPadding","SelectGasMenu","gasDropdownIsOpen","setGasDropdownIsOpen","isOpen","handleClose","onHeaderClick","header","formatCurrency","body","TooltipContent","TooltipLabel","DataSmall","TooltipContentRow","NetworkData","NetworkDataLabelFlex","NetworkDataRow","FlexDivRow","TransactionInfo","gasLimit","ethRate","usdRate","amount","exchangeFeeRate","usdValue","exchangeFee","networkFee","getTransactionPrice","formatPercentage","placement","arrow","fetchMyTradesRequest","synthsMap","getAvailableSynthsMap","trades","getMyTrades","isWalletConnected","getIsWalletConnected","ChartContainer","chartBackground","TooltipContentStyle","ItemStyle","LabelStyle","synthPair","base","quote","data","isLoading","period","showTrades","useContext","ThemeContext","synthSign","sign","intervalOrNull","DEFAULT_REQUEST_REFRESH_INTERVAL","useInterval","ratesLength","rates","tradesLength","dataWithTrades","newRates","map","rate","index","trade","find","block","fromCurrencyKey","toCurrencyKey","CustomizedDot","cx","cy","payload","fromAmount","color","getMarketPairByMC","startsWith","green","red","x","y","rx","CustomTooltip","active","innerPayload","format","formatCurrencyWithSign","fromAmountInUSD","Spinner","RechartsResponsiveContainer","margin","top","right","left","bottom","id","x1","y1","x2","y2","offset","stopColor","hyperlink","stopOpacity","tick","fontSize","dataKey","tickFormatter","val","isNumber","PERIOD_IN_HOURS","ONE_DAY","axisLine","tickLine","domain","orientation","stroke","fillOpacity","dot","content","RowContainer","exchangeRates","getRatesExchangeRates","low24H","high24H","change24H","volume24H","getExchangeRatesForCurrencies","prevRate","setPrevRate","rateChange","setRateChange","infoBoxItems","ChangePercent","USD_SIGN","formatCurrencyWithPrecision","MarketsTable","memo","markets","onTableRowClick","StyledTable","palette","columnsDeps","columns","Header","accessor","Cell","cellProps","Pair","baseCurrencyKey","row","original","baseCurrencyAsset","quoteCurrencyKey","quoteCurrencyAsset","isFrozen","Margin","radius","innerRadius","sortable","sortType","cell","noResultsMessage","NoResults","Table","StyledButton","Button","IconButton","ASSET_FILTERS","sBTC","sETH","ButtonsRow","StyledSearchInput","SearchInput","SimpleSearch","marketsAssetFilter","onSearchChange","onAdvancedSearchClick","search","onAssetFilterClick","currencyA","CRYPTO_MAP","ETH","currencyB","BTC","currencyC","CRYPTO_CURRENCY_MAP","LINK","currencyD","asset","isActive","fillRule","clipRule","SearchContainer","AdvancedSearch","onClose","baseCurrencySearch","onBaseCurrencyChange","quoteCurrencySearch","onQuoteCurrencyChange","onSwapCurrencies","tabIndex","autoFocus","PairListContainer","DropdownPanelHeader","FlexDiv","CARD_HEIGHT","setMarketsAssetFilter","setBlurBackgroundIsVisible","getSynthPair","marketsByQuote","getFilteredMarkets","allMarkets","getAllMarkets","getMarketsAssetFilter","setSearch","pairListDropdownIsOpen","setPairListDropdownIsOpen","advancedSearchIsOpen","setAdvancedIsSearchOpen","setBaseCurrencySearch","setQuoteCurrencySearch","filteredMarkets","useDebouncedMemo","baseCurrencySearchLowered","toLowerCase","quoteCurrencySearchLowered","filter","matches","push","includes","every","match","searchLowered","searchParts","replace","split","SEARCH_DEBOUNCE_MS","resetSearch","toggleDropdown","baseSearch","_","navigateToTrade","StyledCardHeader","Card","HeaderContainer","Periods","VerticalDivider","YourTradesWrapper","YourTradesButton","InverseInfoWrap","InverseInfo","QuestionMarkIcon","QuestionMarkStyled","QuestionMark","chartData","setChartData","setShowTrades","setVolume24H","setIsLoading","PERIOD_LABELS_MAP","selectedPeriod","setSelectedPeriod","fetchChartData","a","fetchSynthRateUpdates","rates24HData","ratesData","low","high","change","fetchVolumeData","fetchSynthVolumeInUSD","totalVolume","inverted","price","lowerLimit","entryPoint","upperLimit","Link","isExternal","to","PERIOD_LABELS","i18nLabel","Body","BALANCE_FRACTIONS","TRADE_TYPES","BUY","USER_DENIED","message","ERROR_CODES","Metamask","Ledger","Trezor","Coinbase","error","walletType","code","statusCode","toString","StyledFormInputLabelSmall","FormInputLabelSmall","isInteractive","LimitTypeTradeInputs","NumericInputWithCurrency","limitPrice","handleLimitChange","inputError","limitAmount","handleAmountChange","StopLimitTypeTradeInputs","stopLimit","handleStopLimit","MarketTypeTradeInputs","quoteAmount","isEmptyQuoteBalance","setMaxBalance","balance","quoteBalance","isEmpty","synthsWalletBalances","EMPTY_VALUE","setTradeAllBalance","setBaseAmount","setQuoteAmount","baseAmount","baseBalance","inverseRate","AntTabs","withStyles","root","borderBottom","indicator","backgroundColor","buttonDefault","Tabs","useStyles","makeStyles","demo1","background","paper","AntTab","createStyles","textTransform","minWidth","paddingBottom","fontWeight","typography","fontWeightRegular","buttonHover","opacity","fontWeightMedium","selected","Tab","disableRipple","TabsComponent","values","handleChange","aria-label","TradeTypeTabs","ButtonFilterInner","ReverseArrowStyled","ReverseArrow","MarketTypeTradeHeader","setPair","resetInputAmounts","ButtonRow","LimitTypeTradeHeader","activeOn","transactionType","handleTransactionTypeChange","StopLimitTypeTradeHeader","BalanceFractionRow","ButtonAmount","button","TabsContainer","TxErrorMessage","createTransaction","updateTransaction","walletInfo","getWalletInfo","getSynthsWalletBalances","getEthRate","transactions","getTransactions","currentWallet","feeRate","setFeeRate","reversed","tradeAllBalance","setGasLimit","hasSetGasLimit","setHasSetGasLimit","setInputError","txErrorMessage","setTxErrorMessage","feeReclamationError","setFeeReclamationError","isSubmitting","setIsSubmitting","hasMarketClosed","setHasMarketClosed","tradeType","setTradeType","setLimitPrice","setStopLimit","setLimitAmount","setTransactionType","Exchanger","snxJSConnector","snxJS","feeRateForExchange","bytesFormatter","bigNumberFormatter","console","log","getFeeRateForExchange","SystemStatus","getIsSuspended","Promise","all","synthSuspension","baseResult","quoteResult","suspended","category","CATEGORY_MAP","equities","synth","buttonDisabled","getMaxSecsLeftInWaitingPeriod","useCallback","maxSecsLeftInWaitingPeriod","waitingPeriodInSecs","waitingPeriod","secondsToTime","currency","Synthetix","utils","amountToExchange","balanceBN","parseEther","contract","estimate","exchange","gasEstimate","rectifiedGasLimit","normalizeGasLimit","getGasEstimate","handleSubmit","transactionId","date","Date","toAmount","priceUSD","totalUSD","status","TRANSACTION_STATUS","WAITING","GWEI_UNIT","tx","PENDING","errorMessages","CANCELLED","FAILED","commonProps","transaction","event","newValue","getTradeHeader","style","marginTop","getTradeInputs","fraction","disabled","isWholeBalance","NetworkInfo","ViewLink","ExternalLink","isDisabled","ArrowIcon","ArrowHyperlinkIcon","countDecimals","getPrecision","amountToNumber","removePendingTransaction","networkId","getNetworkId","pendingTransactions","getPendingTransactions","orderedTransactions","orderBy","formatTxTimestamp","Tooltip","LONG_CRYPTO_CURRENCY_DECIMALS","formatCurrencyWithKey","href","getEtherscanTxLink","TradeHistory","isLoaded","showSettled","settledColumns","StyledTooltip","i18nKey","components","Reclaim","Rebate","StyledLink","LINKS","Blog","HowBinaryOptionsWork","interactive","isRebate","rebate","FeeReclaim","SHORT_CRYPTO_CURRENCY_DECIMALS","isSettled","hash","span","tooltip","textAlign","fetchAllTradesRequest","getAllTrades","getIsLoadedAllTrades","getIsLoadingAllTrades","getIsLoadingMyTrades","getIsLoadedMyTrades","StyledCard","StyledCardBody","surfaceL2","tabContent","component","activeTab","setActiveTab","waitForTransaction","latestTransactionHash","matchingTransaction","CONFIRMED","handlePendingTransactions","tab","keyf","keyframes","isBlurred","Blur","BLUR_MODAL","surfaceL1","isVisible","blurBackgroundIsVisible","getBlurBackgroundIsVisible","setSynthPair","TradeContainer","CreateOrderContainer","CREATE_ORDER_CARD_WIDTH","isReady","setIsReady","params","isPairReversed","centered"],"mappings":"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","file":"static/js/11.1d9d6203.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nimport Input from './Input';\r\n\r\nexport const NumericInput = styled(Input).attrs({ type: 'number' })``;\r\n\r\nexport default NumericInput;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.80236 10.6C3.80236 10.7968 3.9666 10.94 4.16339 10.94H5.36106C5.47554 10.94 5.56236 10.8345 5.56236 10.72V10.56C5.56236 10.18 5.62236 9.82 5.76236 9.48C5.90236 9.14 6.12236 8.86 6.44236 8.64L7.36236 8.02001C7.94236 7.64 8.42236 7.16 8.82236 6.6C9.20236 6.04 9.40236 5.34 9.40236 4.54C9.40236 4.04 9.30236 3.54 9.10236 3.06C8.90236 2.58 8.62236 2.14 8.26236 1.76C7.88236 1.4 7.42236 1.1 6.88236 0.860004C6.32236 0.640004 5.70236 0.520004 5.02236 0.520004C4.24236 0.520004 3.58236 0.660005 3.02236 0.900004C2.46236 1.16 2.02236 1.48 1.66236 1.88C1.30236 2.28 1.02236 2.74 0.862356 3.22C0.682356 3.70001 0.602356 4.18 0.602356 4.62C0.602356 4.76679 0.609006 4.90693 0.622307 5.04042C0.655339 5.37194 0.937076 5.60657 1.26771 5.64747L2.21309 5.76442C2.41505 5.78941 2.58261 5.5825 2.56236 5.38C2.52236 5.2 2.52236 5.02001 2.52236 4.84C2.52236 4.52 2.56236 4.22 2.66236 3.9C2.76236 3.6 2.92236 3.32 3.12236 3.08C3.32236 2.84 3.56236 2.66 3.88236 2.5C4.20236 2.36 4.58236 2.28 5.02236 2.28C5.42236 2.28 5.76236 2.36 6.06236 2.48C6.36236 2.60001 6.60236 2.78 6.80236 2.98C7.00236 3.2 7.14236 3.44 7.24236 3.72C7.34236 4 7.40236 4.28 7.40236 4.56C7.40236 4.96 7.30236 5.32 7.12236 5.66C6.94236 6.02 6.68236 6.3 6.34236 6.52L5.46236 7.12C4.86236 7.52 4.42236 7.98 4.18236 8.48C3.92236 9 3.80236 9.58 3.80236 10.24V10.6ZM3.38236 13.8C3.38236 14.16 3.50236 14.48 3.76236 14.72C4.00236 14.98 4.32236 15.1 4.68236 15.1C5.04236 15.1 5.34236 14.98 5.60236 14.72C5.86236 14.48 6.00236 14.16 6.00236 13.8C6.00236 13.44 5.86236 13.14 5.60236 12.88C5.34236 12.62 5.04236 12.48 4.68236 12.48C4.32236 12.48 4.00236 12.62 3.76236 12.88C3.50236 13.14 3.38236 13.44 3.38236 13.8Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgQuestionMark = function SvgQuestionMark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 16,\n    viewBox: \"0 0 10 16\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgQuestionMark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/question-mark.89b8538e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { SYNTHS_MAP, CurrencyKey, SYNTHS_DISPLAY_NAMES } from 'constants/currency';\r\n\r\nimport { FlexDivCentered, Message } from 'shared/commonStyles';\r\n\r\nimport { ButtonPrimary } from '../Button';\r\nimport Currency from '../Currency';\r\n\r\nimport NumericInput from './NumericInput';\r\n\r\nimport { Label, InputContainer } from './common';\r\n\r\ntype NumericInputWithCurrencyProps = {\r\n\tclassName?: string;\r\n\tlabel?: React.ReactNode;\r\n\terrorMessage?: React.ReactNode;\r\n\tcurrencyKey?: CurrencyKey;\r\n\tinputProps?: object;\r\n\tonMaxButtonClick?: () => void;\r\n\tvalue: string | number;\r\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>, value: string) => void;\r\n\tshowIcon?: boolean;\r\n};\r\n\r\nconst TradeInput: FC<NumericInputWithCurrencyProps> = ({\r\n\tclassName,\r\n\tlabel,\r\n\tcurrencyKey = SYNTHS_MAP.sUSD,\r\n\tonChange,\r\n\tvalue,\r\n\tinputProps,\r\n\terrorMessage,\r\n\tonMaxButtonClick,\r\n\tshowIcon = true,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst hasMaxButton = onMaxButtonClick != null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{label != null && <Label>{label}</Label>}\r\n\t\t\t<Container className={className}>\r\n\t\t\t\t<CurrencyContainer className=\"currency-container\">\r\n\t\t\t\t\t<StyledCurrencyName name={SYNTHS_DISPLAY_NAMES[currencyKey]} currencyKey={currencyKey} showIcon={showIcon} />\r\n\t\t\t\t</CurrencyContainer>\r\n\t\t\t\t<StyledNumericInput\r\n\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tplaceholder=\"0\"\r\n\t\t\t\t\tonChange={(e) => onChange(e, e.target.value)}\r\n\t\t\t\t\thasMaxButton={hasMaxButton}\r\n\t\t\t\t\t{...inputProps}\r\n\t\t\t\t/>\r\n\t\t\t\t{errorMessage && (\r\n\t\t\t\t\t<StyledMessage type=\"error\" floating={true} size=\"sm\">\r\n\t\t\t\t\t\t{errorMessage}\r\n\t\t\t\t\t</StyledMessage>\r\n\t\t\t\t)}\r\n\t\t\t\t{hasMaxButton && <MaxButton onClick={onMaxButtonClick}>{t('common.max')}</MaxButton>}\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst MaxButton = styled(ButtonPrimary).attrs({ size: 'sm' })`\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\theight: 25px;\r\n\tline-height: unset;\r\n`;\r\n\r\nconst StyledNumericInput = styled(NumericInput)<{ hasMaxButton?: boolean }>`\r\n\t${(props) =>\r\n\t\tprops.hasMaxButton &&\r\n\t\tcss`\r\n\t\t\tpadding-right: 72px;\r\n\t\t`};\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n`;\r\n\r\nconst Container = styled(InputContainer)`\r\n\tdisplay: flex;\r\n\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n`;\r\n\r\nconst CurrencyContainer = styled(FlexDivCentered)`\r\n\tborder: 1px solid ${(props) => props.theme.colors.accentL2};\r\n\tborder-right: none;\r\n\tpadding: 0 10px;\r\n`;\r\n\r\nconst StyledCurrencyName = styled(Currency.Name)`\r\n\tcolor: ${(props) => props.theme.colors.fontSecondary};\r\n`;\r\n\r\nexport const StyledMessage = styled(Message)`\r\n\ttop: calc(100% + 10px);\r\n`;\r\n\r\nexport default TradeInput;\r\n","import styled from 'styled-components';\r\nimport { FlexDivCentered } from 'shared/commonStyles';\r\n\r\nexport const Label = styled(FlexDivCentered)`\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 6px;\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n\twidth: 100%;\r\n\tposition: relative;\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 0L5.906 2.56919L5.40471 2.54569L5.32638 1.12794L0.462147 6L0 5.53786L4.87207 0.673631L3.45431 0.595302L3.43081 0.0939962L6 0Z\",\n  fill: \"#A08AFF\"\n});\n\nvar SvgArrowHyperlink = function SvgArrowHyperlink(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 6,\n    height: 6,\n    viewBox: \"0 0 6 6\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowHyperlink, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-hyperlink.b5ca1dec.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.0984557 0.573842C-0.0328186 0.442567 -0.0328186 0.22973 0.0984557 0.0984557C0.22973 -0.0328186 0.442567 -0.0328186 0.573842 0.0984557L3.90154 3.42616C4.03282 3.55743 4.03282 3.77027 3.90154 3.90154C3.77027 4.03282 3.55743 4.03282 3.42616 3.90154L0.0984557 0.573842Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.573842 3.90154C0.442568 4.03282 0.22973 4.03282 0.0984562 3.90154C-0.032818 3.77027 -0.032818 3.55743 0.0984562 3.42616L3.42616 0.098456C3.55743 -0.0328182 3.77027 -0.0328182 3.90154 0.098456C4.03282 0.22973 4.03282 0.442568 3.90154 0.573842L0.573842 3.90154Z\",\n  fill: \"white\"\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 8,\n    viewBox: \"0 0 4 4\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.eb3becfb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ReactComponent as CloseIcon } from 'assets/images/close.svg';\r\n\r\nimport { Message, MessageProps } from 'shared/commonStyles';\r\n\r\ntype DismissableMessageProps = MessageProps & {\r\n\tchildren: React.ReactNode;\r\n\tonDismiss: () => void;\r\n};\r\n\r\nexport const DismissableMessage: FC<DismissableMessageProps> = ({\r\n\tchildren,\r\n\tonDismiss,\r\n\t...rest\r\n}) => (\r\n\t<Container>\r\n\t\t<StyledMessage {...rest}>\r\n\t\t\t{children}\r\n\t\t\t<StyledCloseButton onClick={onDismiss} />\r\n\t\t</StyledMessage>\r\n\t</Container>\r\n);\r\n\r\nconst Container = styled.div`\r\n\tposition: relative;\r\n`;\r\n\r\nconst StyledMessage = styled(Message)`\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst StyledCloseButton = styled(CloseIcon)`\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n`;\r\n\r\nexport default DismissableMessage;\r\n","import React, { FC, useEffect, useMemo, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ConnectedProps, connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { setGasPrice, getGasInfo } from 'ducks/transaction';\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport NumericInput from 'components/Input/NumericInput';\r\n\r\nimport { Message } from 'shared/commonStyles';\r\n\r\nconst MAX_GAS_MULTIPLE = 1.5;\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tgasInfo: getGasInfo(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tsetGasPrice,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype GasMenuProps = PropsFromRedux & {\r\n\tsetDropdownIsOpen: (isOpen: boolean) => void;\r\n};\r\n\r\nconst SelectGasMenuBody: FC<GasMenuProps> = ({\r\n\tsetGasPrice,\r\n\tgasInfo: { gasSpeed, gasPrice },\r\n\tsetDropdownIsOpen,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst [customGasPrice, setCustomGasPrice] = useState<string>('');\r\n\tconst [errorMessage, setErrorMessage] = useState<string | undefined>(undefined);\r\n\r\n\tconst setGasPriceAndCloseDropdown = (updateGasPrice: number) => {\r\n\t\tsetGasPrice(updateGasPrice);\r\n\t\tsetDropdownIsOpen(false);\r\n\t};\r\n\r\n\tconst gasPriceLimit = useMemo(() => Math.floor(gasSpeed.fastestAllowed * MAX_GAS_MULTIPLE), [\r\n\t\tgasSpeed.fastestAllowed,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (customGasPrice) {\r\n\t\t\tconst customGasPriceNum = Number(customGasPrice);\r\n\t\t\tconst exceedsGasLimit = customGasPriceNum > gasPriceLimit;\r\n\r\n\t\t\tsetGasPrice(exceedsGasLimit ? gasPriceLimit : Math.max(0, customGasPriceNum));\r\n\t\t\tsetErrorMessage(\r\n\t\t\t\texceedsGasLimit\r\n\t\t\t\t\t? t('common.errors.gas-exceeds-limit', { gasPrice: gasPriceLimit })\r\n\t\t\t\t\t: undefined\r\n\t\t\t);\r\n\t\t}\r\n\t}, [setGasPrice, customGasPrice, gasPriceLimit, t]);\r\n\r\n\treturn (\r\n\t\t<Content>\r\n\t\t\t<StyledNumericInput\r\n\t\t\t\tvalue={customGasPrice}\r\n\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\t\tsetCustomGasPrice(e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder={t('modals.gwei.placeholder')}\r\n\t\t\t\tstep=\"0.1\"\r\n\t\t\t\tmin=\"0\"\r\n\t\t\t/>\r\n\t\t\t{errorMessage && (\r\n\t\t\t\t<StyledMessage type=\"error\" floating={true} size=\"sm\">\r\n\t\t\t\t\t{errorMessage}\r\n\t\t\t\t</StyledMessage>\r\n\t\t\t)}\r\n\t\t\t<DefinedGasSelector\r\n\t\t\t\tneedsPadding={errorMessage !== undefined}\r\n\t\t\t\tonClick={() => setGasPriceAndCloseDropdown(gasSpeed.slowAllowed)}\r\n\t\t\t>\r\n\t\t\t\t<div>{t('modals.gwei.table.safe')}</div>\r\n\t\t\t\t<div>{gasSpeed.slowAllowed}</div>\r\n\t\t\t</DefinedGasSelector>\r\n\t\t\t<DefinedGasSelector onClick={() => setGasPriceAndCloseDropdown(gasSpeed.averageAllowed)}>\r\n\t\t\t\t<div>{t('modals.gwei.table.standard')}</div>\r\n\t\t\t\t<div>{gasSpeed.averageAllowed}</div>\r\n\t\t\t</DefinedGasSelector>\r\n\t\t\t<DefinedGasSelector onClick={() => setGasPriceAndCloseDropdown(gasSpeed.fastestAllowed)}>\r\n\t\t\t\t<div>{t('modals.gwei.table.fast')}</div>\r\n\t\t\t\t<div>{gasSpeed.fastestAllowed}</div>\r\n\t\t\t</DefinedGasSelector>\r\n\t\t</Content>\r\n\t);\r\n};\r\n\r\nconst Content = styled.div`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n`;\r\n\r\nconst StyledNumericInput = styled(NumericInput)`\r\n\twidth: calc(100% - 20px);\r\n\tmargin: 10px 10px 0 10px;\r\n\tfont-size: 12px;\r\n\theight: 36px;\r\n\tcolor: ${({ theme }) => theme.colors.fontTertiary};\r\n\tbackground-color: ${({ theme }) => theme.colors.accentL1};\r\n`;\r\n\r\nconst DefinedGasSelector = styled.div<{ needsPadding?: boolean }>`\r\n\tpadding: 10px;\r\n\tmargin: 10px;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n\t${(props) => props.needsPadding && 'margin-top: 37px'};\r\n\theight: 32px;\r\n\t&:hover {\r\n\t\tcolor: ${({ theme }) => theme.colors.fontPrimary};\r\n\t\tbackground-color: ${({ theme }) => theme.colors.accentL1};\r\n\t\tspan {\r\n\t\t\tbackground-color: ${(props) => props.theme.colors.accentL2};\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst StyledMessage = styled(Message)`\r\n\twidth: calc(100% - 20px);\r\n\tborder-radius: 4px;\r\n\tmargin-top: 6px;\r\n\tmargin-left: 10px;\r\n`;\r\n\r\nexport default connector(SelectGasMenuBody);\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport styled from 'styled-components';\r\n\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { Z_INDEX } from 'constants/ui';\r\nimport DropdownPanel from 'components/DropdownPanel';\r\n\r\nimport { LinkTextSmall } from 'shared/commonStyles';\r\nimport { media } from 'shared/media';\r\n\r\nimport SelectGasMenuBody from './SelectGasMenuBody';\r\n\r\ntype SelectGasMenuProps = {\r\n\tgasPrice: number;\r\n\taddPadding?: boolean;\r\n};\r\n\r\nexport const SelectGasMenu = ({ gasPrice, addPadding = false }: SelectGasMenuProps) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst [gasDropdownIsOpen, setGasDropdownIsOpen] = useState(false);\r\n\tconst setDropdownIsOpen = (isOpen: boolean) => {\r\n\t\tif (!isOpen && !gasDropdownIsOpen) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetGasDropdownIsOpen(isOpen);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<StyledDropdownPanel\r\n\t\t\theight=\"auto\"\r\n\t\t\tisOpen={gasDropdownIsOpen}\r\n\t\t\thandleClose={() => setDropdownIsOpen(false)}\r\n\t\t\twidth=\"170px\"\r\n\t\t\tonHeaderClick={() => setDropdownIsOpen(!gasDropdownIsOpen)}\r\n\t\t\theader={\r\n\t\t\t\t<GasEditFields>\r\n\t\t\t\t\t<div>{formatCurrency(gasPrice) || 0}</div>\r\n\t\t\t\t\t<StyledLinkTextSmall addPadding={addPadding}>\r\n\t\t\t\t\t\t{t('common.actions.edit')}\r\n\t\t\t\t\t</StyledLinkTextSmall>\r\n\t\t\t\t</GasEditFields>\r\n\t\t\t}\r\n\t\t\tbody={<SelectGasMenuBody setDropdownIsOpen={setDropdownIsOpen} />}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst StyledDropdownPanel = styled(DropdownPanel)`\r\n\t${media.medium`\r\n\t\twidth: auto;\r\n\t`}\r\n\t.body {\r\n\t\tborder-width: 1px 1px 1px 1px;\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\tz-index: ${Z_INDEX.DROPDOWN};\r\n`;\r\n\r\nconst GasEditFields = styled.div`\r\n\tdisplay: flex;\r\n\twidth: 75px;\r\n\tjustify-content: space-between;\r\n\tfloat: right;\r\n\tcursor: pointer;\r\n`;\r\n\r\nconst StyledLinkTextSmall = styled(LinkTextSmall)<{ addPadding: boolean }>`\r\n\tpadding-top: ${(props) => (props.addPadding ? '2px' : '0')};\r\n`;\r\n\r\nexport default SelectGasMenu;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { getTransactionPrice } from 'utils/networkUtils';\r\n\r\nimport { FlexDivRow, QuestionMarkIcon } from 'shared/commonStyles';\r\n\r\nimport SelectGasMenu from 'pages/shared/components/SelectGasMenu';\r\n\r\nimport { DataSmall } from 'components/Typography';\r\n\r\nimport { ReactComponent as QuestionMark } from 'assets/images/question-mark.svg';\r\nimport { formatPercentage } from 'utils/formatters';\r\n\r\nexport const TransactionInfo = ({\r\n\tgasPrice,\r\n\tgasLimit,\r\n\tethRate = 0,\r\n\tusdRate = 0,\r\n\tamount = 0,\r\n\texchangeFeeRate = 0,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst usdValue = amount * usdRate;\r\n\tconst exchangeFee = ((amount * exchangeFeeRate) / 100) * usdRate;\r\n\tconst networkFee = getTransactionPrice(gasPrice, gasLimit, ethRate);\r\n\r\n\tconst getTooltipBody = () => (\r\n\t\t<TooltipContent>\r\n\t\t\t<TooltipContentRow>\r\n\t\t\t\t<TooltipLabel>{`${t(\r\n\t\t\t\t\t'trade.trade-card.network-info-tooltip.exchange-fee'\r\n\t\t\t\t)} (${formatPercentage(exchangeFeeRate / 100)})`}</TooltipLabel>\r\n\t\t\t\t<TooltipLabel>${formatCurrency(exchangeFee)}</TooltipLabel>\r\n\t\t\t</TooltipContentRow>\r\n\t\t\t<TooltipContentRow>\r\n\t\t\t\t<TooltipLabel>{t('trade.trade-card.network-info-tooltip.network-fee')}</TooltipLabel>\r\n\t\t\t\t<TooltipLabel>${formatCurrency(networkFee)}</TooltipLabel>\r\n\t\t\t</TooltipContentRow>\r\n\t\t</TooltipContent>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<NetworkDataRow>\r\n\t\t\t\t<NetworkData>{t('trade.trade-card.network-info.usd-value')}</NetworkData>\r\n\t\t\t\t<NetworkData>${formatCurrency(usdValue) || 0}</NetworkData>\r\n\t\t\t</NetworkDataRow>\r\n\t\t\t<NetworkDataRow>\r\n\t\t\t\t<NetworkDataLabelFlex>\r\n\t\t\t\t\t{t('trade.trade-card.network-info.fee')}\r\n\t\t\t\t\t<Tooltip title={getTooltipBody()} placement=\"bottom\" arrow={true}>\r\n\t\t\t\t\t\t<QuestionMarkIcon>\r\n\t\t\t\t\t\t\t<QuestionMark />\r\n\t\t\t\t\t\t</QuestionMarkIcon>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</NetworkDataLabelFlex>\r\n\t\t\t\t<NetworkData>${formatCurrency(exchangeFee + networkFee)}</NetworkData>\r\n\t\t\t</NetworkDataRow>\r\n\t\t\t<NetworkDataRow>\r\n\t\t\t\t<NetworkData>{t('common.gas-price-gwei')}</NetworkData>\r\n\t\t\t\t<NetworkData>\r\n\t\t\t\t\t<SelectGasMenu gasPrice={gasPrice} />\r\n\t\t\t\t</NetworkData>\r\n\t\t\t</NetworkDataRow>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nTransactionInfo.propTypes = {\r\n\tgasPrice: PropTypes.number,\r\n\tgasLimit: PropTypes.number,\r\n\tethRate: PropTypes.number,\r\n};\r\n\r\nconst TooltipContent = styled.div`\r\n\twidth: 200px;\r\n\tpadding: 2px;\r\n\t& > * + * {\r\n\t\tmargin-top: 8px;\r\n\t}\r\n`;\r\n\r\nconst TooltipLabel = styled(DataSmall)`\r\n\ttext-transform: none;\r\n`;\r\n\r\nconst TooltipContentRow = styled.div`\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst Container = styled.div`\r\n\tmargin: 18px 0;\r\n`;\r\n\r\nconst NetworkData = styled(DataSmall)`\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n`;\r\n\r\nconst NetworkDataLabelFlex = styled(NetworkData)`\r\n\tdisplay: flex;\r\n\talign-items: baseline;\r\n`;\r\n\r\nconst NetworkDataRow = styled(FlexDivRow)`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nexport default TransactionInfo;\r\n","import React, { FC, useContext, useEffect, useMemo } from 'react';\r\nimport { ConnectedProps, connect } from 'react-redux';\r\nimport styled, { ThemeContext } from 'styled-components';\r\nimport { AreaChart, XAxis, YAxis, Area, Tooltip } from 'recharts';\r\nimport format from 'date-fns/format';\r\nimport { useTranslation } from 'react-i18next';\r\nimport isNumber from 'lodash/isNumber';\r\nimport find from 'lodash/find';\r\nimport {default as colors} from 'styles/theme/colors';\r\n\r\nimport RechartsResponsiveContainer from 'components/RechartsResponsiveContainer';\r\n\r\nimport { DataLarge } from 'components/Typography';\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport useInterval from 'shared/hooks/useInterval';\r\nimport { formatCurrencyWithSign } from 'utils/formatters';\r\n\r\nimport { RootState } from 'ducks/types';\r\nimport { getIsWalletConnected } from 'ducks/wallet/walletDetails';\r\nimport { fetchMyTradesRequest, getMyTrades } from 'ducks/trades/myTrades';\r\nimport { HistoricalTrade } from 'ducks/trades/types';\r\nimport { SynthPair, getAvailableSynthsMap } from 'ducks/synths';\r\nimport { PeriodLabel, PERIOD_IN_HOURS } from 'constants/period';\r\nimport { DEFAULT_REQUEST_REFRESH_INTERVAL } from 'constants/ui';\r\nimport { getMarketPairByMC } from 'constants/currency';\r\n\r\nimport { ChartData } from './types';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tsynthsMap: getAvailableSynthsMap(state),\r\n\ttrades: getMyTrades(state),\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tfetchMyTradesRequest,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype ChartProps = PropsFromRedux & {\r\n\tdata: ChartData;\r\n\tisLoading: boolean;\r\n\tperiod: PeriodLabel;\r\n\tsynthPair: SynthPair;\r\n\tshowTrades: boolean;\r\n};\r\n\r\nconst Chart: FC<ChartProps> = ({\r\n\tisWalletConnected,\r\n\tfetchMyTradesRequest,\r\n\ttrades,\r\n\tsynthPair: { base, quote },\r\n\tdata,\r\n\tisLoading,\r\n\tperiod,\r\n\tsynthsMap,\r\n\tshowTrades,\r\n}) => {\r\n\tconst { colors } = useContext(ThemeContext);\r\n\tconst { t } = useTranslation();\r\n\tconst synthSign = synthsMap[quote.name] && synthsMap[quote.name].sign;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isWalletConnected && showTrades) {\r\n\t\t\tfetchMyTradesRequest();\r\n\t\t}\r\n\t}, [isWalletConnected, showTrades, fetchMyTradesRequest]);\r\n\r\n\tconst intervalOrNull = isWalletConnected && showTrades ? DEFAULT_REQUEST_REFRESH_INTERVAL : null;\r\n\r\n\tuseInterval(() => {\r\n\t\tfetchMyTradesRequest();\r\n\t}, intervalOrNull);\r\n\r\n\tconst ratesLength = (data?.rates ?? []).length;\r\n\tconst tradesLength = (trades ?? []).length;\r\n\r\n\tconst dataWithTrades = useMemo(() => {\r\n\t\tif (tradesLength > 0 && ratesLength > 0 && isWalletConnected && showTrades) {\r\n\t\t\tconst newRates = data.rates.map((rate, index) => {\r\n\t\t\t\tconst trade = find(\r\n\t\t\t\t\ttrades,\r\n\t\t\t\t\t(trade: HistoricalTrade) =>\r\n\t\t\t\t\t\trate.block < trade.block &&\r\n\t\t\t\t\t\tindex < data.rates.length - 1 &&\r\n\t\t\t\t\t\tdata.rates[index + 1].block > trade.block &&\r\n\t\t\t\t\t\t((base.name === trade.fromCurrencyKey && quote.name === trade.toCurrencyKey) ||\r\n\t\t\t\t\t\t\t(quote.name === trade.fromCurrencyKey && base.name === trade.toCurrencyKey))\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn trade\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t...rate,\r\n\t\t\t\t\t\t\ttrade,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: rate;\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...data,\r\n\t\t\t\trates: newRates,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn data;\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ratesLength, tradesLength, isWalletConnected, showTrades]);\r\n\r\n\tconst CustomizedDot = ({\r\n\t\tcx,\r\n\t\tcy,\r\n\t\tpayload,\r\n\t}: {\r\n\t\tcx: number;\r\n\t\tcy: number;\r\n\t\tpayload: {\r\n\t\t\ttrade?: HistoricalTrade;\r\n\t\t};\r\n\t}) => {\r\n\t\tif ((payload.trade?.fromAmount ?? 0) > 0) {\r\n\t\t\tconst { fromCurrencyKey, toCurrencyKey } = payload.trade as HistoricalTrade;\r\n\t\t\tconst marketPair = getMarketPairByMC(fromCurrencyKey, toCurrencyKey);\r\n\t\t\tconst color = marketPair.base.startsWith(toCurrencyKey) ? colors.green : colors.red;\r\n\t\t\treturn (\r\n\t\t\t\t<svg x={cx - 5} y={cy - 5} width=\"6\" height=\"15\" viewBox=\"0 0 6 15\" fill=\"none\">\r\n\t\t\t\t\t<rect width=\"6\" height=\"15\" rx=\"1\" fill={color} />\r\n\t\t\t\t</svg>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\tconst CustomTooltip = ({\r\n\t\tactive,\r\n\t\tlabel,\r\n\t\tpayload,\r\n\t}: {\r\n\t\tactive: boolean;\r\n\t\tpayload: [\r\n\t\t\t{\r\n\t\t\t\tvalue: number;\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\ttrade?: HistoricalTrade;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t];\r\n\t\tlabel: Date;\r\n\t}) => {\r\n\t\tif (active) {\r\n\t\t\tconst { value, payload: innerPayload } = payload[0];\r\n\t\t\treturn (\r\n\t\t\t\t<TooltipContentStyle>\r\n\t\t\t\t\t<LabelStyle>{format(label, 'do MMM yy | HH:mm')}</LabelStyle>\r\n\t\t\t\t\t<ItemStyle>{`${t('trade.chart-tooltip.price')}: ${formatCurrencyWithSign(\r\n\t\t\t\t\t\tsynthSign,\r\n\t\t\t\t\t\tvalue\r\n\t\t\t\t\t)}`}</ItemStyle>\r\n\t\t\t\t\t{(innerPayload.trade?.fromAmount ?? 0) > 0 ? (\r\n\t\t\t\t\t\t<ItemStyle>{`${t('trade.chart-tooltip.trade-total')}: ${formatCurrencyWithSign(\r\n\t\t\t\t\t\t\tsynthSign,\r\n\t\t\t\t\t\t\t(innerPayload.trade as HistoricalTrade).fromAmountInUSD\r\n\t\t\t\t\t\t)}`}</ItemStyle>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</TooltipContentStyle>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ChartContainer>\r\n\t\t\t{isLoading ? <Spinner size=\"sm\" /> : null}\r\n\t\t\t{!isLoading && data.rates.length === 0 ? (\r\n\t\t\t\t<DataLarge>{t('common.chart.no-data-available')}</DataLarge>\r\n\t\t\t) : null}\r\n\t\t\t{!isLoading && dataWithTrades.rates && dataWithTrades.rates.length > 0 ? (\r\n\t\t\t\t<RechartsResponsiveContainer width=\"100%\" height={250}>\r\n\t\t\t\t\t<AreaChart\r\n\t\t\t\t\t\tdata={dataWithTrades.rates}\r\n\t\t\t\t\t\tmargin={{ top: 0, right: -6, left: 10, bottom: 0 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n\t\t\t\t\t\t\t\t<stop offset=\"5%\" stopColor={colors.hyperlink} stopOpacity={0.5} />\r\n\t\t\t\t\t\t\t\t<stop offset=\"95%\" stopColor={colors.hyperlink} stopOpacity={0} />\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\ttick={{ fontSize: '9px', fill: colors.fontTertiary }}\r\n\t\t\t\t\t\t\tdataKey=\"timestamp\"\r\n\t\t\t\t\t\t\ttickFormatter={(val) => {\r\n\t\t\t\t\t\t\t\tif (!isNumber(val)) {\r\n\t\t\t\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn period.value > PERIOD_IN_HOURS.ONE_DAY\r\n\t\t\t\t\t\t\t\t\t? format(val, 'dd MMM')\r\n\t\t\t\t\t\t\t\t\t: format(val, 'h:mma');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<YAxis\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tdomain={['auto', 'auto']}\r\n\t\t\t\t\t\t\ttickFormatter={(val) => `${formatCurrencyWithSign(synthSign, val)}`}\r\n\t\t\t\t\t\t\ttick={{ fontSize: '9px', fill: colors.fontTertiary }}\r\n\t\t\t\t\t\t\torientation=\"right\"\r\n\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Area\r\n\t\t\t\t\t\t\tdataKey=\"rate\"\r\n\t\t\t\t\t\t\tstroke={colors.hyperlink}\r\n\t\t\t\t\t\t\tfillOpacity={0.5}\r\n\t\t\t\t\t\t\tfill=\"url(#colorUv)\"\r\n\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\tdot={<CustomizedDot />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={\r\n\t\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\t\t<CustomTooltip />\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</AreaChart>\r\n\t\t\t\t</RechartsResponsiveContainer>\r\n\t\t\t) : null}\r\n\t\t</ChartContainer>\r\n\t);\r\n};\r\n\r\nconst ChartContainer = styled.div`\r\n\twidth: 100%;\r\n\theight: 250px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tbackground-color: ${colors.chartBackground};\r\n\talign-items: center;\r\n\t.recharts-yAxis .yAxis,\r\n\t.recharts-xAxis .xAxis {\r\n\t\tdisplay: none;\r\n\t}\r\n`;\r\n\r\nconst TooltipContentStyle = styled.div`\r\n\tpadding: 5px;\r\n\tborder-radius: 4px;\r\n\tbackground-color: ${(props) => props.theme.colors.accentL1};\r\n\ttext-align: center;\r\n`;\r\n\r\nconst ItemStyle = styled.div`\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\tfont-size: 12px;\r\n\tpadding: 3px 5px;\r\n`;\r\n\r\nconst LabelStyle = styled(ItemStyle)`\r\n\ttext-transform: capitalize;\r\n`;\r\n\r\nexport default connector(Chart);\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { getAvailableSynthsMap, SynthDefinitionMap, SynthPair } from 'ducks/synths';\r\nimport { getRatesExchangeRates, Rates } from 'ducks/rates';\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport { InfoBox, InfoBoxLabel, InfoBoxValue } from 'shared/commonStyles';\r\nimport { formatCurrencyWithPrecision, formatCurrencyWithSign } from 'utils/formatters';\r\nimport { getExchangeRatesForCurrencies } from 'utils/rates';\r\n\r\nimport ChangePercent from 'components/ChangePercent';\r\nimport { ChartData } from './types';\r\n\r\ntype StateProps = {\r\n\texchangeRates: Rates | null;\r\n\tsynthsMap: SynthDefinitionMap;\r\n};\r\n\r\ntype Props = {\r\n\tsynthPair: SynthPair;\r\n\tdata: ChartData;\r\n\tvolume24H: number;\r\n};\r\n\r\ntype InfoRowProps = StateProps & Props;\r\n\r\nconst InfoRow: FC<InfoRowProps> = ({\r\n\tdata: { low24H, high24H, change24H },\r\n\tvolume24H,\r\n\texchangeRates,\r\n\tsynthPair: { base, quote },\r\n\tsynthsMap,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst rate = getExchangeRatesForCurrencies(exchangeRates, base.name, quote.name) || 0;\r\n\tconst synthSign = synthsMap[quote.name] && synthsMap[quote.name].sign;\r\n\tconst [prevRate, setPrevRate] = useState<number>(rate);\r\n\tconst [rateChange, setRateChange] = useState<number>(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (rate > 0 && prevRate > 0) {\r\n\t\t\tif (rate > prevRate) {\r\n\t\t\t\tsetRateChange(1);\r\n\t\t\t} else if (rate < prevRate) {\r\n\t\t\t\tsetRateChange(-1);\r\n\t\t\t} else {\r\n\t\t\t\tsetRateChange(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetPrevRate(rate);\r\n\t\t// eslint-disable-next-line\r\n\t}, [rate]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPrevRate(rate);\r\n\t\tsetRateChange(0);\r\n\t\t// eslint-disable-next-line\r\n\t}, [base.name, quote.name]);\r\n\r\n\tconst infoBoxItems = [\r\n\t\t{\r\n\t\t\tlabel: t('trade.chart-card.info-boxes.24h-change'),\r\n\t\t\tvalue: <ChangePercent value={change24H} />,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('trade.chart-card.info-boxes.24h-high'),\r\n\t\t\tvalue: formatCurrencyWithSign(synthSign, high24H),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('trade.chart-card.info-boxes.24h-low'),\r\n\t\t\tvalue: formatCurrencyWithSign(synthSign, low24H),\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('trade.chart-card.info-boxes.24h-volume'),\r\n\t\t\tvalue: formatCurrencyWithSign(USD_SIGN, volume24H),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<RowContainer>\r\n\t\t\t<InfoBox>\r\n\t\t\t\t<InfoBoxLabel>{t('trade.chart-card.info-boxes.price')}</InfoBoxLabel>\r\n\t\t\t\t<InfoBoxValue rateChange={rateChange}>{`${synthSign}${formatCurrencyWithPrecision(\r\n\t\t\t\t\trate\r\n\t\t\t\t)}`}</InfoBoxValue>\r\n\t\t\t</InfoBox>\r\n\t\t\t{infoBoxItems.map(({ label, value }, id) => (\r\n\t\t\t\t<InfoBox key={`chartInfo-${id}`}>\r\n\t\t\t\t\t<InfoBoxLabel>{label}</InfoBoxLabel>\r\n\t\t\t\t\t<InfoBoxValue>{value}</InfoBoxValue>\r\n\t\t\t\t</InfoBox>\r\n\t\t\t))}\r\n\t\t</RowContainer>\r\n\t);\r\n};\r\n\r\nconst RowContainer = styled.div`\r\n\tmargin-top: 2px;\r\n\tdisplay: grid;\r\n\tgrid-column-gap: 12px;\r\n\tgrid-auto-flow: column;\r\n`;\r\n\r\nconst mapStateToProps = (state: RootState): StateProps => ({\r\n\texchangeRates: getRatesExchangeRates(state),\r\n\tsynthsMap: getAvailableSynthsMap(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(InfoRow);\r\n","import React, { memo, FC } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { CellProps, Row } from 'react-table';\r\n\r\nimport { MarketPairs, MarketPair } from 'ducks/markets';\r\nimport { getAvailableSynthsMap } from 'ducks/synths';\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport Currency from 'components/Currency';\r\nimport Table from 'components/Table';\r\nimport { CurrencyCol, RightAlignedCell } from 'components/Table/common';\r\nimport { SynthDefinitionMap } from 'ducks/synths';\r\n\r\nimport { SnowflakeCircle } from 'components/Icons';\r\nimport Margin from 'components/Margin';\r\nimport { SYNTHS_DISPLAY_NAMES } from 'constants/currency';\r\n\r\ntype StateProps = {\r\n\tsynthsMap: SynthDefinitionMap;\r\n};\r\n\r\ntype Props = {\r\n\tmarkets: MarketPairs;\r\n\tonTableRowClick: (row: Row<MarketPair>) => void;\r\n};\r\n\r\ntype MarketsTableProps = StateProps & Props;\r\n\r\nconst MarketsTable: FC<MarketsTableProps> = memo(({ synthsMap, markets, onTableRowClick }) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<StyledTable\r\n\t\t\tpalette=\"primary\"\r\n\t\t\tcolumnsDeps={[synthsMap]}\r\n\t\t\tcolumns={[\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('markets.table.pair-col')}</>,\r\n\t\t\t\t\taccessor: 'pair',\r\n\t\t\t\t\twidth: 150,\r\n\t\t\t\t\tCell: (cellProps: CellProps<MarketPair>) => (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Currency.Pair\r\n\t\t\t\t\t\t\t\tbaseCurrencyKey={cellProps.row.original.baseCurrencyKey}\r\n\t\t\t\t\t\t\t\tbaseCurrencyAsset={SYNTHS_DISPLAY_NAMES[cellProps.row.original.baseCurrencyKey]}\r\n\t\t\t\t\t\t\t\tquoteCurrencyKey={cellProps.row.original.quoteCurrencyKey}\r\n\t\t\t\t\t\t\t\tquoteCurrencyAsset={SYNTHS_DISPLAY_NAMES[cellProps.row.original.quoteCurrencyKey]}\r\n\t\t\t\t\t\t\t\tshowIcon={true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{synthsMap[cellProps.row.original.baseCurrencyKey]?.isFrozen ? (\r\n\t\t\t\t\t\t\t\t<Margin left=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<SnowflakeCircle\r\n\t\t\t\t\t\t\t\t\t\tradius={16}\r\n\t\t\t\t\t\t\t\t\t\tinnerRadius={10}\r\n\t\t\t\t\t\t\t\t\t\tcurrencyKey={cellProps.row.original.baseCurrencyKey}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Margin>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('markets.table.last-price-col')}</>,\r\n\t\t\t\t\taccessor: 'lastPrice',\r\n\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\tCell: (cellProps: CellProps<MarketPair, MarketPair['lastPrice']>) => (\r\n\t\t\t\t\t\t<RightAlignedCell>\r\n\t\t\t\t\t\t\t<CurrencyCol\r\n\t\t\t\t\t\t\t\tsign={synthsMap[cellProps.row.original.quoteCurrencyKey]?.sign}\r\n\t\t\t\t\t\t\t\tvalue={cellProps.cell.value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</RightAlignedCell>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\tdata={markets}\r\n\t\t\tonTableRowClick={onTableRowClick}\r\n\t\t\tnoResultsMessage={\r\n\t\t\t\tmarkets.length === 0 ? (\r\n\t\t\t\t\t<NoResults>{t('trade.chart-card.pair-list.table.no-results')}</NoResults>\r\n\t\t\t\t) : undefined\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n});\r\n\r\nconst NoResults = styled.div`\r\n\tpadding: 18px;\r\n\ttext-align: center;\r\n\tcolor: ${(props) => props.theme.colors.fontPrimary};\r\n\ttext-transform: none;\r\n`;\r\n\r\nconst StyledTable = styled(Table)`\r\n\t.table-row {\r\n\t\twidth: 100%;\r\n\t\t& > :last-child {\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\t}\r\n\t.table-body {\r\n\t\twidth: 300px;\r\n\t\tmargin-bottom: 80px;\r\n\t}\r\n\t.table-body-row {\r\n\t\tmargin: 0 6px 8px 6px;\r\n\t\t& > :first-child {\r\n\t\t\tpadding-left: 12px;\r\n\t\t}\r\n\t\t& > :last-child {\r\n\t\t\tpadding-right: 16px;\r\n\t\t}\r\n\t}\r\n\t.table-body-cell {\r\n\t\theight: 32px;\r\n\t}\r\n`;\r\n\r\nconst mapStateToProps = (state: RootState): StateProps => ({\r\n\tsynthsMap: getAvailableSynthsMap(state),\r\n});\r\n\r\nexport default connect<StateProps, {}, Props, RootState>(mapStateToProps)(MarketsTable);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.863 6.286l-.817-.017a5.397 5.397 0 00-.572-1.32l.589-.589a1.14 1.14 0 000-1.611l-.812-.812a1.138 1.138 0 00-1.611 0l-.583.572a6.038 6.038 0 00-1.343-.555v-.817A1.137 1.137 0 008.577 0H7.423a1.136 1.136 0 00-1.137 1.137l-.017.817a5.628 5.628 0 00-1.32.572l-.589-.589a1.138 1.138 0 00-1.611 0l-.812.812a1.125 1.125 0 00-.217 1.308c.055.113.128.215.217.303l.572.583a6.204 6.204 0 00-.555 1.343h-.817A1.137 1.137 0 000 7.423v1.154a1.137 1.137 0 001.137 1.137l.817.017c.132.463.325.907.572 1.32l-.589.589a1.138 1.138 0 000 1.611l.812.812a1.14 1.14 0 001.611 0l.583-.572c.425.236.875.422 1.343.555v.817A1.136 1.136 0 007.423 16h1.154a1.137 1.137 0 001.137-1.137l.017-.817a5.374 5.374 0 001.32-.572l.589.589a1.14 1.14 0 001.611 0l.812-.812a1.14 1.14 0 000-1.611l-.572-.583a6.04 6.04 0 00.555-1.343h.817A1.136 1.136 0 0016 8.577V7.423a1.137 1.137 0 00-1.137-1.137zM8 10.857a2.857 2.857 0 110-5.713 2.857 2.857 0 010 5.713z\",\n  fill: \"currentColor\"\n});\n\nvar SvgCog = function SvgCog(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCog, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cog.fe1de64e.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\n\r\nimport { Button } from 'components/Button';\r\n\r\nexport const StyledButton = styled(Button).attrs({\r\n\tsize: 'sm',\r\n\tpalette: 'secondary',\r\n})`\r\n\ttext-transform: none;\r\n\tfont-size: 12px;\r\n`;\r\n\r\nexport const IconButton = styled(StyledButton)`\r\n\twidth: 32px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\t> * {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n`;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { SYNTHS_MAP, CurrencyKey, CurrencyKeys, CryptoKey, CryptoKeys, CRYPTO_CURRENCY_MAP, CRYPTO_MAP, SYNTHS_DISPLAY_NAMES } from 'constants/currency';\r\n\r\nimport { ReactComponent as CogIcon } from 'assets/images/cog.svg';\r\n\r\nimport SearchInput from 'components/Input/SearchInput';\r\n\r\nimport { StyledButton, IconButton } from './common';\r\n\r\nconst ASSET_FILTERS: CurrencyKeys = [SYNTHS_MAP.sUSD, SYNTHS_MAP.sBTC, SYNTHS_MAP.sETH];\r\n\r\ntype SimpleSearchProps = {\r\n\tsearch: string;\r\n\tmarketsAssetFilter: CurrencyKey;\r\n\tonSearchChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tonAssetFilterClick: (\r\n\t\te: React.MouseEvent<HTMLButtonElement, MouseEvent>,\r\n\t\tasset: CurrencyKey\r\n\t) => void;\r\n\tonAdvancedSearchClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\r\n};\r\n\r\nconst SimpleSearch: FC<SimpleSearchProps> = ({\r\n\tmarketsAssetFilter,\r\n\tonSearchChange,\r\n\tonAdvancedSearchClick,\r\n\tsearch,\r\n\tonAssetFilterClick,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<StyledSearchInput\r\n\t\t\t\tvalue={search}\r\n\t\t\t\tonChange={onSearchChange}\r\n\t\t\t\tplaceholder={t('common.currency.try-currencyA-currencyB-or-currencyC-currencyD', {\r\n\t\t\t\t\tcurrencyA: CRYPTO_MAP.ETH,\r\n\t\t\t\t\tcurrencyB: CRYPTO_MAP.BTC,\r\n\t\t\t\t\tcurrencyC: CRYPTO_CURRENCY_MAP.LINK,\r\n\t\t\t\t\tcurrencyD: CRYPTO_CURRENCY_MAP.ETH,\r\n\t\t\t\t})}\r\n\t\t\t/>\r\n\t\t\t<ButtonsRow>\r\n\t\t\t\t{ASSET_FILTERS.map((asset) => (\r\n\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\tkey={`button-filter-${asset}`}\r\n\t\t\t\t\t\tisActive={asset === marketsAssetFilter}\r\n\t\t\t\t\t\tonClick={(e) => onAssetFilterClick(e, asset)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{SYNTHS_DISPLAY_NAMES[asset]}\r\n\t\t\t\t\t</StyledButton>\r\n\t\t\t\t))}\r\n\t\t\t\t<IconButton onClick={onAdvancedSearchClick}>\r\n\t\t\t\t\t<CogIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ButtonsRow>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst ButtonsRow = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr 1fr 1fr auto;\r\n\tgrid-gap: 8px;\r\n`;\r\n\r\nconst StyledSearchInput = styled(SearchInput)`\r\n\t.search-input {\r\n\t\t&::placeholder {\r\n\t\t\ttext-transform: none;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport default SimpleSearch;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M3.09928 9.61595L2.71528 9.99995L2.33128 9.61595L0.159057 7.44373C-0.0530195 7.23165 -0.0530195 6.88781 0.159057 6.67573C0.371134 6.46365 0.714978 6.46365 0.927054 6.67573L2.17222 7.9209L2.17222 0.543056C2.17222 0.243135 2.41536 1.05579e-07 2.71528 1.18689e-07C3.0152 1.31799e-07 3.25834 0.243135 3.25834 0.543056L3.25834 7.9209L4.50351 6.67573C4.71558 6.46365 5.05943 6.46365 5.2715 6.67573C5.48358 6.88781 5.48358 7.23165 5.2715 7.44373L3.09928 9.61595Z\",\n  fill: \"#9492C4\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M8.68863 0.383989L8.30464 -1.03717e-05L7.92064 0.383988L5.74841 2.55621C5.53634 2.76829 5.53634 3.11213 5.74841 3.32421C5.96049 3.53629 6.30433 3.53629 6.51641 3.32421L7.76158 2.07904L7.76158 9.45688C7.76158 9.7568 8.00471 9.99994 8.30464 9.99994C8.60456 9.99994 8.84769 9.7568 8.84769 9.45688L8.84769 2.07904L10.0929 3.32421C10.3049 3.53629 10.6488 3.53629 10.8609 3.32421C11.0729 3.11213 11.0729 2.76829 10.8609 2.55621L8.68863 0.383989Z\",\n  fill: \"#9492C4\"\n});\n\nvar SvgReverseArrow = function SvgReverseArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 10,\n    viewBox: \"0 0 12 10\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgReverseArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/reverse-arrow.8b5f62d8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { ReactComponent as CloseCrossIcon } from 'assets/images/close-cross.svg';\r\nimport { ReactComponent as ReverseArrowIcon } from 'assets/images/reverse-arrow.svg';\r\n\r\nimport SearchInput from 'components/Input/SearchInput';\r\n\r\nimport { IconButton } from './common';\r\n\r\ntype AdvancedSearchProps = {\r\n\tbaseCurrencySearch: string;\r\n\tonBaseCurrencyChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tquoteCurrencySearch: string;\r\n\tonQuoteCurrencyChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tonClose: () => void;\r\n\tonSwapCurrencies: () => void;\r\n};\r\n\r\nconst AdvancedSearch: FC<AdvancedSearchProps> = ({\r\n\tonClose,\r\n\tbaseCurrencySearch,\r\n\tonBaseCurrencyChange,\r\n\tquoteCurrencySearch,\r\n\tonQuoteCurrencyChange,\r\n\tonSwapCurrencies,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SearchContainer>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\tvalue={baseCurrencySearch}\r\n\t\t\t\t\tonChange={onBaseCurrencyChange}\r\n\t\t\t\t\tplaceholder={t('common.buy')}\r\n\t\t\t\t\ttabIndex={1}\r\n\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<IconButton onClick={onSwapCurrencies}>\r\n\t\t\t\t\t<ReverseArrowIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</SearchContainer>\r\n\t\t\t<SearchContainer>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\tvalue={quoteCurrencySearch}\r\n\t\t\t\t\tonChange={onQuoteCurrencyChange}\r\n\t\t\t\t\tplaceholder={t('common.sell')}\r\n\t\t\t\t\ttabIndex={2}\r\n\t\t\t\t/>\r\n\t\t\t\t<IconButton onClick={onClose}>\r\n\t\t\t\t\t<CloseCrossIcon width=\"10px\" height=\"10px\" />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</SearchContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst SearchContainer = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-gap: 12px;\r\n\tgrid-template-columns: 1fr auto;\r\n`;\r\n\r\nexport default AdvancedSearch;\r\n","import React, { FC, useState, useEffect } from 'react';\r\n\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { CARD_HEIGHT, SEARCH_DEBOUNCE_MS } from 'constants/ui';\r\nimport { navigateToTrade } from 'constants/routes';\r\n\r\nimport { getSynthPair, SynthPair } from 'ducks/synths';\r\nimport { getMarketsAssetFilter, setMarketsAssetFilter, setBlurBackgroundIsVisible } from 'ducks/ui';\r\nimport { getFilteredMarkets, getAllMarkets, MarketPairs, MarketPair } from 'ducks/markets';\r\n\r\nimport { ReactComponent as MenuArrowDownIcon } from 'assets/images/menu-arrow-down.svg';\r\n\r\nimport useDebouncedMemo from 'shared/hooks/useDebouncedMemo';\r\n\r\nimport DropdownPanel from 'components/DropdownPanel';\r\nimport Currency from 'components/Currency';\r\n\r\nimport { FlexDiv } from 'shared/commonStyles';\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport MarketsTable from './MarketsTable';\r\nimport SimpleSearch from './SimpleSearch';\r\nimport AdvancedSearch from './AdvancedSearch';\r\n\r\nconst DEFAULT_SEARCH = '';\r\n\r\ntype StateProps = {\r\n\tsynthPair: SynthPair;\r\n\tmarketsByQuote: MarketPairs;\r\n\tallMarkets: MarketPairs;\r\n\tmarketsAssetFilter: string;\r\n};\r\n\r\ntype DispatchProps = {\r\n\tsetMarketsAssetFilter: typeof setMarketsAssetFilter;\r\n\tsetBlurBackgroundIsVisible: typeof setBlurBackgroundIsVisible;\r\n};\r\n\r\ntype PairListPanelProps = StateProps & DispatchProps;\r\n\r\nconst PairListPanel: FC<PairListPanelProps> = ({\r\n\tsynthPair: { base, quote },\r\n\tmarketsByQuote,\r\n\tallMarkets,\r\n\tmarketsAssetFilter,\r\n\tsetMarketsAssetFilter,\r\n\tsetBlurBackgroundIsVisible,\r\n}) => {\r\n\tconst [search, setSearch] = useState<string>(DEFAULT_SEARCH);\r\n\tconst [pairListDropdownIsOpen, setPairListDropdownIsOpen] = useState<boolean>(false);\r\n\tconst [advancedSearchIsOpen, setAdvancedIsSearchOpen] = useState<boolean>(false);\r\n\tconst [baseCurrencySearch, setBaseCurrencySearch] = useState<string>(DEFAULT_SEARCH);\r\n\tconst [quoteCurrencySearch, setQuoteCurrencySearch] = useState<string>(DEFAULT_SEARCH);\r\n\r\n\tconst filteredMarkets = useDebouncedMemo(\r\n\t\t() => {\r\n\t\t\tif (!search && !baseCurrencySearch && !quoteCurrencySearch) {\r\n\t\t\t\treturn marketsByQuote;\r\n\t\t\t} else {\r\n\t\t\t\tif (advancedSearchIsOpen) {\r\n\t\t\t\t\tconst baseCurrencySearchLowered = baseCurrencySearch.toLowerCase();\r\n\t\t\t\t\tconst quoteCurrencySearchLowered = quoteCurrencySearch.toLowerCase();\r\n\r\n\t\t\t\t\treturn allMarkets.filter(({ baseCurrencyKey, quoteCurrencyKey }) => {\r\n\t\t\t\t\t\tconst matches = [];\r\n\r\n\t\t\t\t\t\tif (baseCurrencySearch) {\r\n\t\t\t\t\t\t\tmatches.push(baseCurrencyKey.toLowerCase().includes(baseCurrencySearchLowered));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (quoteCurrencySearch) {\r\n\t\t\t\t\t\t\tmatches.push(quoteCurrencyKey.toLowerCase().includes(quoteCurrencySearchLowered));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn matches.every((match) => match);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst searchLowered = search.toLowerCase();\r\n\r\n\t\t\t\t\t// try to match \"eth / btc\", \"eth/btc\", etc...\r\n\t\t\t\t\tconst searchParts = searchLowered.replace(/([^a-z0-9]+)/gi, ' ').split(' ');\r\n\r\n\t\t\t\t\tif (searchParts.length > 1) {\r\n\t\t\t\t\t\treturn allMarkets.filter(\r\n\t\t\t\t\t\t\t({ baseCurrencyKey, quoteCurrencyKey }) =>\r\n\t\t\t\t\t\t\t\tbaseCurrencyKey.toLowerCase().includes(searchParts[0]) &&\r\n\t\t\t\t\t\t\t\tquoteCurrencyKey.toLowerCase().includes(searchParts[searchParts.length - 1])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn allMarkets.filter(\r\n\t\t\t\t\t\t\t({ baseCurrencyKey, quoteCurrencyKey }) =>\r\n\t\t\t\t\t\t\t\tbaseCurrencyKey.toLowerCase().includes(searchLowered) ||\r\n\t\t\t\t\t\t\t\tquoteCurrencyKey.toLowerCase().includes(searchLowered)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[\r\n\t\t\tmarketsByQuote,\r\n\t\t\tallMarkets,\r\n\t\t\tsearch,\r\n\t\t\tadvancedSearchIsOpen,\r\n\t\t\tbaseCurrencySearch,\r\n\t\t\tquoteCurrencySearch,\r\n\t\t],\r\n\t\tSEARCH_DEBOUNCE_MS\r\n\t);\r\n\r\n\tconst resetSearch = () => {\r\n\t\tsetSearch(DEFAULT_SEARCH);\r\n\t\tsetBaseCurrencySearch(DEFAULT_SEARCH);\r\n\t\tsetQuoteCurrencySearch(DEFAULT_SEARCH);\r\n\t};\r\n\r\n\tconst toggleDropdown = (isOpen: boolean) => {\r\n\t\tif (!isOpen && !pairListDropdownIsOpen) return;\r\n\r\n\t\tresetSearch();\r\n\t\tsetAdvancedIsSearchOpen(false);\r\n\t\tsetPairListDropdownIsOpen(isOpen);\r\n\t\tsetBlurBackgroundIsVisible(isOpen);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tsetBlurBackgroundIsVisible(false);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<DropdownPanel\r\n\t\t\tisOpen={pairListDropdownIsOpen}\r\n\t\t\thandleClose={() => toggleDropdown(false)}\r\n\t\t\tonHeaderClick={() => toggleDropdown(!pairListDropdownIsOpen)}\r\n\t\t\twidth=\"300px\"\r\n\t\t\theader={\r\n\t\t\t\t<DropdownPanelHeader>\r\n\t\t\t\t\t<Currency.Pair\r\n\t\t\t\t\t\tbaseCurrencyKey={base.name}\r\n\t\t\t\t\t\tbaseCurrencyAsset={base.asset}\r\n\t\t\t\t\t\tquoteCurrencyKey={quote.name}\r\n\t\t\t\t\t\tquoteCurrencyAsset={quote.asset}\r\n\t\t\t\t\t\tshowIcon={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MenuArrowDownIcon className=\"arrow\" />\r\n\t\t\t\t</DropdownPanelHeader>\r\n\t\t\t}\r\n\t\t\tbody={\r\n\t\t\t\t<PairListContainer>\r\n\t\t\t\t\t<SearchContainer>\r\n\t\t\t\t\t\t{advancedSearchIsOpen ? (\r\n\t\t\t\t\t\t\t<AdvancedSearch\r\n\t\t\t\t\t\t\t\tbaseCurrencySearch={baseCurrencySearch}\r\n\t\t\t\t\t\t\t\tonBaseCurrencyChange={(e) => setBaseCurrencySearch(e.target.value)}\r\n\t\t\t\t\t\t\t\tquoteCurrencySearch={quoteCurrencySearch}\r\n\t\t\t\t\t\t\t\tonQuoteCurrencyChange={(e) => setQuoteCurrencySearch(e.target.value)}\r\n\t\t\t\t\t\t\t\tonSwapCurrencies={() => {\r\n\t\t\t\t\t\t\t\t\tconst baseSearch = baseCurrencySearch;\r\n\t\t\t\t\t\t\t\t\tconst quoteSearch = quoteCurrencySearch;\r\n\r\n\t\t\t\t\t\t\t\t\tsetBaseCurrencySearch(quoteSearch);\r\n\t\t\t\t\t\t\t\t\tsetQuoteCurrencySearch(baseSearch);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\tresetSearch();\r\n\t\t\t\t\t\t\t\t\tsetAdvancedIsSearchOpen(false);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<SimpleSearch\r\n\t\t\t\t\t\t\t\tsearch={search}\r\n\t\t\t\t\t\t\t\tmarketsAssetFilter={marketsAssetFilter}\r\n\t\t\t\t\t\t\t\tonSearchChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\t\t\tonAssetFilterClick={(_, asset) => {\r\n\t\t\t\t\t\t\t\t\tresetSearch();\r\n\t\t\t\t\t\t\t\t\tsetMarketsAssetFilter({ marketsAssetFilter: asset });\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonAdvancedSearchClick={() => {\r\n\t\t\t\t\t\t\t\t\tresetSearch();\r\n\t\t\t\t\t\t\t\t\tsetAdvancedIsSearchOpen(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</SearchContainer>\r\n\t\t\t\t\t<MarketsTable\r\n\t\t\t\t\t\tmarkets={filteredMarkets}\r\n\t\t\t\t\t\tonTableRowClick={(row: { original: MarketPair }) => {\r\n\t\t\t\t\t\t\tnavigateToTrade(row.original.baseCurrencyKey, row.original.quoteCurrencyKey);\r\n\t\t\t\t\t\t\ttoggleDropdown(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PairListContainer>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst PairListContainer = styled.div`\r\n\theight: 100%;\r\n\tpadding-bottom: 12px;\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n\tpadding: 12px;\r\n\tdisplay: grid;\r\n\tgrid-gap: 12px;\r\n`;\r\n\r\nconst DropdownPanelHeader = styled(FlexDiv)`\r\n\twidth: 100%;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\theight: ${CARD_HEIGHT};\r\n\tpadding: 0 12px;\r\n\tbackground-color: ${(props) => props.theme.colors.accentL1};\r\n`;\r\n\r\nconst mapStateToProps = (state: RootState): StateProps => ({\r\n\tsynthPair: getSynthPair(state),\r\n\tmarketsByQuote: getFilteredMarkets(state),\r\n\tallMarkets: getAllMarkets(state),\r\n\tmarketsAssetFilter: getMarketsAssetFilter(state),\r\n});\r\n\r\nconst mapDispatchToProps: DispatchProps = {\r\n\tsetMarketsAssetFilter,\r\n\tsetBlurBackgroundIsVisible,\r\n};\r\n\r\nexport default connect<StateProps, DispatchProps, {}, RootState>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(PairListPanel);\r\n","import React, { FC, useContext, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled, { ThemeContext } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { ReactComponent as QuestionMark } from 'assets/images/question-mark.svg';\r\n\r\nimport Chart from './Chart';\r\nimport InfoRow from './InfoRow';\r\n\r\nimport { getSynthPair, SynthPair } from 'ducks/synths';\r\nimport { getIsWalletConnected } from 'ducks/wallet/walletDetails';\r\n\r\nimport { PERIOD_IN_HOURS, PERIOD_LABELS_MAP, PeriodLabel, PERIOD_LABELS } from 'constants/period';\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { Button } from 'components/Button';\r\nimport PairListPanel from './PairListPanel';\r\n\r\nimport { fetchSynthVolumeInUSD, fetchSynthRateUpdates } from 'services/rates/rates';\r\nimport Card from 'components/Card';\r\nimport Link from 'components/Link';\r\nimport { RootState } from 'ducks/types';\r\nimport { ChartData } from './types';\r\n\r\ntype StateProps = {\r\n\tsynthPair: SynthPair;\r\n\tisWalletConnected: boolean;\r\n};\r\n\r\ntype ChartCardProps = StateProps;\r\n\r\nconst ChartCard: FC<ChartCardProps> = ({ synthPair, isWalletConnected }) => {\r\n\tconst { t } = useTranslation();\r\n\tconst [chartData, setChartData] = useState<ChartData>({\r\n\t\trates: [],\r\n\t\tlow24H: 0,\r\n\t\thigh24H: 0,\r\n\t\tchange24H: 0,\r\n\t});\r\n\tconst { colors } = useContext(ThemeContext);\r\n\tconst [showTrades, setShowTrades] = useState<boolean>(false);\r\n\tconst [volume24H, setVolume24H] = useState<number>(0);\r\n\tconst [isLoading, setIsLoading] = useState<boolean>(true);\r\n\tconst [selectedPeriod, setSelectedPeriod] = useState<PeriodLabel>(PERIOD_LABELS_MAP.ONE_DAY);\r\n\tconst { base, quote } = synthPair;\r\n\r\n\t// TODO: refactor this\r\n\tuseEffect(() => {\r\n\t\tconst fetchChartData = async () => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tlet rates = [];\r\n\t\t\tconst rates24HData = await fetchSynthRateUpdates(\r\n\t\t\t\tbase.name,\r\n\t\t\t\tquote.name,\r\n\t\t\t\tPERIOD_IN_HOURS.ONE_DAY\r\n\t\t\t);\r\n\t\t\tif (rates24HData) {\r\n\t\t\t\trates = rates24HData.rates;\r\n\r\n\t\t\t\t// ONE_DAY period is fetched for the 24h data, so no need to refetch it.\r\n\t\t\t\tif (selectedPeriod.period !== 'ONE_DAY') {\r\n\t\t\t\t\tconst ratesData = await fetchSynthRateUpdates(\r\n\t\t\t\t\t\tbase.name,\r\n\t\t\t\t\t\tquote.name,\r\n\t\t\t\t\t\tselectedPeriod.value\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (ratesData) {\r\n\t\t\t\t\t\trates = ratesData.rates;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetChartData({\r\n\t\t\t\t\trates,\r\n\t\t\t\t\tlow24H: rates24HData.low,\r\n\t\t\t\t\thigh24H: rates24HData.high,\r\n\t\t\t\t\tchange24H: rates24HData.change,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tsetIsLoading(false);\r\n\t\t};\r\n\t\tconst fetchVolumeData = async () => {\r\n\t\t\tconst totalVolume = await fetchSynthVolumeInUSD(\r\n\t\t\t\tbase.name,\r\n\t\t\t\tquote.name,\r\n\t\t\t\tPERIOD_IN_HOURS.ONE_DAY\r\n\t\t\t);\r\n\t\t\tsetVolume24H(totalVolume);\r\n\t\t};\r\n\t\tfetchChartData();\r\n\t\tfetchVolumeData();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedPeriod, base.name, quote.name]);\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<StyledCardHeader>\r\n\t\t\t\t<HeaderContainer>\r\n\t\t\t\t\t<PairListPanel />\r\n\t\t\t\t\t<Periods>\r\n\t\t\t\t\t\t{base.inverted ? (\r\n\t\t\t\t\t\t\t<InverseInfoWrap>\r\n\t\t\t\t\t\t\t\t<InverseInfo>\r\n\t\t\t\t\t\t\t\t\t{t('common.currency.lower-limit-price', {\r\n\t\t\t\t\t\t\t\t\t\tprice: `${USD_SIGN}${base.inverted.lowerLimit}`,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</InverseInfo>\r\n\t\t\t\t\t\t\t\t<InverseInfo>\r\n\t\t\t\t\t\t\t\t\t{t('common.currency.entry-limit-price', {\r\n\t\t\t\t\t\t\t\t\t\tprice: `${USD_SIGN}${base.inverted.entryPoint}`,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</InverseInfo>\r\n\t\t\t\t\t\t\t\t<InverseInfo>\r\n\t\t\t\t\t\t\t\t\t{t('common.currency.upper-limit-price', {\r\n\t\t\t\t\t\t\t\t\t\tprice: `${USD_SIGN}${base.inverted.upperLimit}`,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</InverseInfo>\r\n\t\t\t\t\t\t\t\t<Link isExternal={true} to=\"https://blog.synthetix.io/inverse-synths-are-back/\">\r\n\t\t\t\t\t\t\t\t\t<QuestionMarkIcon>\r\n\t\t\t\t\t\t\t\t\t\t<QuestionMarkStyled />\r\n\t\t\t\t\t\t\t\t\t</QuestionMarkIcon>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<VerticalDivider />\r\n\t\t\t\t\t\t\t</InverseInfoWrap>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{isWalletConnected ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<YourTradesButton\r\n\t\t\t\t\t\t\t\t\tpalette=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tsize=\"xs\"\r\n\t\t\t\t\t\t\t\t\tisActive={showTrades}\r\n\t\t\t\t\t\t\t\t\tonClick={() => setShowTrades(!showTrades)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<YourTradesWrapper>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"4\" height=\"10\" viewBox=\"0 0 4 10\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t\t\t\t<rect width=\"4\" height=\"10\" rx=\"1\" fill={colors.fontTertiary} />\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t{t(t('trade.chart-card.info-boxes.your-trades'))}\r\n\t\t\t\t\t\t\t\t\t</YourTradesWrapper>\r\n\t\t\t\t\t\t\t\t</YourTradesButton>\r\n\t\t\t\t\t\t\t\t<VerticalDivider />{' '}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{PERIOD_LABELS.map((period) => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey={period.value}\r\n\t\t\t\t\t\t\t\tpalette=\"secondary\"\r\n\t\t\t\t\t\t\t\tsize=\"xs\"\r\n\t\t\t\t\t\t\t\tisActive={period.value === selectedPeriod.value}\r\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPeriod(period)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(period.i18nLabel)}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Periods>\r\n\t\t\t\t</HeaderContainer>\r\n\t\t\t</StyledCardHeader>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Chart\r\n\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\tshowTrades={showTrades}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tperiod={selectedPeriod}\r\n\t\t\t\t\tsynthPair={synthPair}\r\n\t\t\t\t/>\r\n\t\t\t\t<InfoRow data={chartData} volume24H={volume24H} synthPair={synthPair} />\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nconst StyledCardHeader = styled(Card.Header)`\r\n\tpadding-left: 0;\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n\twidth: 100%;\r\n\talign-items: center;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst Periods = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-auto-flow: column;\r\n\tgrid-gap: 8px;\r\n`;\r\n\r\nconst VerticalDivider = styled.div`\r\n\tborder-left: 1px solid ${(props) => props.theme.colors.accentL2};\r\n\twidth: 1px;\r\n\tmargin: auto 10px;\r\n\theight: 20px;\r\n`;\r\n\r\nconst YourTradesWrapper = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n`;\r\n\r\nconst YourTradesButton = styled(Button)`\r\n\twidth: 115px;\r\n`;\r\n\r\nconst InverseInfoWrap = styled.div`\r\n\tdisplay: flex;\r\n\tfloat: left;\r\n\twidth: 220px;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst InverseInfo = styled.div`\r\n\tfont-size: 10px;\r\n\tcolor: ${(props) => props.theme.colors.fontTertiary};\r\n`;\r\n\r\nconst QuestionMarkIcon = styled.div`\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tborder-radius: 50%;\r\n\twidth: 12px;\r\n\theight: 12px;\r\n\tbackground-color: ${(props) => props.theme.colors.accentL1};\r\n\tmargin-top: 6px;\r\n\tmargin-right: 15px;\r\n`;\r\n\r\nconst QuestionMarkStyled = styled(QuestionMark)`\r\n\theight: 8px;\r\n\tcolor: ${({ theme }) => theme.colors.fontTertiary};\r\n`;\r\n\r\nconst mapStateToProps = (state: RootState): StateProps => ({\r\n\tsynthPair: getSynthPair(state),\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n});\r\n\r\nexport default connect<StateProps, {}, {}, RootState>(mapStateToProps)(ChartCard);\r\n","export const BALANCE_FRACTIONS = [25, 50, 75, 100];\r\nexport const LIMIT = 'limit';\r\nexport const MARKET = 'market';\r\nexport const STOP_LIMIT = 'stop-limit';\r\nexport const TRADE_TYPES = [LIMIT, MARKET, STOP_LIMIT];\r\nexport const BUY = 'Buy';\r\nexport const SELL = 'Sell';\r\nexport const TRANSACTION_TYPES = [BUY, SELL];\r\n","const USER_DENIED = { type: 'cancelled', message: 'User denied transaction signature' };\r\n\r\nconst ERROR_CODES = {\r\n\tMetamask: {\r\n\t\t'-32603': USER_DENIED,\r\n\t\t'4001': USER_DENIED,\r\n\t},\r\n\tLedger: {\r\n\t\t'27013': USER_DENIED,\r\n\t},\r\n\tTrezor: {},\r\n\tCoinbase: {\r\n\t\t'-32603': USER_DENIED,\r\n\t},\r\n};\r\n\r\nexport default (error, walletType) => {\r\n\tif (!error.code && !error.statusCode) return error;\r\n\tconst code = (error.code || error.statusCode).toString();\r\n\tif (!code || !ERROR_CODES[walletType][code]) {\r\n\t\treturn { message: error.message || 'Error' };\r\n\t}\r\n\treturn { code, ...ERROR_CODES[walletType][code] };\r\n};\r\n","import { FormInputRow, FormInputLabel, FormInputLabelSmall } from 'shared/commonStyles';\r\nimport styled, { ThemeContext } from 'styled-components';\r\nexport const StyledFormInputLabelSmall = styled(FormInputLabelSmall)`\r\n\tcursor: ${(props: any) => (props.isInteractive ? 'pointer' : 'default')};\r\n`;\r\n","import React from 'react';\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { isEmpty } from 'lodash';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\nimport NumericInputWithCurrency from 'components/Input/NumericInputWithCurrency';\r\nimport { FormInputRow, FormInputLabel, FormInputLabelSmall } from 'shared/commonStyles';\r\nimport { StyledFormInputLabelSmall } from '../../Common/common';\r\n\r\nconst LimitTypeTradeInputs = (props) => {\r\n    return (\r\n        <div>\r\n            <FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.quote.name}\r\n\t\t\t\t\tvalue={`${props.limitPrice}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-limit.price-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\t//props.setTradeAllBalance(false);\r\n\t\t\t\t\t\t//props.setBaseAmount(value * props.rate);\r\n\t\t\t\t\t\tprops.handleLimitChange(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terrorMessage={props.inputError}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n\t\t\t<FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.base.name}\r\n\t\t\t\t\tvalue={`${props.limitAmount}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-limit.amount-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\t//props.setTradeAllBalance(false);\r\n\t\t\t\t\t\t//props.setQuoteAmount(value * props.inverseRate);\r\n\t\t\t\t\t\tprops.handleAmountChange(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default LimitTypeTradeInputs;","import React from 'react';\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { isEmpty } from 'lodash';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\nimport NumericInputWithCurrency from 'components/Input/NumericInputWithCurrency';\r\nimport { FormInputRow, FormInputLabel, FormInputLabelSmall } from 'shared/commonStyles';\r\nimport { StyledFormInputLabelSmall } from '../../Common/common';\r\n\r\nconst StopLimitTypeTradeInputs = (props) => {\r\n    return (\r\n        <div>\r\n            <FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.quote.name}\r\n\t\t\t\t\tvalue={`${props.stopLimit}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-stop-limit.stop-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\tprops.handleStopLimit(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terrorMessage={props.inputError}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n\t\t\t<FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.quote.name}\r\n\t\t\t\t\tvalue={`${props.limitPrice}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-stop-limit.limit-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\tprops.handleLimitChange(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n\t\t\t<FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.base.name}\r\n\t\t\t\t\tvalue={`${props.limitAmount}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-stop-limit.amount-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\tprops.handleAmountChange(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default StopLimitTypeTradeInputs;","import React from 'react';\r\nimport { formatCurrency } from 'utils/formatters';\r\nimport { isEmpty } from 'lodash';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\nimport NumericInputWithCurrency from 'components/Input/NumericInputWithCurrency';\r\nimport { FormInputRow, FormInputLabel, FormInputLabelSmall } from 'shared/commonStyles';\r\nimport { StyledFormInputLabelSmall } from '../../Common/common';\r\n\r\nconst MarketTypeTradeInputs = (props) => {\r\n    return (\r\n        <div>\r\n            <FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.quote.name}\r\n\t\t\t\t\tvalue={`${props.quoteAmount}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-market.sell-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t\t<StyledFormInputLabelSmall\r\n\t\t\t\t\t\t\t\tisInteractive={!props.isEmptyQuoteBalance}\r\n\t\t\t\t\t\t\t\tonClick={props.setMaxBalance}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{props.t('common.wallet.balance-currency', {\r\n\t\t\t\t\t\t\t\t\tbalance: props.quoteBalance\r\n\t\t\t\t\t\t\t\t\t\t? formatCurrency(props.quoteBalance.balance)\r\n\t\t\t\t\t\t\t\t\t\t: !isEmpty(props.synthsWalletBalances)\r\n\t\t\t\t\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t\t\t\t\t: EMPTY_VALUE,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</StyledFormInputLabelSmall>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\tprops.setTradeAllBalance(false);\r\n\t\t\t\t\t\tprops.setBaseAmount(value * props.rate);\r\n\t\t\t\t\t\tprops.setQuoteAmount(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terrorMessage={props.inputError}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n\t\t\t<FormInputRow>\r\n\t\t\t\t<NumericInputWithCurrency\r\n\t\t\t\t\tcurrencyKey={props.base.name}\r\n\t\t\t\t\tvalue={`${props.baseAmount}`}\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<FormInputLabel>{props.t('trade.trade-card.trade-type-market.buy-input-label')}:</FormInputLabel>\r\n\t\t\t\t\t\t\t<StyledFormInputLabelSmall\r\n\t\t\t\t\t\t\t\tisInteractive={!props.isEmptyQuoteBalance}\r\n\t\t\t\t\t\t\t\tonClick={props.setMaxBalance}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{props.t('common.wallet.balance-currency', {\r\n\t\t\t\t\t\t\t\t\tbalance: props.baseBalance\r\n\t\t\t\t\t\t\t\t\t\t? formatCurrency(props.baseBalance.balance)\r\n\t\t\t\t\t\t\t\t\t\t: !isEmpty(props.synthsWalletBalances)\r\n\t\t\t\t\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t\t\t\t\t: EMPTY_VALUE,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</StyledFormInputLabelSmall>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonChange={(_, value) => {\r\n\t\t\t\t\t\tprops.setTradeAllBalance(false);\r\n\t\t\t\t\t\tprops.setQuoteAmount(value * props.inverseRate);\r\n\t\t\t\t\t\tprops.setBaseAmount(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormInputRow>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default MarketTypeTradeInputs;","import React from \"react\";\r\nimport { Tab, Tabs } from \"@material-ui/core\";\r\nimport { makeStyles, withStyles, createStyles } from '@material-ui/core/styles';\r\nimport {default as colors} from 'styles/theme/colors';\r\n\r\nconst AntTabs = withStyles({\r\n  root: {\r\n    borderBottom: 'transparent',\r\n  },\r\n  indicator: {\r\n    backgroundColor: colors.buttonDefault,\r\n  },\r\n})(Tabs);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  demo1: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst AntTab = withStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      textTransform: 'upperCase',\r\n      minWidth: 40,\r\n      paddingBottom: 0,\r\n      fontWeight: theme.typography.fontWeightRegular,\r\n      '&:hover': {\r\n        color: colors.buttonHover,\r\n        opacity: 1,\r\n      },\r\n      '&$selected': {\r\n        color: colors.buttonDefault,\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n      },\r\n      '&:focus': {\r\n        color: colors.buttonDefault,\r\n      },\r\n    },\r\n    selected: {},\r\n  }),\r\n)((props) => <Tab disableRipple {...props} />);\r\n\r\nexport const TabsComponent = (props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div >\r\n        <AntTabs value={props.values.indexOf(props.value)}\r\n          onChange={props.handleChange} aria-label=\"Trade type tabs\">\r\n          <AntTab key={props.values[0]} label={props.values[0]} />\r\n          <AntTab key={props.values[1]} label={props.values[1]} />\r\n          <AntTab key={props.values[2]} label={props.values[2]} />\r\n        </AntTabs>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Tabs;\r\n","import React from 'react';\r\nimport { TabsComponent } from 'components/TabsComponent';\r\n\r\n\r\nconst TradeTypeTabs = (props) => {\r\n    return (\r\n        <TabsComponent value={props.value} values={props.values} handleChange={props.handleChange}/>\r\n    );\r\n};\r\n\r\nexport default TradeTypeTabs;","import React from 'react';\r\nimport { HeadingSmall, HeadingMedium,headingH4CSS  } from 'components/Typography';\r\nimport { ButtonFilter } from 'components/Button';\r\nimport { ReactComponent as ReverseArrow } from 'assets/images/reverse-arrow.svg';\r\nimport styled from 'styled-components';\r\n\r\nconst MarketTypeTradeHeader = (props) => {\r\n    return (<HeaderContainer>\r\n        {props.t('trade.trade-card.title')}\r\n        <ButtonFilter\r\n            onClick={() => {\r\n                props.setPair({ quote: props.base, base: props.quote });\r\n                props.resetInputAmounts();\r\n            }}\r\n            height={'22px'}\r\n        >\r\n            <ButtonFilterInner>\r\n                {props.t('trade.trade-card.reverse-button')}\r\n                <ReverseArrowStyled />\r\n            </ButtonFilterInner>\r\n        </ButtonFilter>\r\n        </HeaderContainer>)\r\n}\r\n\r\nconst ButtonFilterInner = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding-bottom: 10px;\r\n`;\r\n\r\nconst ReverseArrowStyled = styled(ReverseArrow)`\r\n\theight: 10px;\r\n\tmargin-left: 8px;\r\n`;\r\n\r\nexport default MarketTypeTradeHeader;","import React from 'react';\r\nimport { ButtonOutlined, ButtonOutlinedSmall } from 'components/Button';\r\nimport styled from 'styled-components';\r\nimport { BUY, SELL } from 'constants/order';\r\n\r\nconst LimitTypeTradeHeader = (props) => {\r\n    return (\r\n    <HeaderContainer>\r\n        <ButtonRow>\r\n            <ButtonOutlinedSmall activeOn={props.transactionType === BUY}\r\n            onClick={() => {props.handleTransactionTypeChange(BUY)}}>Buy</ButtonOutlinedSmall>\r\n            <ButtonOutlinedSmall activeOn={props.transactionType === SELL}\r\n            onClick={() => {props.handleTransactionTypeChange(SELL)}}>Sell</ButtonOutlinedSmall>\r\n        </ButtonRow>\r\n    </HeaderContainer>\r\n    )\r\n}\r\n\r\nconst HeaderContainer = styled.div`\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-column-gap: 8px;\r\n\tgrid-auto-flow: column;\r\n`;\r\n\r\nexport default LimitTypeTradeHeader;","import React from 'react';\r\nimport { ButtonOutlined, ButtonOutlinedSmall } from 'components/Button';\r\nimport styled from 'styled-components';\r\nimport { BUY, SELL } from 'constants/order';\r\n\r\nconst StopLimitTypeTradeHeader = (props) => {\r\n    return (\r\n        <HeaderContainer>\r\n            <ButtonRow>\r\n                <ButtonOutlinedSmall activeOn={props.transactionType === BUY}\r\n                onClick={() => {props.handleTransactionTypeChange(BUY)}}>Buy</ButtonOutlinedSmall>\r\n                <ButtonOutlinedSmall activeOn={props.transactionType === SELL}\r\n                onClick={() => {props.handleTransactionTypeChange(SELL)}}>Sell</ButtonOutlinedSmall>\r\n            </ButtonRow>\r\n        </HeaderContainer>\r\n    )\r\n}\r\n\r\nconst HeaderContainer = styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n    display: grid;\r\n    grid-column-gap: 8px;\r\n    grid-auto-flow: column;\r\n`;\r\n\r\nexport default StopLimitTypeTradeHeader;","import React, { useState, useEffect, useContext, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled, { ThemeContext } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport isEmpty from 'lodash/isEmpty';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\n\r\nimport Card from 'components/Card';\r\n\r\nimport { getWalletInfo } from 'ducks/wallet/walletDetails';\r\nimport { getSynthsWalletBalances } from 'ducks/wallet/walletBalances';\r\nimport { getSynthPair, getAvailableSynthsMap } from 'ducks/synths';\r\nimport { getRatesExchangeRates, getEthRate } from 'ducks/rates';\r\n\r\nimport {\r\n\tgetGasInfo,\r\n\tcreateTransaction,\r\n\tupdateTransaction,\r\n\tgetTransactions,\r\n} from 'ducks/transaction';\r\n\r\nimport { BALANCE_FRACTIONS, BUY } from 'constants/order';\r\nimport { SYNTHS_MAP, CATEGORY_MAP } from 'constants/currency';\r\nimport { TRANSACTION_STATUS } from 'constants/transaction';\r\n\r\nimport { getExchangeRatesForCurrencies } from 'utils/rates';\r\nimport { normalizeGasLimit } from 'utils/transactions';\r\nimport { GWEI_UNIT } from 'utils/networkUtils';\r\nimport errorMessages from 'utils/errorMessages';\r\nimport {\r\n\tformatCurrency,\r\n\tbytesFormatter,\r\n\tbigNumberFormatter,\r\n\tsecondsToTime,\r\n} from 'utils/formatters';\r\n\r\nimport { HeadingSmall, DataSmall } from 'components/Typography';\r\nimport { ButtonFilter, ButtonPrimary } from 'components/Button';\r\nimport DismissableMessage from 'components/DismissableMessage';\r\n\r\nimport { ReactComponent as ReverseArrow } from 'assets/images/reverse-arrow.svg';\r\nimport NetworkInfo from '../../../../components/NetworkInfo/NetworkInfo';\r\nimport LimitTypeTradeInputs from '../LimitTrade/LimitTypeTradeInputs';\r\nimport StopLimitTypeTradeInputs from '../StopLimitTrade/StopLimitTypeTradeInputs';\r\nimport MarketTypeTradeInputs from '../MarketTrade/MarketTypeTradeInputs';\r\nimport TradeTypeTabs from '../TradeTypeTabs';\r\nimport { MARKET, LIMIT, STOP_LIMIT } from 'constants/order';\r\nimport { TRADE_TYPES } from 'constants/order';\r\nimport MarketTypeTradeHeader from '../MarketTrade/MarketTypeTradeHeader';\r\nimport LimitTypeTradeHeader from '../LimitTrade/LimitTypeTradeHeader';\r\nimport StopLimitTypeTradeHeader from '../StopLimitTrade/StopLimitTypeTradeHeader';\r\n\r\nconst INPUT_DEFAULT_VALUE = '';\r\n\r\nconst CreateOrderCard = ({\r\n\tsynthPair,\r\n\twalletInfo: { currentWallet, walletType },\r\n\tsynthsWalletBalances,\r\n\texchangeRates,\r\n\tgasInfo,\r\n\tethRate,\r\n\tcreateTransaction,\r\n\tupdateTransaction,\r\n\ttransactions,\r\n\tsynthsMap,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\tconst { colors } = useContext(ThemeContext);\r\n\tconst [baseAmount, setBaseAmount] = useState(INPUT_DEFAULT_VALUE);\r\n\tconst [quoteAmount, setQuoteAmount] = useState(INPUT_DEFAULT_VALUE);\r\n\tconst [feeRate, setFeeRate] = useState(0);\r\n\tconst [{ base, quote }, setPair] = useState(\r\n\t\tsynthPair.reversed ? { base: synthPair.quote, quote: synthPair.base } : synthPair\r\n\t);\r\n\tconst [tradeAllBalance, setTradeAllBalance] = useState(false);\r\n\tconst [gasLimit, setGasLimit] = useState(gasInfo.gasLimit);\r\n\tconst [hasSetGasLimit, setHasSetGasLimit] = useState(false);\r\n\tconst [inputError, setInputError] = useState(null);\r\n\tconst [txErrorMessage, setTxErrorMessage] = useState(null);\r\n\tconst [feeReclamationError, setFeeReclamationError] = useState(null);\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\tconst [hasMarketClosed, setHasMarketClosed] = useState(false);\r\n\tconst [tradeType, setTradeType] = useState(MARKET);\r\n\tconst [limitPrice, setLimitPrice] = useState(INPUT_DEFAULT_VALUE);\r\n\tconst [stopLimit, setStopLimit] = useState(INPUT_DEFAULT_VALUE);\r\n\tconst [limitAmount, setLimitAmount] = useState(INPUT_DEFAULT_VALUE);\r\n\tconst [transactionType, setTransactionType] = useState(BUY);\r\n\r\n\tconst resetInputAmounts = () => {\r\n\t\tsetBaseAmount(INPUT_DEFAULT_VALUE);\r\n\t\tsetQuoteAmount(INPUT_DEFAULT_VALUE);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (synthPair.reversed) {\r\n\t\t\tsetPair({ base: synthPair.quote, quote: synthPair.base });\r\n\t\t} else {\r\n\t\t\tsetPair(synthPair);\r\n\t\t}\r\n\t\tresetInputAmounts();\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [synthPair.base.name, synthPair.quote.name, synthPair.reversed]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getFeeRateForExchange = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsnxJS: { Exchanger },\r\n\t\t\t\t} = snxJSConnector;\r\n\t\t\t\tconst feeRateForExchange = await Exchanger.feeRateForExchange(\r\n\t\t\t\t\tbytesFormatter(quote.name),\r\n\t\t\t\t\tbytesFormatter(base.name)\r\n\t\t\t\t);\r\n\t\t\t\tsetFeeRate(100 * bigNumberFormatter(feeRateForExchange));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetFeeRateForExchange();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [base.name, quote.name]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst {\r\n\t\t\tsnxJS: { SystemStatus },\r\n\t\t} = snxJSConnector;\r\n\t\tconst getIsSuspended = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst [baseResult, quoteResult] = await Promise.all([\r\n\t\t\t\t\tSystemStatus.synthSuspension(bytesFormatter(synthPair.base.name)),\r\n\t\t\t\t\tSystemStatus.synthSuspension(bytesFormatter(synthPair.quote.name)),\r\n\t\t\t\t]);\r\n\t\t\t\tsetHasMarketClosed(baseResult.suspended || quoteResult.suspended);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif ([base.category, quote.category].includes(CATEGORY_MAP.equities)) {\r\n\t\t\tgetIsSuspended();\r\n\t\t} else {\r\n\t\t\tsetHasMarketClosed(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [base.name, quote.name]);\r\n\r\n\tconst baseBalance =\r\n\t\t(synthsWalletBalances && synthsWalletBalances.find((synth) => synth.name === base.name)) || 0;\r\n\tconst quoteBalance =\r\n\t\t(synthsWalletBalances && synthsWalletBalances.find((synth) => synth.name === quote.name)) || 0;\r\n\r\n\tconst rate = getExchangeRatesForCurrencies(exchangeRates, quote.name, base.name);\r\n\tconst inverseRate = getExchangeRatesForCurrencies(exchangeRates, base.name, quote.name);\r\n\r\n\tconst buttonDisabled =\r\n\t\t!baseAmount || !currentWallet || inputError || isSubmitting || feeReclamationError;\r\n\r\n\tconst isEmptyQuoteBalance = !quoteBalance || !quoteBalance.balance;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetInputError(null);\r\n\t\tif (!quoteAmount || !baseAmount) return;\r\n\t\tif (currentWallet && quoteAmount > quoteBalance.balance) {\r\n\t\t\tsetInputError(t('common.errors.amount-exceeds-balance'));\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [quoteAmount, baseAmount, currentWallet, baseBalance, quoteBalance]);\r\n\r\n\tconst getMaxSecsLeftInWaitingPeriod = useCallback(async () => {\r\n\t\tif (!currentWallet) return;\r\n\t\tconst {\r\n\t\t\tsnxJS: { Exchanger },\r\n\t\t} = snxJSConnector;\r\n\t\ttry {\r\n\t\t\tconst maxSecsLeftInWaitingPeriod = await Exchanger.maxSecsLeftInWaitingPeriod(\r\n\t\t\t\tcurrentWallet,\r\n\t\t\t\tbytesFormatter(quote.name)\r\n\t\t\t);\r\n\t\t\tconst waitingPeriodInSecs = Number(maxSecsLeftInWaitingPeriod);\r\n\t\t\tif (waitingPeriodInSecs) {\r\n\t\t\t\tsetFeeReclamationError(\r\n\t\t\t\t\tt('common.errors.fee-reclamation', {\r\n\t\t\t\t\t\twaitingPeriod: secondsToTime(waitingPeriodInSecs),\r\n\t\t\t\t\t\tcurrency: quote.name,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else setFeeReclamationError(null);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetFeeReclamationError(null);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [quote.name, currentWallet, quoteAmount]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMaxSecsLeftInWaitingPeriod();\r\n\t}, [getMaxSecsLeftInWaitingPeriod]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getGasEstimate = async () => {\r\n\t\t\tconst {\r\n\t\t\t\tsnxJS: { Synthetix },\r\n\t\t\t\tutils,\r\n\t\t\t} = snxJSConnector;\r\n\r\n\t\t\tif (!quoteAmount || !quoteBalance || hasSetGasLimit) return;\r\n\t\t\tconst amountToExchange = tradeAllBalance\r\n\t\t\t\t? quoteBalance.balanceBN\r\n\t\t\t\t: utils.parseEther(quoteAmount.toString());\r\n\r\n\t\t\tconst gasEstimate = await Synthetix.contract.estimate.exchange(\r\n\t\t\t\tbytesFormatter(quote.name),\r\n\t\t\t\tamountToExchange,\r\n\t\t\t\tbytesFormatter(base.name)\r\n\t\t\t);\r\n\t\t\tconst rectifiedGasLimit = normalizeGasLimit(Number(gasEstimate));\r\n\t\t\tsetGasLimit(rectifiedGasLimit);\r\n\t\t\tsetHasSetGasLimit(true);\r\n\t\t};\r\n\t\tgetGasEstimate();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [quoteAmount]);\r\n\r\n\tconst setMaxBalance = () => {\r\n\t\tif (!isEmptyQuoteBalance) {\r\n\t\t\tsetTradeAllBalance(true);\r\n\t\t\tsetBaseAmount(quoteBalance.balance * rate);\r\n\t\t\tsetQuoteAmount(quoteBalance.balance);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tconst {\r\n\t\t\tsnxJS: { Synthetix },\r\n\t\t\tutils,\r\n\t\t} = snxJSConnector;\r\n\t\tconst transactionId = transactions.length;\r\n\t\tsetTxErrorMessage(null);\r\n\t\tsetIsSubmitting(true);\r\n\t\ttry {\r\n\t\t\tconst amountToExchange = tradeAllBalance\r\n\t\t\t\t? quoteBalance.balanceBN\r\n\t\t\t\t: utils.parseEther(quoteAmount.toString());\r\n\r\n\t\t\tconst gasEstimate = await Synthetix.contract.estimate.exchange(\r\n\t\t\t\tbytesFormatter(quote.name),\r\n\t\t\t\tamountToExchange,\r\n\t\t\t\tbytesFormatter(base.name)\r\n\t\t\t);\r\n\t\t\tconst rectifiedGasLimit = normalizeGasLimit(Number(gasEstimate));\r\n\r\n\t\t\tsetGasLimit(rectifiedGasLimit);\r\n\r\n\t\t\tcreateTransaction({\r\n\t\t\t\tid: transactionId,\r\n\t\t\t\tdate: new Date(),\r\n\t\t\t\tbase: base.name,\r\n\t\t\t\tquote: quote.name,\r\n\t\t\t\tfromAmount: quoteAmount,\r\n\t\t\t\ttoAmount: baseAmount,\r\n\t\t\t\tprice:\r\n\t\t\t\t\tbase.name === SYNTHS_MAP.sUSD\r\n\t\t\t\t\t\t? getExchangeRatesForCurrencies(exchangeRates, quote.name, base.name)\r\n\t\t\t\t\t\t: getExchangeRatesForCurrencies(exchangeRates, base.name, quote.name),\r\n\t\t\t\tamount: formatCurrency(baseAmount),\r\n\t\t\t\tpriceUSD:\r\n\t\t\t\t\tbase.name === SYNTHS_MAP.sUSD\r\n\t\t\t\t\t\t? getExchangeRatesForCurrencies(exchangeRates, quote.name, SYNTHS_MAP.sUSD)\r\n\t\t\t\t\t\t: getExchangeRatesForCurrencies(exchangeRates, base.name, SYNTHS_MAP.sUSD),\r\n\t\t\t\ttotalUSD: formatCurrency(\r\n\t\t\t\t\tbaseAmount * getExchangeRatesForCurrencies(exchangeRates, base.name, SYNTHS_MAP.sUSD)\r\n\t\t\t\t),\r\n\t\t\t\tstatus: TRANSACTION_STATUS.WAITING,\r\n\t\t\t});\r\n\r\n\t\t\tconst tx = await Synthetix.exchange(\r\n\t\t\t\tbytesFormatter(quote.name),\r\n\t\t\t\tamountToExchange,\r\n\t\t\t\tbytesFormatter(base.name),\r\n\t\t\t\t{\r\n\t\t\t\t\tgasPrice: gasInfo.gasPrice * GWEI_UNIT,\r\n\t\t\t\t\tgasLimit: rectifiedGasLimit,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tupdateTransaction({ status: TRANSACTION_STATUS.PENDING, ...tx }, transactionId);\r\n\t\t\tsetIsSubmitting(false);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tconst error = errorMessages(e, walletType);\r\n\t\t\tupdateTransaction(\r\n\t\t\t\t{\r\n\t\t\t\t\tstatus:\r\n\t\t\t\t\t\terror.type === 'cancelled' ? TRANSACTION_STATUS.CANCELLED : TRANSACTION_STATUS.FAILED,\r\n\t\t\t\t\terror: error.message,\r\n\t\t\t\t},\r\n\t\t\t\ttransactionId\r\n\t\t\t);\r\n\t\t\tsetTxErrorMessage(t('common.errors.unknown-error-try-again'));\r\n\t\t\tsetIsSubmitting(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTradeTypeChange = (event, newValue) => {\r\n\t\tsetTradeType(TRADE_TYPES[newValue]);\r\n\t}\r\n\r\n\tfunction commonProps() {\r\n\t\treturn {\r\n\t\t\tquote: quote,\r\n\t\t\tquoteAmount: quoteAmount,\r\n\t\t\tisEmptyQuoteBalance: isEmptyQuoteBalance,\r\n\t\t\tsetMaxBalance: setMaxBalance,\r\n\t\t\tquoteBalance: quoteBalance,\r\n\t\t\tsynthsWalletBalances: synthsWalletBalances,\r\n\t\t\tsetTradeAllBalance: setTradeAllBalance,\r\n\t\t\tsetQuoteAmount: setQuoteAmount,\r\n\t\t\tsetBaseAmount: setBaseAmount,\r\n\t\t\tinputError: inputError,\r\n\t\t\tbase: base,\r\n\t\t\tbaseAmount: baseAmount,\r\n\t\t\tbaseBalance: baseBalance,\r\n\t\t\trate: rate,\r\n\t\t\tinverseRate: inverseRate,\r\n\t\t\tt: t,\r\n\t\t};\r\n\t}\r\n\r\n\tconst handleTransactionTypeChange = (transaction) => {\r\n\t\tconsole.log(transaction)\r\n\t\tsetTransactionType(transaction);\r\n\t}\r\n\r\n\tconst getTradeHeader = () => {\r\n\t\tswitch(tradeType){\r\n\t\t\tcase MARKET:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MarketTypeTradeHeader\r\n\t\t\t\t\t\tsetPair={setPair}\r\n\t\t\t\t\t\tresetInputAmounts={resetInputAmounts}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tbase={base}\r\n\t\t\t\t\t\tquote={quote}\r\n\t\t\t\t\t/>);\r\n\t\t\tcase LIMIT:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LimitTypeTradeHeader\r\n\t\t\t\t\t\ttransactionType={transactionType}\r\n\t\t\t\t\t\thandleTransactionTypeChange={handleTransactionTypeChange}\r\n\t\t\t\t\t/>);\r\n\t\t\tcase STOP_LIMIT:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<StopLimitTypeTradeHeader\r\n\t\t\t\t\t\ttransactionType={transactionType}\r\n\t\t\t\t\t\thandleTransactionTypeChange={handleTransactionTypeChange}\r\n\t\t\t\t\t/>);\r\n\t\t\tdefault:\r\n\t\t\t\treturn (<div/>);\r\n\t\t}\r\n\t}\r\n\r\n\tconst getTradeInputs = () => {\r\n\t\tswitch(tradeType){\r\n\t\t\tcase MARKET:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MarketTypeTradeInputs\r\n\t\t\t\t\t\t{...commonProps()}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t/>);\r\n\t\t\tcase LIMIT:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LimitTypeTradeInputs\r\n\t\t\t\t\t\t{...commonProps()}\r\n\t\t\t\t\t\tlimitPrice={limitPrice}\r\n\t\t\t\t\t\thandleLimitChange={setLimitPrice}\r\n\t\t\t\t\t\tlimitAmount={limitAmount}\r\n\t\t\t\t\t\thandleAmountChange={setLimitAmount}\r\n\t\t\t\t\t/>);\r\n\t\t\tcase STOP_LIMIT:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<StopLimitTypeTradeInputs\r\n\t\t\t\t\t\t{...commonProps()}\r\n\t\t\t\t\t\tlimitPrice={limitPrice}\r\n\t\t\t\t\t\thandleLimitChange={setLimitPrice}\r\n\t\t\t\t\t\tlimitAmount={limitAmount}\r\n\t\t\t\t\t\thandleAmountChange={setLimitAmount}\r\n\t\t\t\t\t\tstopLimit={stopLimit}\r\n\t\t\t\t\t\thandleStopLimit={setStopLimit}\r\n\t\t\t\t\t/>);\r\n\t\t\tdefault:\r\n\t\t\t\treturn (<div/>);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<Card.Header>\r\n\t\t\t\t<HeaderContainer>\r\n\t\t\t\t\t<TabsContainer>\r\n\t\t\t\t\t<TradeTypeTabs value={tradeType} values={TRADE_TYPES} handleChange={handleTradeTypeChange}/>\r\n\t\t\t\t\t</TabsContainer>\r\n\t\t\t\t</HeaderContainer>\r\n\t\t\t</Card.Header>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{getTradeHeader()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{marginTop: '12px'}}>\r\n\t\t\t\t\t{getTradeInputs()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<BalanceFractionRow>\r\n\t\t\t\t\t{BALANCE_FRACTIONS.map((fraction, id) => (\r\n\t\t\t\t\t\t<ButtonAmount\r\n\t\t\t\t\t\t\tdisabled={isEmptyQuoteBalance}\r\n\t\t\t\t\t\t\tkey={`button-fraction-${id}`}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst balance = quoteBalance.balance;\r\n\t\t\t\t\t\t\t\tconst isWholeBalance = fraction === 100;\r\n\t\t\t\t\t\t\t\tconst amount = isWholeBalance ? balance : (balance * fraction) / 100;\r\n\t\t\t\t\t\t\t\tsetTradeAllBalance(isWholeBalance);\r\n\t\t\t\t\t\t\t\tsetQuoteAmount(amount);\r\n\t\t\t\t\t\t\t\tsetBaseAmount(amount * rate);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DataSmall color={colors.fontTertiary}>{fraction}%</DataSmall>\r\n\t\t\t\t\t\t</ButtonAmount>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</BalanceFractionRow>\r\n\t\t\t\t<NetworkInfo\r\n\t\t\t\t\tgasPrice={gasInfo.gasPrice}\r\n\t\t\t\t\tgasLimit={gasLimit}\r\n\t\t\t\t\tethRate={ethRate}\r\n\t\t\t\t\texchangeFeeRate={feeRate}\r\n\t\t\t\t\tamount={tradeType === MARKET ? baseAmount : limitAmount}\r\n\t\t\t\t\tusdRate={tradeType === MARKET ? getExchangeRatesForCurrencies(exchangeRates, base.name, SYNTHS_MAP.sUSD) : limitPrice}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{hasMarketClosed ? (\r\n\t\t\t\t\t<ButtonPrimary disabled={true}>\r\n\t\t\t\t\t\t{t('common.systemStatus.suspended-synths.reasons.market-closed')}\r\n\t\t\t\t\t</ButtonPrimary>\r\n\t\t\t\t) : feeReclamationError ? (\r\n\t\t\t\t\t<ButtonPrimary onClick={() => getMaxSecsLeftInWaitingPeriod()}>\r\n\t\t\t\t\t\t{t('trade.trade-card.retry-button')}\r\n\t\t\t\t\t</ButtonPrimary>\r\n\t\t\t\t) : synthsMap[base.name].isFrozen ? (\r\n\t\t\t\t\t<ButtonPrimary disabled={true}>{t('trade.trade-card.frozen-synth')}</ButtonPrimary>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ButtonPrimary disabled={buttonDisabled} onClick={handleSubmit}>\r\n\t\t\t\t\t\t{t('trade.trade-card.confirm-trade-button')}\r\n\t\t\t\t\t</ButtonPrimary>\r\n\t\t\t\t)}\r\n\t\t\t\t{txErrorMessage && (\r\n\t\t\t\t\t<TxErrorMessage\r\n\t\t\t\t\t\tonDismiss={() => setTxErrorMessage(null)}\r\n\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\tfloating={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{txErrorMessage}\r\n\t\t\t\t\t</TxErrorMessage>\r\n\t\t\t\t)}\r\n\t\t\t\t{feeReclamationError && (\r\n\t\t\t\t\t<TxErrorMessage\r\n\t\t\t\t\t\tonDismiss={() => setFeeReclamationError(null)}\r\n\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\tfloating={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{feeReclamationError}\r\n\t\t\t\t\t</TxErrorMessage>\r\n\t\t\t\t)}\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nconst BalanceFractionRow = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-column-gap: 8px;\r\n\tgrid-auto-flow: column;\r\n`;\r\n\r\nconst ButtonAmount = styled.button`\r\n\t&:disabled {\r\n\t\tpointer-events: none;\r\n\t\topacity: 0.5;\r\n\t}\r\n\tborder-radius: 1px;\r\n\tcursor: pointer;\r\n\tflex: 1;\r\n\tborder: none;\r\n\tbackground-color: ${(props) => props.theme.colors.accentL2};\r\n\theight: 24px;\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n`;\r\n\r\nconst TabsContainer = styled.div`\r\n\tmargin-bottom: 7px;\r\n`;\r\n\r\nexport const TxErrorMessage = styled(DismissableMessage)`\r\n\tmargin-top: 8px;\r\n`;\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsynthPair: getSynthPair(state),\r\n\t\twalletInfo: getWalletInfo(state),\r\n\t\tsynthsWalletBalances: getSynthsWalletBalances(state),\r\n\t\texchangeRates: getRatesExchangeRates(state),\r\n\t\tgasInfo: getGasInfo(state),\r\n\t\tethRate: getEthRate(state),\r\n\t\ttransactions: getTransactions(state),\r\n\t\tsynthsMap: getAvailableSynthsMap(state),\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tcreateTransaction,\r\n\tupdateTransaction,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateOrderCard);\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { ExternalLink } from 'shared/commonStyles';\r\nimport { ReactComponent as ArrowHyperlinkIcon } from 'assets/images/arrow-hyperlink.svg';\r\n\r\nconst ViewLink = styled(ExternalLink)<{ isDisabled?: boolean }>`\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n\tbox-sizing: border-box;\r\n\tflex: 150 0 auto;\r\n\tmin-width: 0px;\r\n\twidth: 150px;\r\n\tfont-size: 13px;\r\n\t${(props) =>\r\n\t\tprops.isDisabled &&\r\n\t\tcss`\r\n\t\t\topacity: 0.3;\r\n\t\t\tpointer-events: none;\r\n\t\t`}\r\n`;\r\n\r\nexport const ArrowIcon = styled(ArrowHyperlinkIcon)`\r\n\tmargin-left: 5px;\r\n`;\r\n\r\nexport default ViewLink;\r\n","import React, { useMemo } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport orderBy from 'lodash/orderBy';\r\n\r\nimport {\r\n\tgetPendingTransactions,\r\n\tgetTransactions,\r\n\tremovePendingTransaction,\r\n\tupdateTransaction,\r\n} from 'ducks/transaction';\r\nimport { getWalletInfo, getNetworkId } from 'ducks/wallet/walletDetails';\r\n\r\nimport {\r\n\tformatCurrency,\r\n\tformatTxTimestamp,\r\n\tLONG_CRYPTO_CURRENCY_DECIMALS,\r\n\tformatCurrencyWithSign,\r\n\tformatCurrencyWithKey,\r\n} from 'utils/formatters';\r\nimport { getEtherscanTxLink } from 'utils/explorers';\r\n\r\nimport Table from 'components/Table';\r\n\r\nimport Currency from 'components/Currency';\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { TableNoResults } from 'shared/commonStyles';\r\n\r\nimport ViewLink, { ArrowIcon } from './ViewLink';\r\n\r\nconst countDecimals = (value) => {\r\n\tif (Math.floor(value) === value) return 0;\r\n\treturn value.toString().split('.')[1].length || 0;\r\n};\r\n\r\nconst getPrecision = (amount) => {\r\n\tconst amountToNumber = Number(amount);\r\n\tif (amountToNumber >= 1000 || countDecimals(amountToNumber) === 0) return 0;\r\n\tif (countDecimals(amountToNumber) <= 2) return 2;\r\n\treturn 4;\r\n};\r\n\r\nconst MyOrders = ({ transactions, networkId, synthsMap }) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst orderedTransactions = useMemo(() => orderBy(transactions, 'id', 'desc'), [transactions]);\r\n\r\n\treturn (\r\n\t\t<StyledTable\r\n\t\t\tdata={orderedTransactions}\r\n\t\t\tpalette=\"striped\"\r\n\t\t\tcolumns={[\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.date')}</>,\r\n\t\t\t\t\taccessor: 'date',\r\n\t\t\t\t\tCell: (cellProps) => formatTxTimestamp(cellProps.cell.value),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.pair')}</>,\r\n\t\t\t\t\taccessor: 'pair',\r\n\t\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t\t<Currency.Pair\r\n\t\t\t\t\t\t\tbaseCurrencyKey={cellProps.row.original.base}\r\n\t\t\t\t\t\t\tquoteCurrencyKey={cellProps.row.original.quote}\r\n\t\t\t\t\t\t\tshowIcon={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.buying')}</>,\r\n\t\t\t\t\taccessor: 'toAmount',\r\n\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={formatCurrency(cellProps.cell.value, LONG_CRYPTO_CURRENCY_DECIMALS)}\r\n\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{formatCurrencyWithKey(\r\n\t\t\t\t\t\t\t\t\tcellProps.row.original.base,\r\n\t\t\t\t\t\t\t\t\tcellProps.cell.value,\r\n\t\t\t\t\t\t\t\t\tgetPrecision(cellProps.cell.value)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.selling')}</>,\r\n\t\t\t\t\taccessor: 'fromAmount',\r\n\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={formatCurrency(cellProps.cell.value, LONG_CRYPTO_CURRENCY_DECIMALS)}\r\n\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{formatCurrencyWithKey(\r\n\t\t\t\t\t\t\t\t\tcellProps.row.original.quote,\r\n\t\t\t\t\t\t\t\t\tcellProps.cell.value,\r\n\t\t\t\t\t\t\t\t\tgetPrecision(cellProps.cell.value)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.price')}</>,\r\n\t\t\t\t\taccessor: 'priceUSD',\r\n\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={formatCurrency(cellProps.cell.value, LONG_CRYPTO_CURRENCY_DECIMALS)}\r\n\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{formatCurrencyWithSign(\r\n\t\t\t\t\t\t\t\t\tUSD_SIGN,\r\n\t\t\t\t\t\t\t\t\tcellProps.cell.value,\r\n\t\t\t\t\t\t\t\t\tgetPrecision(cellProps.cell.value)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.total')}</>,\r\n\t\t\t\t\taccessor: 'totalUSD',\r\n\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\tCell: (cellProps) => <span>${cellProps.cell.value}</span>,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.status')}</>,\r\n\t\t\t\t\taccessor: 'status',\r\n\t\t\t\t\tCell: (cellProps) => t(`common.tx-status.${cellProps.cell.value}`),\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tHeader: <>{t('trade.order-book-card.table.verify')}</>,\r\n\t\t\t\t\taccessor: 'hash',\r\n\t\t\t\t\tCell: (cellProps) => (\r\n\t\t\t\t\t\t<ViewLink\r\n\t\t\t\t\t\t\tisDisabled={!cellProps.cell.value}\r\n\t\t\t\t\t\t\thref={getEtherscanTxLink(networkId, cellProps.cell.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('common.transaction.view')}\r\n\t\t\t\t\t\t\t<ArrowIcon width=\"8\" height=\"8\" />\r\n\t\t\t\t\t\t</ViewLink>\r\n\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\tnoResultsMessage={\r\n\t\t\t\torderedTransactions.length === 0 ? (\r\n\t\t\t\t\t<TableNoResults>{t('trade.order-book-card.table.no-results')}</TableNoResults>\r\n\t\t\t\t) : undefined\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst StyledTable = styled(Table)`\r\n\t.table-body-cell {\r\n\t\theight: 38px;\r\n\t}\r\n`;\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tnetworkId: getNetworkId(state),\r\n\ttransactions: getTransactions(state),\r\n\tpendingTransactions: getPendingTransactions(state),\r\n\twalletInfo: getWalletInfo(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tupdateTransaction,\r\n\tremovePendingTransaction,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyOrders);\r\n","import React, { memo, FC } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { useTranslation, Trans } from 'react-i18next';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { CellProps } from 'react-table';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nimport { getNetworkId } from 'ducks/wallet/walletDetails';\r\n\r\nimport { ReactComponent as QuestionMark } from 'assets/images/question-mark.svg';\r\n\r\nimport Table from 'components/Table';\r\nimport Currency from 'components/Currency';\r\nimport Link from 'components/Link';\r\n\r\nimport { USD_SIGN } from 'constants/currency';\r\n\r\nimport { RootState } from 'ducks/types';\r\nimport { HistoricalTrade, HistoricalTrades } from 'ducks/trades/types';\r\n\r\nimport { TableNoResults, QuestionMarkIcon, FlexDivCentered } from 'shared/commonStyles';\r\nimport ViewLink, { ArrowIcon } from './ViewLink';\r\n\r\nimport { getEtherscanTxLink } from 'utils/explorers';\r\nimport {\r\n\tLONG_CRYPTO_CURRENCY_DECIMALS,\r\n\tSHORT_CRYPTO_CURRENCY_DECIMALS,\r\n\tformatCurrencyWithKey,\r\n\tformatTxTimestamp,\r\n\tformatCurrency,\r\n\tformatCurrencyWithSign,\r\n} from 'utils/formatters';\r\nimport { EMPTY_VALUE } from 'constants/placeholder';\r\nimport { LINKS } from 'constants/links';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tnetworkId: getNetworkId(state),\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype TradeHistoryProps = PropsFromRedux & {\r\n\ttrades: HistoricalTrades;\r\n\tisLoading: boolean;\r\n\tisLoaded: boolean;\r\n\tshowSettled?: boolean;\r\n};\r\n\r\nconst TradeHistory: FC<TradeHistoryProps> = memo(\r\n\t({ trades, isLoading, isLoaded, networkId, showSettled }) => {\r\n\t\tconst { t } = useTranslation();\r\n\r\n\t\tconst settledColumns = showSettled\r\n\t\t\t? [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: (\r\n\t\t\t\t\t\t\t<FlexDivCentered>\r\n\t\t\t\t\t\t\t\t{t('assets.exchanges.table.fee-reclaim-col')}\r\n\t\t\t\t\t\t\t\t<StyledTooltip\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<Trans\r\n\t\t\t\t\t\t\t\t\t\t\t\ti18nKey=\"assets.exchanges.table.fee-reclaim-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcomponents={[<Reclaim />, <Rebate />]}\r\n\t\t\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledLink isExternal={true} to={LINKS.Blog.HowBinaryOptionsWork}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('common.more-info')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ArrowIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</StyledLink>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tinteractive={true}\r\n\t\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t\t\tarrow={true}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<QuestionMarkIcon>\r\n\t\t\t\t\t\t\t\t\t\t<QuestionMark />\r\n\t\t\t\t\t\t\t\t\t</QuestionMarkIcon>\r\n\t\t\t\t\t\t\t\t</StyledTooltip>\r\n\t\t\t\t\t\t\t</FlexDivCentered>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\taccessor: 'isSettled',\r\n\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade, HistoricalTrade['isSettled']>) => {\r\n\t\t\t\t\t\t\tconst { toCurrencyKey, amount, rebate } = cellProps.row.original;\r\n\t\t\t\t\t\t\tconst isRebate = rebate > 0;\r\n\r\n\t\t\t\t\t\t\treturn cellProps.cell.value ? (\r\n\t\t\t\t\t\t\t\tamount === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<span>{t('common.not-available')}</span>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<FeeReclaim isRebate={isRebate}>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={formatCurrency(amount, LONG_CRYPTO_CURRENCY_DECIMALS)}\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isRebate ? '+' : '-'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrencyWithKey(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoCurrencyKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSHORT_CRYPTO_CURRENCY_DECIMALS\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</FeeReclaim>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span>{EMPTY_VALUE}</span>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.settled-price-col')}</>,\r\n\t\t\t\t\t\taccessor: 'settledPrice',\r\n\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade, HistoricalTrade['settledPrice']>) => (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{cellProps.row.original.isSettled\r\n\t\t\t\t\t\t\t\t\t? formatCurrencyWithSign(USD_SIGN, cellProps.cell.value)\r\n\t\t\t\t\t\t\t\t\t: EMPTY_VALUE}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t  ]\r\n\t\t\t: [];\r\n\r\n\t\treturn (\r\n\t\t\t<StyledTable\r\n\t\t\t\tpalette=\"striped\"\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.date-time-col')}</>,\r\n\t\t\t\t\t\taccessor: 'timestamp',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade, HistoricalTrade['timestamp']>) =>\r\n\t\t\t\t\t\t\tformatTxTimestamp(cellProps.cell.value),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.pair-col')}</>,\r\n\t\t\t\t\t\tid: 'trade-pair',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade>) => {\r\n\t\t\t\t\t\t\tconst { fromCurrencyKey, toCurrencyKey } = cellProps.row.original;\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Currency.Pair baseCurrencyKey={fromCurrencyKey} quoteCurrencyKey={toCurrencyKey} />\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.buying-col')}</>,\r\n\t\t\t\t\t\taccessor: 'toAmount',\r\n\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade>) => (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\ttitle={formatCurrency(\r\n\t\t\t\t\t\t\t\t\tcellProps.row.original.toAmount,\r\n\t\t\t\t\t\t\t\t\tLONG_CRYPTO_CURRENCY_DECIMALS\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithKey(\r\n\t\t\t\t\t\t\t\t\t\tcellProps.row.original.toCurrencyKey,\r\n\t\t\t\t\t\t\t\t\t\tcellProps.row.original.toAmount,\r\n\t\t\t\t\t\t\t\t\t\tSHORT_CRYPTO_CURRENCY_DECIMALS\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.selling-col')}</>,\r\n\t\t\t\t\t\taccessor: 'fromAmount',\r\n\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade>) => (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\ttitle={formatCurrency(\r\n\t\t\t\t\t\t\t\t\tcellProps.row.original.fromAmount,\r\n\t\t\t\t\t\t\t\t\tLONG_CRYPTO_CURRENCY_DECIMALS\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{formatCurrencyWithKey(\r\n\t\t\t\t\t\t\t\t\t\tcellProps.row.original.fromCurrencyKey,\r\n\t\t\t\t\t\t\t\t\t\tcellProps.row.original.fromAmount,\r\n\t\t\t\t\t\t\t\t\t\tSHORT_CRYPTO_CURRENCY_DECIMALS\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.price-col')}</>,\r\n\t\t\t\t\t\taccessor: 'price',\r\n\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade, HistoricalTrade['price']>) => (\r\n\t\t\t\t\t\t\t<span>{formatCurrencyWithSign(USD_SIGN, cellProps.cell.value)}</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.total-col')}</>,\r\n\t\t\t\t\t\taccessor: 'amount',\r\n\t\t\t\t\t\tsortType: 'basic',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade, HistoricalTrade['amount']>) => (\r\n\t\t\t\t\t\t\t<span>{formatCurrencyWithSign(USD_SIGN, cellProps.cell.value)}</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...settledColumns,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.status-col')}</>,\r\n\t\t\t\t\t\taccessor: 'status',\r\n\t\t\t\t\t\tCell: () => t('common.tx-status.complete'),\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tHeader: <>{t('assets.exchanges.table.verify-col')}</>,\r\n\t\t\t\t\t\taccessor: 'actions',\r\n\t\t\t\t\t\tCell: (cellProps: CellProps<HistoricalTrade>) => (\r\n\t\t\t\t\t\t\t<ViewLink\r\n\t\t\t\t\t\t\t\tisDisabled={!cellProps.row.original.hash}\r\n\t\t\t\t\t\t\t\thref={getEtherscanTxLink(networkId, cellProps.row.original.hash)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('common.transaction.view')}\r\n\t\t\t\t\t\t\t\t<ArrowIcon width=\"8\" height=\"8\" />\r\n\t\t\t\t\t\t\t</ViewLink>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tdata={trades}\r\n\t\t\t\tisLoading={isLoading && !isLoaded}\r\n\t\t\t\tnoResultsMessage={\r\n\t\t\t\t\tisLoaded && trades.length === 0 ? (\r\n\t\t\t\t\t\t<TableNoResults>{t('assets.exchanges.table.no-results')}</TableNoResults>\r\n\t\t\t\t\t) : undefined\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nconst StyledTable = styled(Table)`\r\n\tposition: initial;\r\n\r\n\t.table-body-cell {\r\n\t\theight: 38px;\r\n\t}\r\n`;\r\n\r\nconst Reclaim = styled.span`\r\n\tcolor: ${(props) => props.theme.colors.red};\r\n`;\r\n\r\nconst Rebate = styled.span`\r\n\tcolor: ${(props) => props.theme.colors.green};\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n\tcolor: ${(props) => props.theme.colors.hyperlink};\r\n`;\r\n\r\nconst FeeReclaim = styled.span<{ isRebate: boolean }>`\r\n\tcolor: ${(props) => (props.isRebate ? props.theme.colors.green : props.theme.colors.red)};\r\n`;\r\n\r\nconst StyledTooltip = withStyles({\r\n\ttooltip: {\r\n\t\twidth: '335px',\r\n\t\ttextAlign: 'center',\r\n\t},\r\n})(Tooltip);\r\n\r\nexport default connector(TradeHistory);\r\n","import React, { FC, useEffect } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport {\r\n\tfetchAllTradesRequest,\r\n\tgetAllTrades,\r\n\tgetIsLoadingAllTrades,\r\n\tgetIsLoadedAllTrades,\r\n} from 'ducks/trades/allTrades';\r\n\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport useInterval from 'shared/hooks/useInterval';\r\n\r\nimport TradeHistory from './TradeHistory';\r\n\r\nimport { REFRESH_INTERVAL } from './constants';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\ttrades: getAllTrades(state),\r\n\tisLoaded: getIsLoadedAllTrades(state),\r\n\tisLoading: getIsLoadingAllTrades(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tfetchAllTradesRequest,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype AllTradesProps = PropsFromRedux;\r\n\r\nconst AllTrades: FC<AllTradesProps> = ({ fetchAllTradesRequest, trades, isLoading, isLoaded }) => {\r\n\tuseEffect(() => {\r\n\t\tfetchAllTradesRequest();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseInterval(() => {\r\n\t\tfetchAllTradesRequest();\r\n\t}, REFRESH_INTERVAL);\r\n\r\n\treturn <TradeHistory trades={trades} isLoading={isLoading} isLoaded={isLoaded} />;\r\n};\r\n\r\nexport default connector(AllTrades);\r\n","export const REFRESH_INTERVAL = 10000;\r\n","import React, { FC, useEffect } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport {\r\n\tfetchMyTradesRequest,\r\n\tgetMyTrades,\r\n\tgetIsLoadingMyTrades,\r\n\tgetIsLoadedMyTrades,\r\n} from 'ducks/trades/myTrades';\r\n\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport useInterval from 'shared/hooks/useInterval';\r\n\r\nimport TradeHistory from './TradeHistory';\r\n\r\nimport { REFRESH_INTERVAL } from './constants';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\ttrades: getMyTrades(state),\r\n\tisLoading: getIsLoadingMyTrades(state),\r\n\tisLoaded: getIsLoadedMyTrades(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tfetchMyTradesRequest,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype MyTradesProps = PropsFromRedux;\r\n\r\nconst MyTrades: FC<MyTradesProps> = ({ fetchMyTradesRequest, trades, isLoading, isLoaded }) => {\r\n\tuseEffect(() => {\r\n\t\tfetchMyTradesRequest();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseInterval(() => {\r\n\t\tfetchMyTradesRequest();\r\n\t}, REFRESH_INTERVAL);\r\n\r\n\treturn (\r\n\t\t<TradeHistory trades={trades} isLoading={isLoading} isLoaded={isLoaded} showSettled={true} />\r\n\t);\r\n};\r\n\r\nexport default connector(MyTrades);\r\n","import React, { FC, useState, useEffect, useMemo } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport snxJSConnector from 'utils/snxJSConnector';\r\nimport { TRANSACTION_STATUS } from 'constants/transaction';\r\n\r\nimport { DataSmall } from 'components/Typography';\r\n\r\nimport {\r\n\tgetPendingTransactions,\r\n\tgetTransactions,\r\n\tremovePendingTransaction,\r\n\tupdateTransaction,\r\n} from 'ducks/transaction';\r\nimport { getIsWalletConnected } from 'ducks/wallet/walletDetails';\r\n\r\nimport Card from 'components/Card';\r\n\r\nimport MyOrders from './myOrders';\r\nimport AllTrades from './AllTrades';\r\nimport MyTrades from './MyTrades';\r\nimport { RootState } from 'ducks/types';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\ttransactions: getTransactions(state),\r\n\tpendingTransactions: getPendingTransactions(state),\r\n\tisWalletConnected: getIsWalletConnected(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tupdateTransaction,\r\n\tremovePendingTransaction,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype OrderBookCardProps = PropsFromRedux;\r\n\r\nconst OrderBookCard: FC<OrderBookCardProps> = ({\r\n\tisWalletConnected,\r\n\tpendingTransactions,\r\n\ttransactions,\r\n\tremovePendingTransaction,\r\n\tupdateTransaction,\r\n}) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst tabContent = useMemo(\r\n\t\t() => [\r\n\t\t\t{\r\n\t\t\t\tname: t('trade.order-book-card.tabs.your-orders'),\r\n\t\t\t\tid: 'yourOrder',\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tcomponent: <MyOrders />,\r\n\t\t\t\tisDisabled: false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: t('trade.order-book-card.tabs.your-trades'),\r\n\t\t\t\tid: 'yourTrades',\r\n\t\t\t\tcomponent: <MyTrades />,\r\n\t\t\t\tisDisabled: !isWalletConnected,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: t('trade.order-book-card.tabs.all-trades'),\r\n\t\t\t\tid: 'allTrades',\r\n\t\t\t\tcomponent: <AllTrades />,\r\n\t\t\t\tisDisabled: false,\r\n\t\t\t},\r\n\t\t],\r\n\t\t[t, isWalletConnected]\r\n\t);\r\n\r\n\tconst [activeTab, setActiveTab] = useState(tabContent[0]);\r\n\r\n\t// TODO: Move this logic into Redux\r\n\tuseEffect(() => {\r\n\t\tconst handlePendingTransactions = async () => {\r\n\t\t\tconst {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tutils: { waitForTransaction },\r\n\t\t\t} = snxJSConnector;\r\n\t\t\ttry {\r\n\t\t\t\tif (pendingTransactions.length === 0) return;\r\n\t\t\t\tconst latestTransactionHash = pendingTransactions[pendingTransactions.length - 1];\r\n\t\t\t\tremovePendingTransaction(latestTransactionHash);\r\n\t\t\t\tconst status = await waitForTransaction(latestTransactionHash);\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst matchingTransaction = transactions.find((tx) => tx.hash === latestTransactionHash);\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tupdateTransaction({ status: TRANSACTION_STATUS.CONFIRMED }, matchingTransaction.id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateTransaction(\r\n\t\t\t\t\t\t{ status: TRANSACTION_STATUS.FAILED, error: 'Transaction failed' },\r\n\t\t\t\t\t\tmatchingTransaction.id\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t};\r\n\t\thandlePendingTransactions();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [pendingTransactions.length]);\r\n\r\n\treturn (\r\n\t\t<StyledCard>\r\n\t\t\t<StyledCardBody>\r\n\t\t\t\t<Tabs>\r\n\t\t\t\t\t{tabContent.map((tab) => (\r\n\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\tkey={tab.id}\r\n\t\t\t\t\t\t\tisDisabled={tab.isDisabled}\r\n\t\t\t\t\t\t\tonClick={() => setActiveTab(tab)}\r\n\t\t\t\t\t\t\tactive={tab.id === activeTab.id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DataSmall>{tab.name}</DataSmall>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t{activeTab.component}\r\n\t\t\t</StyledCardBody>\r\n\t\t</StyledCard>\r\n\t);\r\n};\r\n\r\nconst StyledCard = styled(Card)`\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n`;\r\n\r\nconst StyledCardBody = styled(Card.Body)`\r\n\tpadding: 0;\r\n\tflex-grow: 1;\r\n\toverflow: hidden;\r\n\tposition: initial;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`;\r\n\r\nconst Tabs = styled.div`\r\n\tdisplay: flex;\r\n`;\r\n\r\nconst Tab = styled.button<{ isDisabled: boolean; active: boolean }>`\r\n\tmin-width: 134px;\r\n\theight: 42px;\r\n\tpadding: 0 18px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\toutline: none;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n\tbackground-color: ${(props) =>\r\n\t\tprops.active ? props.theme.colors.surfaceL3 : props.theme.colors.surfaceL2};\r\n\t&:hover {\r\n\t\tbackground-color: ${(props) => props.theme.colors.surfaceL3};\r\n\t}\r\n\t${(props) =>\r\n\t\tprops.isDisabled &&\r\n\t\tcss`\r\n\t\t\topacity: 0.2;\r\n\t\t\tpointer-events: none;\r\n\t\t`}\r\n`;\r\n\r\nexport default connector(OrderBookCard);\r\n","import React, { FC } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getBlurBackgroundIsVisible } from 'ducks/ui';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { Z_INDEX } from 'constants/ui';\r\nimport { RootState } from 'ducks/types';\r\n\r\ntype StateProps = {\r\n\tblurBackgroundIsVisible: boolean;\r\n};\r\n\r\ntype BlurBackgroundProps = StateProps;\r\n\r\nconst BlurBackground: FC<BlurBackgroundProps> = ({ blurBackgroundIsVisible }) => (\r\n\t<Blur isVisible={blurBackgroundIsVisible} />\r\n);\r\n\r\nconst keyf = keyframes`\r\nfrom {\r\n\tbackdrop-filter: blur(0px);\r\n\topacity: 0;\r\n}\r\nto {\r\n\tbackdrop-filter: blur(5px);\r\n\topacity: 0.6\r\n}\r\n`;\r\n\r\nconst isBlurred = css`\r\n\tanimation: ${keyf} 0.1s linear forwards;\r\n`;\r\n\r\nconst Blur = styled.div<{ isVisible: boolean }>`\r\n\tbackdrop-filter: blur(0px);\r\n\tpointer-events: none;\r\n\tposition: absolute;\r\n\tz-index: ${Z_INDEX.BLUR_MODAL};\r\n\topacity: 0;\r\n\tbottom: 0;\r\n\ttop: 54px;\r\n\twidth: 100%;\r\n\tbackground: ${(props) => props.theme.colors.surfaceL1};\r\n\t${(props) => props.isVisible && isBlurred}\r\n`;\r\n\r\nconst mapStateToProps = (state: RootState): StateProps => ({\r\n\tblurBackgroundIsVisible: getBlurBackgroundIsVisible(state),\r\n});\r\n\r\nexport default connect<StateProps, {}, {}, RootState>(mapStateToProps)(BlurBackground);\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { CenteredPageLayout, SectionVerticalSpacer, FlexDiv } from 'shared/commonStyles';\r\n\r\nimport { RootState } from 'ducks/types';\r\n\r\nimport { CurrencyKey, getMarketPairByMC } from 'constants/currency';\r\nimport { navigateToTrade } from 'constants/routes';\r\nimport { CREATE_ORDER_CARD_WIDTH } from 'constants/ui';\r\n\r\nimport Spinner from 'components/Spinner';\r\n\r\nimport ChartCard from './components/ChartCard';\r\nimport CreateOrderCard from './components/CreateOrderCard';\r\nimport OrderBookCard from './components/OrderBookCard';\r\nimport BlurBackground from './components/BlurBackground';\r\n\r\nimport { getSynthPair, setSynthPair, getAvailableSynthsMap } from 'ducks/synths';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tsynthPair: getSynthPair(state),\r\n\tsynthsMap: getAvailableSynthsMap(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tsetSynthPair,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\ntype TradeProps = PropsFromRedux &\r\n\tRouteComponentProps<{\r\n\t\tbaseCurrencyKey: CurrencyKey;\r\n\t\tquoteCurrencyKey: CurrencyKey;\r\n\t}>;\r\n\r\nconst Trade: FC<TradeProps> = ({ match, setSynthPair, synthPair, synthsMap }) => {\r\n\tconst [isReady, setIsReady] = useState<boolean>(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { params } = match;\r\n\r\n\t\tif (\r\n\t\t\tparams &&\r\n\t\t\tparams.baseCurrencyKey &&\r\n\t\t\tparams.quoteCurrencyKey &&\r\n\t\t\tsynthsMap[params.baseCurrencyKey] &&\r\n\t\t\tsynthsMap[params.quoteCurrencyKey]\r\n\t\t) {\r\n\t\t\tconst { base, quote, reversed } = getMarketPairByMC(\r\n\t\t\t\tparams.baseCurrencyKey,\r\n\t\t\t\tparams.quoteCurrencyKey\r\n\t\t\t);\r\n\r\n\t\t\tsetSynthPair({\r\n\t\t\t\tbaseCurrencyKey: base,\r\n\t\t\t\tquoteCurrencyKey: quote,\r\n\t\t\t\tisPairReversed: reversed,\r\n\t\t\t});\r\n\r\n\t\t\tsetIsReady(true);\r\n\t\t} else {\r\n\t\t\tnavigateToTrade(synthPair.base.name, synthPair.quote.name, true);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [match, setSynthPair]);\r\n\r\n\tif (!isReady) {\r\n\t\treturn <Spinner size=\"sm\" centered={true} />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<BlurBackground />\r\n\t\t\t<CenteredPageLayout>\r\n\t\t\t\t<TradeContainer>\r\n\t\t\t\t\t<RowContainer>\r\n\t\t\t\t\t\t<ChartContainer>\r\n\t\t\t\t\t\t\t<ChartCard />\r\n\t\t\t\t\t\t</ChartContainer>\r\n\t\t\t\t\t\t<CreateOrderContainer>\r\n\t\t\t\t\t\t\t<CreateOrderCard />\r\n\t\t\t\t\t\t</CreateOrderContainer>\r\n\t\t\t\t\t</RowContainer>\r\n\t\t\t\t\t<SectionVerticalSpacer />\r\n\t\t\t\t\t<OrderBookCard />\r\n\t\t\t\t</TradeContainer>\r\n\t\t\t</CenteredPageLayout>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nconst Container = styled.div`\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n`;\r\nconst RowContainer = styled(FlexDiv)`\r\n\twidth: 100%;\r\n`;\r\nconst TradeContainer = styled.div`\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n`;\r\nconst ChartContainer = styled.div`\r\n\tflex: 1;\r\n`;\r\nconst CreateOrderContainer = styled.div`\r\n\twidth: ${CREATE_ORDER_CARD_WIDTH};\r\n\tmargin-left: 8px;\r\n`;\r\n\r\nexport default connector(Trade);\r\n"],"sourceRoot":""}